(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{4464:function(e,t,r){"use strict";var n,i;r.d(t,{u:function(){return n}}),(i=n||(n={}))[i.SysFatal=1]="SysFatal",i[i.SysTransient=2]="SysTransient",i[i.DestinationInvalid=3]="DestinationInvalid",i[i.CanisterReject=4]="CanisterReject",i[i.CanisterError=5]="CanisterError"},2663:function(e,t,r){"use strict";r.d(t,{p:function(){return i}});var n=r(2982);class i extends n.e${constructor(e,t){super(e),this.response=t,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}},4610:function(e,t,r){"use strict";r.d(t,{ZM:function(){return p.ZM},t_:function(){return m},bN:function(){return d}}),r(1263),r(2982),r(3936),r(8010),r(5864);var n,i,o,s,a,u,f,c,l,h,d,p=r(8486);r(8151),r(2663),r(8610),r(3608),new WeakMap,new WeakMap,r(5035),r(7826);var y=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},g=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class b{constructor(e=b.default){i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),u.set(this,void 0),f.set(this,void 0),c.set(this,void 0),l.set(this,void 0),h.set(this,0);let{initialInterval:t=500,randomizationFactor:r=.5,multiplier:n=1.5,maxInterval:d=6e4,maxElapsedTime:p=9e5,maxIterations:g=10,date:m=Date}=e;y(this,i,t,"f"),y(this,o,r,"f"),y(this,s,n,"f"),y(this,a,d,"f"),y(this,l,m,"f"),y(this,u,m.now(),"f"),y(this,f,p,"f"),y(this,c,g,"f")}get ellapsedTimeInMsec(){return g(this,l,"f").now()-g(this,u,"f")}get currentInterval(){return g(this,i,"f")}get count(){return g(this,h,"f")}get randomValueFromInterval(){let e=g(this,o,"f")*g(this,i,"f"),t=g(this,i,"f")-e;return Math.random()*(g(this,i,"f")+e-t)+t}incrementCurrentInterval(){var e;return y(this,i,Math.min(g(this,i,"f")*g(this,s,"f"),g(this,a,"f")),"f"),y(this,h,(e=g(this,h,"f"),++e),"f"),g(this,i,"f")}next(){return this.ellapsedTimeInMsec>=g(this,f,"f")||g(this,h,"f")>=g(this,c,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,f=new WeakMap,c=new WeakMap,l=new WeakMap,h=new WeakMap,b.default={initialInterval:500,randomizationFactor:.5,multiplier:1.5,maxInterval:6e4,maxElapsedTime:9e5,maxIterations:10,date:Date},(n=d||(d={})).Received="received",n.Processing="processing",n.Replied="replied",n.Rejected="rejected",n.Unknown="unknown",n.Done="done";let m="aaaaa-aa";new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakSet},8486:function(e,t,r){"use strict";r.d(t,{ZM:function(){return s},lS:function(){return a}});var n=r(4860),i=r(8727);r(8151);let o=BigInt(1e6);class s{constructor(e){if(e<9e4){let t=BigInt(Date.now()+e)*o/BigInt(1e9);this._value=t*BigInt(1e9);return}let t=BigInt(Math.floor(Date.now()+e-6e4))*o/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=t}toCBOR(){return i.value.u64(this._value.toString(16),16)}toHash(){return(0,n.dZ)(this._value)}}function a(e){let t=[];return e.forEach((e,r)=>{t.push([r,e])}),t}},8151:function(e,t,r){"use strict";var n;(n||(n={})).Call="call"},9167:function(e,t,r){"use strict";r.d(t,{ZM:function(){return s.ZM},t_:function(){return s.t_},ur:function(){return o.u},bN:function(){return s.bN},us:function(){return a}});var n,i,o=r(4464),s=r(4610);function a(){let e="undefined"==typeof window?void 0===r.g?"undefined"==typeof self?void 0:self.ic.agent:r.g.ic.agent:window.ic.agent;if(!e)throw Error("No Agent could be found.");return e}r(2663),r(1263),(n=i||(i={})).Error="err",n.GetPrincipal="gp",n.GetPrincipalResponse="gpr",n.Query="q",n.QueryResponse="qr",n.Call="c",n.CallResponse="cr",n.ReadState="rs",n.ReadStateResponse="rsr",n.Status="s",n.StatusResponse="sr"},3936:function(e,t,r){"use strict";r.d(t,{$4:function(){return u},ed:function(){return f}});var n=r(1263),i=r(5864),o=r(2884),s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let a=new TextEncoder().encode("\nic-request");class u{getPrincipal(){return this._principal||(this._principal=n.R.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){let{body:t}=e,r=s(e,["body"]),n=await (0,i.vH)(t);return Object.assign(Object.assign({},r),{body:{content:t,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign((0,o.zo)(a,n))}})}}class f{getPrincipal(){return n.R.anonymous()}async transformRequest(e){return Object.assign(Object.assign({},e),{body:{content:e.body}})}}},8610:function(e,t,r){"use strict";r.r(t),r.d(t,{CustomPath:function(){return f},encodePath:function(){return h},fetchNodeKeys:function(){return l},request:function(){return c}});var n=r(1263),i=r(2982),o=r(3608),s=r(2884),a=r(8010),u=r(7826);class f{constructor(e,t,r){this.key=e,this.path=t,this.decodeStrategy=r}}let c=async e=>{let{agent:t,paths:r}=e,s=n.R.from(e.canisterId),a=[...new Set(r)],f=a.map(e=>h(e,s)),c=new Map,b=a.map((e,r)=>(async()=>{var n;try{let e=await t.readState(s,{paths:[f[r]]}),n=await o.KB.create({certificate:e.certificate,rootKey:t.rootKey,canisterId:s}),{path:i,data:b}=((r,n)=>{if("subnet"!==n)return{path:n,data:(0,o.ti)(r.lookup(h(n,s)))};{let r=l(e.certificate,s,t.rootKey);return{path:n,data:r}}})(n,a[r]);if(b)switch(i){case"time":c.set(i,(0,u.b)(b));break;case"controllers":c.set(i,g(b));break;case"module_hash":c.set(i,d(b));break;case"subnet":c.set(i,b);break;case"candid":c.set(i,new TextDecoder().decode(b));break;default:if("string"!=typeof i&&"key"in i&&"path"in i)switch(i.decodeStrategy){case"raw":c.set(i.key,b);break;case"leb128":c.set(i.key,(0,u.o)(b));break;case"cbor":c.set(i.key,p(b));break;case"hex":c.set(i.key,d(b));break;case"utf-8":c.set(i.key,y(b))}}else console.warn(`Expected to find result for path ${i}, but instead found nothing.`),"string"==typeof i?c.set(i,null):c.set(i.key,null)}catch(t){if(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.includes("Invalid certificate"))throw new i.e$(t.message);"string"!=typeof e&&"key"in e&&"path"in e?c.set(e.key,null):c.set(e,null),console.group(),console.warn(`Expected to find result for path ${e}, but instead found nothing.`),console.warn(t),console.groupEnd()}})());return await Promise.all(b),c},l=(e,t,r)=>{let i;if(!t._isPrincipal)throw Error("Invalid canisterId");let s=a.Jx(new Uint8Array(e)),u=s.tree,f=s.delegation;if(f&&f.subnet_id?i=n.R.fromUint8Array(new Uint8Array(f.subnet_id)):f=f||void 0===r?{subnet_id:(i=n.R.selfAuthenticating(n.R.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array())).toUint8Array(),certificate:new ArrayBuffer(0)}:{subnet_id:(i=n.R.selfAuthenticating(new Uint8Array(r))).toUint8Array(),certificate:new ArrayBuffer(0)},!(0,o.Gt)({canisterId:t,subnetId:i,tree:u}))throw Error("Canister not in range");let c=(0,o.OZ)(["subnet",f.subnet_id,"node"],u);if(c.status!==o.GT.Found)throw Error("Node not found");if(c.value instanceof ArrayBuffer)throw Error("Invalid node tree");let l=(0,o.UV)(c.value),h=new Map;return l.forEach(e=>{let t=n.R.from(new Uint8Array(e[1])).toText(),r=(0,o.OZ)(["public_key"],e[2]);if(r.status!==o.GT.Found)throw Error("Public key not found");let i=r.value;if(44!==i.byteLength)throw Error("Invalid public key length");h.set(t,i)}),{subnetId:n.R.fromUint8Array(new Uint8Array(f.subnet_id)).toText(),nodeKeys:h}},h=(e,t)=>{let r=new TextEncoder,n=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":let i;return[(i="time",new DataView(r.encode(i).buffer).buffer)];case"controllers":let o,s;return[(o="canister",new DataView(r.encode(o).buffer).buffer),n,(s="controllers",new DataView(r.encode(s).buffer).buffer)];case"module_hash":let a,u;return[(a="canister",new DataView(r.encode(a).buffer).buffer),n,(u="module_hash",new DataView(r.encode(u).buffer).buffer)];case"subnet":let f;return[(f="subnet",new DataView(r.encode(f).buffer).buffer)];case"candid":let c,l,h;return[(c="canister",new DataView(r.encode(c).buffer).buffer),n,(l="metadata",new DataView(r.encode(l).buffer).buffer),(h="candid:service",new DataView(r.encode(h).buffer).buffer)];default:if("key"in e&&"path"in e){if(!("string"==typeof e.path||e.path instanceof ArrayBuffer))return e.path;{let t,i;let o=e.path,s="string"==typeof o?new DataView(r.encode(o).buffer).buffer:o;return[(t="canister",new DataView(r.encode(t).buffer).buffer),n,(i="metadata",new DataView(r.encode(i).buffer).buffer),s]}}}throw Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},d=e=>(0,s.NC)(e),p=e=>a.Jx(e),y=e=>new TextDecoder().decode(e),g=e=>p(e).map(e=>n.R.fromUint8Array(new Uint8Array(e)))},8010:function(e,t,r){"use strict";r.d(t,{Jx:function(){return p}});var n,i,o=r(2851),s=r(8727),a=r(2884);class u{get name(){return"Principal"}get priority(){return 0}match(e){return e&&!0===e._isPrincipal}encode(e){return s.value.bytes(e.toUint8Array())}}class f{get name(){return"Buffer"}get priority(){return 1}match(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}encode(e){return s.value.bytes(new Uint8Array(e))}}class c{get name(){return"BigInt"}get priority(){return 1}match(e){return"bigint"==typeof e}encode(e){return e>BigInt(0)?s.value.tagged(2,s.value.bytes((0,a.H_)(e.toString(16)))):s.value.tagged(3,s.value.bytes((0,a.H_)((BigInt("-1")*e).toString(16))))}}let l=s.SelfDescribeCborSerializer.withDefaultEncoders(!0);function h(e){let t=e.byteLength,r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}l.addEncoder(new u),l.addEncoder(new f),l.addEncoder(new c),(n=i||(i={}))[n.Uint64LittleEndian=71]="Uint64LittleEndian",n[n.Semantic=55799]="Semantic";class d extends o.Decoder{createByteString(e){return(0,a.zo)(...e)}createByteStringFromHeap(e,t){return e===t?new ArrayBuffer(0):new Uint8Array(this._heap.slice(e,t))}}function p(e){let t=new Uint8Array(e),r=new d({size:t.byteLength,tags:{2:e=>h(e),3:e=>-h(e),[i.Semantic]:e=>e}});try{return r.decodeFirst(t)}catch(e){throw Error(`Failed to decode CBOR: ${e}, input: ${(0,a.NC)(t)}`)}}},3608:function(e,t,r){"use strict";r.d(t,{KB:function(){return ew},GT:function(){return a},Gt:function(){return eI},UV:function(){return function e(t){switch(t[0]){case s.Empty:return[];case s.Fork:return e(t[1]).concat(e(t[2]));default:return[t]}}},ti:function(){return eE},OZ:function(){return eA}});var n,i,o,s,a,u,f=r(8010),c=r(2982),l=r(5864),h=r(2884),d=r(1263),p=r(5615),y=r(9274),g=r(7088),b=r(6846);let m=b.bytesToNumberBE;function w(e,t){if(v(e),v(t),e<0||e>=1<<8*t)throw Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function v(e){if(!Number.isSafeInteger(e))throw Error("number expected")}function E(e,t,r){let n;(0,b.FF)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:i,k:o,m:s,hash:a,expand:u,DST:f}=r;(0,b.gk)(e),v(t);let c="string"==typeof f?(0,b.iY)(f):f,l=Math.ceil((i.toString(2).length+o)/8),h=t*s*l;if("xmd"===u)n=function(e,t,r,n){(0,b.gk)(e),(0,b.gk)(t),v(r),t.length>255&&(t=n((0,b.eV)((0,b.iY)("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:o}=n,s=Math.ceil(r/i);if(r>65535||s>255)throw Error("expand_message_xmd: invalid lenInBytes");let a=(0,b.eV)(t,w(t.length,1)),u=w(0,o),f=w(r,2),c=Array(s),l=n((0,b.eV)(u,e,f,w(0,1),a));c[0]=n((0,b.eV)(l,w(1,1),a));for(let e=1;e<=s;e++){let t=[function(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}(l,c[e-1]),w(e+1,1),a];c[e]=n((0,b.eV)(...t))}return(0,b.eV)(...c).slice(0,r)}(e,c,h,a);else if("xof"===u)n=function(e,t,r,n,i){if((0,b.gk)(e),(0,b.gk)(t),v(r),t.length>255&&(t=i.create({dkLen:Math.ceil(2*n/8)}).update((0,b.iY)("H2C-OVERSIZE-DST-")).update(t).digest()),r>65535||t.length>255)throw Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(w(r,2)).update(t).update(w(t.length,1)).digest()}(e,c,h,o,a);else if("_internal_pass"===u)n=e;else throw Error('expand must be "xmd" or "xof"');let d=Array(t);for(let e=0;e<t;e++){let t=Array(s);for(let r=0;r<s;r++){let o=l*(r+e*s),a=n.subarray(o,o+l);t[r]=(0,g.wQ)(m(a),i)}d[e]=t}return d}function _(e,t){let r=t.map(e=>Array.from(e).reverse());return(t,n)=>{let[i,o,s,a]=r.map(r=>r.reduce((r,n)=>e.add(e.mul(r,t),n)));return t=e.div(i,o),n=e.mul(n,e.div(s,a)),{x:t,y:n}}}function B(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined");return{hashToCurve(n,i){let o=E(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),u=s.add(a).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let o=E(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(r){if(!Array.isArray(r))throw Error("mapToCurve: expected array of bigints");for(let e of r)if("bigint"!=typeof e)throw Error("mapToCurve: expected array of bigints");let n=e.fromAffine(t(r)).clearCofactor();return n.assertValidity(),n}}}var A=r(3374);let{bytesToNumberBE:I,hexToBytes:x}=b,S=BigInt(0),T=BigInt(1),N=BigInt(2),O=BigInt(3),U=BigInt(4);function R(e){let t=function(e){let t=(0,A.Kd)(e);b.FF(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=g.gN(t.n,t.nBitLength),i=t.toBytes||((e,t,n)=>{let i=t.toAffine();return b.eV(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),o=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function a(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=t;if(n&&"bigint"!=typeof e){if(b._t(e)&&(e=b.ci(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:b.bytesToNumberBE((0,b.ql)("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(r=g.wQ(r,s)),b.Fy("private key",r,T,s),r}function u(e){if(!(e instanceof l))throw Error("ProjectivePoint expected")}let f=(0,b.H9)((e,t)=>{let{px:n,py:i,pz:o}=e;if(r.eql(o,r.ONE))return{x:n,y:i};let s=e.is0();null==t&&(t=s?r.ONE:r.inv(o));let a=r.mul(n,t),u=r.mul(i,t),f=r.mul(o,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(f,r.ONE))throw Error("invZ was invalid");return{x:a,y:u}}),c=(0,b.H9)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw Error("bad point: ZERO")}let{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw Error("bad point: x or y not FE");let o=r.sqr(i),a=s(n);if(!r.eql(o,a))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class l{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required");Object.freeze(this)}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof l)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?l.ZERO:new l(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(l.fromAffine)}static fromHex(e){let t=l.fromAffine(o((0,b.ql)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return l.BASE.multiply(a(e))}static msm(e,t){return(0,A.D1)(l,n,e,t)}_setWindowSize(e){d.setWindowSize(this,e)}assertValidity(){c(this)}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){u(e);let{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,f=r.eql(r.mul(t,a),r.mul(o,i)),c=r.eql(r.mul(n,a),r.mul(s,i));return f&&c}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,O),{px:o,py:s,pz:a}=this,u=r.ZERO,f=r.ZERO,c=r.ZERO,h=r.mul(o,o),d=r.mul(s,s),p=r.mul(a,a),y=r.mul(o,s);return y=r.add(y,y),c=r.mul(o,a),c=r.add(c,c),u=r.mul(e,c),f=r.mul(i,p),f=r.add(u,f),u=r.sub(d,f),f=r.add(d,f),f=r.mul(u,f),u=r.mul(y,u),c=r.mul(i,c),p=r.mul(e,p),y=r.sub(h,p),y=r.mul(e,y),y=r.add(y,c),c=r.add(h,h),h=r.add(c,h),h=r.add(h,p),h=r.mul(h,y),f=r.add(f,h),p=r.mul(s,a),p=r.add(p,p),h=r.mul(p,y),u=r.sub(u,h),c=r.mul(p,d),c=r.add(c,c),new l(u,f,c=r.add(c,c))}add(e){u(e);let{px:n,py:i,pz:o}=this,{px:s,py:a,pz:f}=e,c=r.ZERO,h=r.ZERO,d=r.ZERO,p=t.a,y=r.mul(t.b,O),g=r.mul(n,s),b=r.mul(i,a),m=r.mul(o,f),w=r.add(n,i),v=r.add(s,a);w=r.mul(w,v),v=r.add(g,b),w=r.sub(w,v),v=r.add(n,o);let E=r.add(s,f);return v=r.mul(v,E),E=r.add(g,m),v=r.sub(v,E),E=r.add(i,o),c=r.add(a,f),E=r.mul(E,c),c=r.add(b,m),E=r.sub(E,c),d=r.mul(p,v),c=r.mul(y,m),d=r.add(c,d),c=r.sub(b,d),d=r.add(b,d),h=r.mul(c,d),b=r.add(g,g),b=r.add(b,g),m=r.mul(p,m),v=r.mul(y,v),b=r.add(b,m),m=r.sub(g,m),m=r.mul(p,m),v=r.add(v,m),g=r.mul(b,v),h=r.add(h,g),g=r.mul(E,v),c=r.mul(w,c),c=r.sub(c,g),g=r.mul(w,b),d=r.mul(E,d),new l(c,h,d=r.add(d,g))}subtract(e){return this.add(e.negate())}is0(){return this.equals(l.ZERO)}wNAF(e){return d.wNAFCached(this,e,l.normalizeZ)}multiplyUnsafe(e){let{endo:n,n:i}=t;b.Fy("scalar",e,S,i);let o=l.ZERO;if(e===S)return o;if(this.is0()||e===T)return this;if(!n||d.hasPrecomputes(this))return d.wNAFCachedUnsafe(this,e,l.normalizeZ);let{k1neg:s,k1:a,k2neg:u,k2:f}=n.splitScalar(e),c=o,h=o,p=this;for(;a>S||f>S;)a&T&&(c=c.add(p)),f&T&&(h=h.add(p)),p=p.double(),a>>=T,f>>=T;return s&&(c=c.negate()),u&&(h=h.negate()),h=new l(r.mul(h.px,n.beta),h.py,h.pz),c.add(h)}multiply(e){let n,i;let{endo:o,n:s}=t;if(b.Fy("scalar",e,T,s),o){let{k1neg:t,k1:s,k2neg:a,k2:u}=o.splitScalar(e),{p:f,f:c}=this.wNAF(s),{p:h,f:p}=this.wNAF(u);f=d.constTimeNegate(t,f),h=d.constTimeNegate(a,h),h=new l(r.mul(h.px,o.beta),h.py,h.pz),n=f.add(h),i=c.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return l.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=l.BASE,i=(e,t)=>t!==S&&t!==T&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return f(this,e)}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===T)return!0;if(r)return r(l,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===T?this:r?r(l,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return(0,b.uw)("isCompressed",e),this.assertValidity(),i(l,this,e)}toHex(e=!0){return(0,b.uw)("isCompressed",e),b.ci(this.toRawBytes(e))}}l.BASE=new l(t.Gx,t.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);let h=t.nBitLength,d=(0,A.Mx)(l,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:function(e){return b.Z2(e,T,t.n)}}}function L(e,t){if(g.OP(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(e,t){let r=e.ORDER,n=S;for(let e=r-T;e%N===S;e/=N)n+=T;let i=n,o=N<<i-T-T,s=o*N,a=(r-T)/s,u=(a-T)/N,f=s-T,c=e.pow(t,a),l=e.pow(t,(a+T)/N),h=(t,r)=>{let n=c,s=e.pow(r,f),a=e.sqr(s);a=e.mul(a,r);let h=e.mul(t,a);h=e.pow(h,u),h=e.mul(h,s),s=e.mul(h,r),a=e.mul(h,t);let d=e.mul(a,s);h=e.pow(d,o);let p=e.eql(h,e.ONE);s=e.mul(a,l),h=e.mul(d,n),a=e.cmov(s,a,p),d=e.cmov(h,d,p);for(let t=i;t>T;t--){let r=t-N;r=N<<r-T;let i=e.pow(d,r),o=e.eql(i,e.ONE);s=e.mul(a,n),n=e.mul(n,n),i=e.mul(d,n),a=e.cmov(s,a,o),d=e.cmov(i,d,o)}return{isValid:p,value:a}};if(e.ORDER%U===O){let r=(e.ORDER-O)/U,n=e.sqrt(e.neg(t));h=(t,i)=>{let o=e.sqr(i),s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,r);a=e.mul(a,s);let u=e.mul(a,n),f=e.mul(e.sqr(a),i),c=e.eql(f,t),l=e.cmov(u,a,c);return{isValid:c,value:l}}}return h}(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let i,o,s,a,u,f,c,l;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),f=e.sqr(a),u=e.mul(f,t.A),o=e.add(o,u),o=e.mul(o,s),f=e.mul(f,a),u=e.mul(f,t.B),o=e.add(o,u),c=e.mul(i,s);let{isValid:h,value:d}=r(o,f);l=e.mul(i,n),l=e.mul(l,d),c=e.cmov(c,s,h),l=e.cmov(l,d,h);let p=e.isOdd(n)===e.isOdd(l);return l=e.cmov(e.neg(l),l,p),{x:c=e.div(c,a),y:l}}}let P=BigInt(0),F=BigInt(1),D=BigInt(2),k=BigInt(3),M=BigInt(0),C=BigInt(1),j=BigInt(2),V=BigInt(3);function $(e,t,r,n,i=1,o){let s=BigInt(void 0===o?n:o),a=r**BigInt(n),u=[];for(let o=0;o<i;o++){let i=BigInt(o+1),f=[];for(let o=0,u=C;o<n;o++){let n=(i*u-i)/s%a;f.push(e.pow(t,n)),u*=r}u.push(f)}return u}let q=BigInt(0),z=BigInt(1),G=BigInt(2),H=BigInt(3),K=BigInt(4),Z=BigInt("0xd201000000010000"),W=(0,b.Dd)(Z),{Fp:Y,Fp2:J,Fp6:Q,Fp4Square:X,Fp12:ee}=function(e){let{ORDER:t}=e,r=g.gN(t),n=r.create(e.NONRESIDUE||BigInt(-1)),i=g.IN(t),o=r.div(r.ONE,j),s=$(r,n,r.ORDER,2)[0],a=({c0:e,c1:t},{c0:n,c1:i})=>({c0:r.add(e,n),c1:r.add(t,i)}),u=({c0:e,c1:t},{c0:n,c1:i})=>({c0:r.sub(e,n),c1:r.sub(t,i)}),f=({c0:e,c1:t},n)=>{if("bigint"==typeof n)return{c0:r.mul(e,n),c1:r.mul(t,n)};let{c0:i,c1:o}=n,s=r.mul(e,i),a=r.mul(t,o);return{c0:r.sub(s,a),c1:r.sub(r.mul(r.add(e,t),r.add(i,o)),r.add(s,a))}},c=({c0:e,c1:t})=>{let n=r.add(e,t),i=r.sub(e,t),o=r.add(e,e);return{c0:r.mul(n,i),c1:r.mul(o,t)}},l=e=>{if(2!==e.length)throw Error("invalid tuple");let t=e.map(e=>r.create(e));return{c0:t[0],c1:t[1]}},h=t*t,d=l(e.FP2_NONRESIDUE),p={ORDER:h,NONRESIDUE:d,BITS:(0,b.Dd)(h),BYTES:Math.ceil((0,b.Dd)(h)/8),MASK:(0,b.dQ)((0,b.Dd)(h)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>"bigint"==typeof e&&"bigint"==typeof t,is0:({c0:e,c1:t})=>r.is0(e)&&r.is0(t),eql:({c0:e,c1:t},{c0:n,c1:i})=>r.eql(e,n)&&r.eql(t,i),neg:({c0:e,c1:t})=>({c0:r.neg(e),c1:r.neg(t)}),pow:(e,t)=>g.Q(p,e,t),invertBatch:e=>g.Eg(p,e),add:a,sub:u,mul:f,sqr:c,addN:a,subN:u,mulN:f,sqrN:c,div:(e,t)=>p.mul(e,"bigint"==typeof t?r.inv(r.create(t)):p.inv(t)),inv:({c0:e,c1:t})=>{let n=r.inv(r.create(e*e+t*t));return{c0:r.mul(n,r.create(e)),c1:r.mul(n,r.create(-t))}},sqrt:t=>{if(e.Fp2sqrt)return e.Fp2sqrt(t);let{c0:s,c1:a}=t;if(r.is0(a))return r.eql(i(r,s),r.ONE)?p.create({c0:r.sqrt(s),c1:r.ZERO}):p.create({c0:r.ZERO,c1:r.sqrt(r.div(s,n))});let u=r.sqrt(r.sub(r.sqr(s),r.mul(r.sqr(a),n))),f=r.mul(r.add(u,s),o),c=i(r,f);r.is0(c)||r.eql(c,r.ONE)||(f=r.sub(f,u));let l=r.sqrt(f),h=p.create({c0:l,c1:r.div(r.mul(a,o),l)});if(!p.eql(p.sqr(h),t))throw Error("Cannot find square root");let d=p.neg(h),{re:y,im:g}=p.reim(h),{re:b,im:m}=p.reim(d);return g>m||g===m&&y>b?h:d},isOdd:e=>{let{re:t,im:r}=p.reim(e),n=t%j,i=r%j;return BigInt(n||t===M&&i)==C},fromBytes(e){if(e.length!==p.BYTES)throw Error("fromBytes invalid length="+e.length);return{c0:r.fromBytes(e.subarray(0,r.BYTES)),c1:r.fromBytes(e.subarray(r.BYTES))}},toBytes:({c0:e,c1:t})=>(0,b.eV)(r.toBytes(e),r.toBytes(t)),cmov:({c0:e,c1:t},{c0:n,c1:i},o)=>({c0:r.cmov(e,n,o),c1:r.cmov(t,i,o)}),reim:({c0:e,c1:t})=>({re:e,im:t}),mulByNonresidue:({c0:e,c1:t})=>p.mul({c0:e,c1:t},d),mulByB:e.Fp2mulByB,fromBigTuple:l,frobeniusMap:({c0:e,c1:t},n)=>({c0:e,c1:r.mul(t,s[n%2])})},y=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:o})=>({c0:p.add(e,n),c1:p.add(t,i),c2:p.add(r,o)}),m=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:o})=>({c0:p.sub(e,n),c1:p.sub(t,i),c2:p.sub(r,o)}),w=({c0:e,c1:t,c2:r},n)=>{if("bigint"==typeof n)return{c0:p.mul(e,n),c1:p.mul(t,n),c2:p.mul(r,n)};let{c0:i,c1:o,c2:s}=n,a=p.mul(e,i),u=p.mul(t,o),f=p.mul(r,s);return{c0:p.add(a,p.mulByNonresidue(p.sub(p.mul(p.add(t,r),p.add(o,s)),p.add(u,f)))),c1:p.add(p.sub(p.mul(p.add(e,t),p.add(i,o)),p.add(a,u)),p.mulByNonresidue(f)),c2:p.sub(p.add(u,p.mul(p.add(e,r),p.add(i,s))),p.add(a,f))}},v=({c0:e,c1:t,c2:r})=>{let n=p.sqr(e),i=p.mul(p.mul(e,t),j),o=p.mul(p.mul(t,r),j),s=p.sqr(r);return{c0:p.add(p.mulByNonresidue(o),n),c1:p.add(p.mulByNonresidue(s),i),c2:p.sub(p.sub(p.add(p.add(i,p.sqr(p.add(p.sub(e,t),r))),o),n),s)}},[E,_]=$(p,d,r.ORDER,6,2,3),B={ORDER:p.ORDER,BITS:3*p.BITS,BYTES:3*p.BYTES,MASK:(0,b.dQ)(3*p.BITS),ZERO:{c0:p.ZERO,c1:p.ZERO,c2:p.ZERO},ONE:{c0:p.ONE,c1:p.ZERO,c2:p.ZERO},create:e=>e,isValid:({c0:e,c1:t,c2:r})=>p.isValid(e)&&p.isValid(t)&&p.isValid(r),is0:({c0:e,c1:t,c2:r})=>p.is0(e)&&p.is0(t)&&p.is0(r),neg:({c0:e,c1:t,c2:r})=>({c0:p.neg(e),c1:p.neg(t),c2:p.neg(r)}),eql:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:o})=>p.eql(e,n)&&p.eql(t,i)&&p.eql(r,o),sqrt:b.EQ,div:(e,t)=>B.mul(e,"bigint"==typeof t?r.inv(r.create(t)):B.inv(t)),pow:(e,t)=>g.Q(B,e,t),invertBatch:e=>g.Eg(B,e),add:y,sub:m,mul:w,sqr:v,addN:y,subN:m,mulN:w,sqrN:v,inv:({c0:e,c1:t,c2:r})=>{let n=p.sub(p.sqr(e),p.mulByNonresidue(p.mul(r,t))),i=p.sub(p.mulByNonresidue(p.sqr(r)),p.mul(e,t)),o=p.sub(p.sqr(t),p.mul(e,r)),s=p.inv(p.add(p.mulByNonresidue(p.add(p.mul(r,i),p.mul(t,o))),p.mul(e,n)));return{c0:p.mul(s,n),c1:p.mul(s,i),c2:p.mul(s,o)}},fromBytes:e=>{if(e.length!==B.BYTES)throw Error("fromBytes invalid length="+e.length);return{c0:p.fromBytes(e.subarray(0,p.BYTES)),c1:p.fromBytes(e.subarray(p.BYTES,2*p.BYTES)),c2:p.fromBytes(e.subarray(2*p.BYTES))}},toBytes:({c0:e,c1:t,c2:r})=>(0,b.eV)(p.toBytes(e),p.toBytes(t),p.toBytes(r)),cmov:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:o},s)=>({c0:p.cmov(e,n,s),c1:p.cmov(t,i,s),c2:p.cmov(r,o,s)}),fromBigSix:e=>{if(!Array.isArray(e)||6!==e.length)throw Error("invalid Fp6 usage");return{c0:p.fromBigTuple(e.slice(0,2)),c1:p.fromBigTuple(e.slice(2,4)),c2:p.fromBigTuple(e.slice(4,6))}},frobeniusMap:({c0:e,c1:t,c2:r},n)=>({c0:p.frobeniusMap(e,n),c1:p.mul(p.frobeniusMap(t,n),E[n%6]),c2:p.mul(p.frobeniusMap(r,n),_[n%6])}),mulByFp2:({c0:e,c1:t,c2:r},n)=>({c0:p.mul(e,n),c1:p.mul(t,n),c2:p.mul(r,n)}),mulByNonresidue:({c0:e,c1:t,c2:r})=>({c0:p.mulByNonresidue(r),c1:e,c2:t}),mul1:({c0:e,c1:t,c2:r},n)=>({c0:p.mulByNonresidue(p.mul(r,n)),c1:p.mul(e,n),c2:p.mul(t,n)}),mul01({c0:e,c1:t,c2:r},n,i){let o=p.mul(e,n),s=p.mul(t,i);return{c0:p.add(p.mulByNonresidue(p.sub(p.mul(p.add(t,r),i),s)),o),c1:p.sub(p.sub(p.mul(p.add(n,i),p.add(e,t)),o),s),c2:p.add(p.sub(p.mul(p.add(e,r),n),o),s)}}},A=$(p,d,r.ORDER,12,1,6)[0],I=({c0:e,c1:t},{c0:r,c1:n})=>({c0:B.add(e,r),c1:B.add(t,n)}),x=({c0:e,c1:t},{c0:r,c1:n})=>({c0:B.sub(e,r),c1:B.sub(t,n)}),S=({c0:e,c1:t},r)=>{if("bigint"==typeof r)return{c0:B.mul(e,r),c1:B.mul(t,r)};let{c0:n,c1:i}=r,o=B.mul(e,n),s=B.mul(t,i);return{c0:B.add(o,B.mulByNonresidue(s)),c1:B.sub(B.mul(B.add(e,t),B.add(n,i)),B.add(o,s))}},T=({c0:e,c1:t})=>{let r=B.mul(e,t);return{c0:B.sub(B.sub(B.mul(B.add(B.mulByNonresidue(t),e),B.add(e,t)),r),B.mulByNonresidue(r)),c1:B.add(r,r)}},N={ORDER:p.ORDER,BITS:2*p.BITS,BYTES:2*p.BYTES,MASK:(0,b.dQ)(2*p.BITS),ZERO:{c0:B.ZERO,c1:B.ZERO},ONE:{c0:B.ONE,c1:B.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>B.isValid(e)&&B.isValid(t),is0:({c0:e,c1:t})=>B.is0(e)&&B.is0(t),neg:({c0:e,c1:t})=>({c0:B.neg(e),c1:B.neg(t)}),eql:({c0:e,c1:t},{c0:r,c1:n})=>B.eql(e,r)&&B.eql(t,n),sqrt:b.EQ,inv:({c0:e,c1:t})=>{let r=B.inv(B.sub(B.sqr(e),B.mulByNonresidue(B.sqr(t))));return{c0:B.mul(e,r),c1:B.neg(B.mul(t,r))}},div:(e,t)=>N.mul(e,"bigint"==typeof t?r.inv(r.create(t)):N.inv(t)),pow:(e,t)=>g.Q(N,e,t),invertBatch:e=>g.Eg(N,e),add:I,sub:x,mul:S,sqr:T,addN:I,subN:x,mulN:S,sqrN:T,fromBytes:e=>{if(e.length!==N.BYTES)throw Error("fromBytes invalid length="+e.length);return{c0:B.fromBytes(e.subarray(0,B.BYTES)),c1:B.fromBytes(e.subarray(B.BYTES))}},toBytes:({c0:e,c1:t})=>(0,b.eV)(B.toBytes(e),B.toBytes(t)),cmov:({c0:e,c1:t},{c0:r,c1:n},i)=>({c0:B.cmov(e,r,i),c1:B.cmov(t,n,i)}),fromBigTwelve:e=>({c0:B.fromBigSix(e.slice(0,6)),c1:B.fromBigSix(e.slice(6,12))}),frobeniusMap(e,t){let{c0:r,c1:n,c2:i}=B.frobeniusMap(e.c1,t),o=A[t%12];return{c0:B.frobeniusMap(e.c0,t),c1:B.create({c0:p.mul(r,o),c1:p.mul(n,o),c2:p.mul(i,o)})}},mulByFp2:({c0:e,c1:t},r)=>({c0:B.mulByFp2(e,r),c1:B.mulByFp2(t,r)}),conjugate:({c0:e,c1:t})=>({c0:e,c1:B.neg(t)}),mul014:({c0:e,c1:t},r,n,i)=>{let o=B.mul01(e,r,n),s=B.mul1(t,i);return{c0:B.add(B.mulByNonresidue(s),o),c1:B.sub(B.sub(B.mul01(B.add(t,e),r,p.add(n,i)),o),s)}},mul034:({c0:e,c1:t},r,n,i)=>{let o=B.create({c0:p.mul(e.c0,r),c1:p.mul(e.c1,r),c2:p.mul(e.c2,r)}),s=B.mul01(t,n,i),a=B.mul01(B.add(e,t),p.add(r,n),i);return{c0:B.add(B.mulByNonresidue(s),o),c1:B.sub(a,B.add(o,s))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:p,Fp6:B,Fp4Square:function(e,t){let r=p.sqr(e),n=p.sqr(t);return{first:p.add(p.mulByNonresidue(n),r),second:p.sub(p.sub(p.sqr(p.add(e,t)),r),n)}},Fp12:N}}({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[z,z],Fp2mulByB:({c0:e,c1:t})=>{let r=Y.mul(e,K),n=Y.mul(t,K);return{c0:Y.sub(r,n),c1:Y.add(r,n)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{let{c0:r,c1:n,c2:i}=e,{c0:o,c1:s,c2:a}=t,{first:u,second:f}=X(r,s),{first:c,second:l}=X(o,i),{first:h,second:d}=X(n,a),p=J.mulByNonresidue(d);return{c0:Q.create({c0:J.add(J.mul(J.sub(u,r),G),u),c1:J.add(J.mul(J.sub(c,n),G),c),c2:J.add(J.mul(J.sub(h,i),G),h)}),c1:Q.create({c0:J.add(J.mul(J.add(p,o),G),p),c1:J.add(J.mul(J.add(f,s),G),f),c2:J.add(J.mul(J.add(l,a),G),l)})}},Fp12cyclotomicExp(e,t){let r=ee.ONE;for(let n=W-1;n>=0;n--)r=ee._cyclotomicSquare(r),(0,b.H_)(t,n)&&(r=ee.mul(r,e));return r},Fp12finalExponentiate:e=>{let t=ee.div(ee.frobeniusMap(e,6),e),r=ee.mul(ee.frobeniusMap(t,2),t),n=ee.conjugate(ee._cyclotomicExp(r,Z)),i=ee.mul(ee.conjugate(ee._cyclotomicSquare(r)),n),o=ee.conjugate(ee._cyclotomicExp(i,Z)),s=ee.conjugate(ee._cyclotomicExp(o,Z)),a=ee.mul(ee.conjugate(ee._cyclotomicExp(s,Z)),ee._cyclotomicSquare(n)),u=ee.conjugate(ee._cyclotomicExp(a,Z)),f=ee.frobeniusMap(ee.mul(n,s),2),c=ee.frobeniusMap(ee.mul(o,r),3),l=ee.frobeniusMap(ee.mul(a,ee.conjugate(r)),1),h=ee.mul(ee.mul(u,ee.conjugate(i)),r);return ee.mul(ee.mul(ee.mul(f,c),l),h)}}),et=g.gN(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),er=_(J,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(e=>J.fromBigTuple(e.map(BigInt))))),en=_(Y,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))),ei=L(J,{A:J.create({c0:Y.create(q),c1:Y.create(BigInt(240))}),B:J.create({c0:Y.create(BigInt(1012)),c1:Y.create(BigInt(1012))}),Z:J.create({c0:Y.create(BigInt(-2)),c1:Y.create(BigInt(-1))})}),eo=L(Y,{A:Y.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Y.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Y.create(BigInt(11))}),{G2psi:es,G2psi2:ea}=function(e,t,r){let n=t.pow(r,(e.ORDER-C)/V),i=t.pow(r,(e.ORDER-C)/j);function o(e,r){return[t.mul(t.frobeniusMap(e,1),n),t.mul(t.frobeniusMap(r,1),i)]}let s=t.pow(r,(e.ORDER**j-C)/V),a=t.pow(r,(e.ORDER**j-C)/j);if(!t.eql(a,t.neg(t.ONE)))throw Error("psiFrobenius: PSI2_Y!==-1");function u(e,r){return[t.mul(e,s),t.neg(r)]}let f=e=>(t,r)=>{let n=r.toAffine(),i=e(n.x,n.y);return t.fromAffine({x:i[0],y:i[1]})},c=f(o),l=f(u);return{psi:o,psi2:u,G2psi:c,G2psi2:l,PSI_X:n,PSI_Y:i,PSI2_X:s,PSI2_Y:a}}(Y,J,J.div(J.ONE,J.NONRESIDUE)),eu=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Y.ORDER,m:2,k:128,expand:"xmd",hash:p.JQ}),ef=el(Y.toBytes(q),{infinity:!0,compressed:!0});function ec(e){let t=224&(e=e.slice())[0];return e[0]&=31,{compressed:!!(t>>7&1),infinity:!!(t>>6&1),sort:!!(t>>5&1),value:e}}function el(e,t){if(224&e[0])throw Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function eh(e){e.assertValidity();let t=e.equals(ep.G1.ProjectivePoint.ZERO),{x:r,y:n}=e.toAffine();if(t)return ef.slice();let i=!!(n*G/Y.ORDER);return el((0,b.tL)(r,Y.BYTES),{compressed:!0,sort:i})}function ed(e){e.assertValidity();let t=Y.BYTES;if(e.equals(ep.G2.ProjectivePoint.ZERO))return(0,b.eV)(ef,(0,b.tL)(q,t));let{x:r,y:n}=e.toAffine(),{re:i,im:o}=J.reim(r),{re:s,im:a}=J.reim(n),u=!!((a>q?a*G:s*G)/Y.ORDER&z);return(0,b.eV)(el((0,b.tL)(o,t),{sort:u,compressed:!0}),(0,b.tL)(i,t))}let ep=function(e){let t;let{Fp:r,Fr:n,Fp2:i,Fp6:o,Fp12:s}=e.fields,a=e.params.xNegative,u=e.params.twistType,f=R({n:n.ORDER,...e.G1}),c=Object.assign(f,B(f.ProjectivePoint,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),l=R({n:n.ORDER,...e.G2}),h=Object.assign(l,B(l.ProjectivePoint,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));if("multiplicative"===u)t=(e,t,r,n,o,a)=>s.mul014(n,e,i.mul(t,o),i.mul(r,a));else if("divisive"===u)t=(e,t,r,n,o,a)=>s.mul034(n,i.mul(r,a),i.mul(t,o),e);else throw Error("bls: unknown twist type");let d=i.div(i.ONE,i.mul(i.ONE,D));function p(e,t,r,n,o,s){let a=i.sub(r,i.mul(s,n)),u=i.sub(t,i.mul(o,n)),f=i.sub(i.mul(a,o),i.mul(u,s)),c=i.neg(a);e.push([f,c,u]);let l=i.sqr(u),h=i.mul(l,u),d=i.mul(l,t),p=i.add(i.sub(h,i.mul(d,D)),i.mul(i.sqr(a),n));return{Rx:t=i.mul(u,p),Ry:r=i.sub(i.mul(i.sub(d,p),a),i.mul(h,r)),Rz:n=i.mul(n,h)}}let y=function(e){let t=[];for(;e>F;e>>=F)(e&F)===P?t.unshift(0):(e&k)===k?(t.unshift(-1),e+=F):t.unshift(1);return t}(e.params.ateLoopSize),m=(0,b.H9)(t=>{let{x:r,y:n}=t.toAffine(),o=i.neg(n),s=r,a=n,u=i.ONE,f=[];for(let e of y){let t=[];({Rx:s,Ry:a,Rz:u}=function(e,t,r,n){let o=i.sqr(r),s=i.sqr(n),a=i.mulByB(i.mul(s,k)),u=i.mul(a,k),f=i.sub(i.sub(i.sqr(i.add(r,n)),s),o),c=i.sub(a,o),l=i.mul(i.sqr(t),k),h=i.neg(f);return e.push([c,l,h]),{Rx:t=i.mul(i.mul(i.mul(i.sub(o,u),t),r),d),Ry:r=i.sub(i.sqr(i.mul(i.add(o,u),d)),i.mul(i.sqr(a),k)),Rz:n=i.mul(o,f)}}(t,s,a,u)),e&&({Rx:s,Ry:a,Rz:u}=p(t,s,a,u,r,-1===e?o:n)),f.push(t)}if(e.postPrecompute){let t=f[f.length-1];e.postPrecompute(s,a,u,r,n,p.bind(null,t))}return f});function w(e,r=!1){let n=s.ONE;if(e.length){let r=e[0][0].length;for(let i=0;i<r;i++)for(let[r,o,a]of(n=s.sqr(n),e))for(let[e,s,u]of r[i])n=t(e,s,u,n,o,a)}return a&&(n=s.conjugate(n)),r?s.finalExponentiate(n):n}function v(e,t=!0){let r=[];for(let{g1:t,g2:n}of(c.ProjectivePoint.normalizeZ(e.map(({g1:e})=>e)),h.ProjectivePoint.normalizeZ(e.map(({g2:e})=>e)),e)){if(t.equals(c.ProjectivePoint.ZERO)||n.equals(h.ProjectivePoint.ZERO))throw Error("pairing is not available for ZERO point");t.assertValidity(),n.assertValidity();let e=t.toAffine();r.push([m(n),e.x,e.y])}return w(r,t)}let{ShortSignature:E}=e.G1,{Signature:_}=e.G2;function A(e){return e instanceof c.ProjectivePoint?e:c.ProjectivePoint.fromHex(e)}function I(e,t){return e instanceof c.ProjectivePoint?e:c.hashToCurve((0,b.ql)("point",e),t)}function x(e){return e instanceof h.ProjectivePoint?e:_.fromHex(e)}function S(e,t){return e instanceof h.ProjectivePoint?e:h.hashToCurve((0,b.ql)("point",e),t)}function T(e){if(!Array.isArray(e)||0===e.length)throw Error("expected non-empty array")}return c.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:function(e){return c.ProjectivePoint.fromPrivateKey(e).toRawBytes(!0)},getPublicKeyForShortSignatures:function(e){return h.ProjectivePoint.fromPrivateKey(e).toRawBytes(!0)},sign:function(e,t,r){let n=S(e,r);n.assertValidity();let i=n.multiply(c.normPrivateKeyToScalar(t));return e instanceof h.ProjectivePoint?i:_.toRawBytes(i)},signShortSignature:function(e,t,r){let n=I(e,r);n.assertValidity();let i=n.multiply(c.normPrivateKeyToScalar(t));return e instanceof c.ProjectivePoint?i:E.toRawBytes(i)},verify:function(e,t,r,n){let i=A(r),o=S(t,n),a=c.ProjectivePoint.BASE,u=x(e),f=v([{g1:i.negate(),g2:o},{g1:a,g2:u}]);return s.eql(f,s.ONE)},verifyBatch:function(e,t,r,n){if(T(t),r.length!==t.length)throw Error("amount of public keys and messages should be equal");let i=x(e),o=t.map(e=>S(e,n)),a=r.map(A),u=new Map;for(let e=0;e<a.length;e++){let t=a[e],r=o[e],n=u.get(r);void 0===n&&(n=[],u.set(r,n)),n.push(t)}let f=[];try{for(let[e,t]of u){let r=t.reduce((e,t)=>e.add(t));f.push({g1:r,g2:e})}return f.push({g1:c.ProjectivePoint.BASE.negate(),g2:i}),s.eql(v(f),s.ONE)}catch{return!1}},verifyShortSignature:function(e,t,r,n){let i=x(r),o=I(t,n),a=h.ProjectivePoint.BASE,u=v([{g1:o,g2:i},{g1:A(e),g2:a.negate()}]);return s.eql(u,s.ONE)},aggregatePublicKeys:function(e){T(e);let t=e.map(A).reduce((e,t)=>e.add(t),c.ProjectivePoint.ZERO);return e[0]instanceof c.ProjectivePoint?(t.assertValidity(),t):t.toRawBytes(!0)},aggregateSignatures:function(e){T(e);let t=e.map(x).reduce((e,t)=>e.add(t),h.ProjectivePoint.ZERO);return e[0]instanceof h.ProjectivePoint?(t.assertValidity(),t):_.toRawBytes(t)},aggregateShortSignatures:function(e){T(e);let t=e.map(A).reduce((e,t)=>e.add(t),c.ProjectivePoint.ZERO);return e[0]instanceof c.ProjectivePoint?(t.assertValidity(),t):E.toRawBytes(t)},millerLoopBatch:w,pairing:function(e,t,r=!0){return v([{g1:e,g2:t}],r)},pairingBatch:v,G1:c,G2:h,Signature:_,ShortSignature:E,fields:{Fr:n,Fp:r,Fp2:i,Fp6:o,Fp12:s},params:{ateLoopSize:e.params.ateLoopSize,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:{randomPrivateKey:()=>{let t=(0,g.PS)(n.ORDER);return(0,g.Us)(e.randomBytes(t),n.ORDER)},calcPairingPrecomputes:m}}}({fields:{Fp:Y,Fp2:J,Fp6:Q,Fp12:ee,Fr:et},G1:{Fp:Y,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:Y.ZERO,b:K,htfDefaults:{...eu,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{let r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(Y.mul(t.px,r),t.py,t.pz);return t.multiplyUnsafe(Z).negate().multiplyUnsafe(Z).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(Z).add(t),mapToCurve:e=>{let{x:t,y:r}=eo(Y.create(e[0]));return en(t,r)},fromBytes:e=>{let{compressed:t,infinity:r,sort:n,value:i}=ec(e);if(48===i.length&&t){let e=Y.ORDER,t=(0,b.bytesToNumberBE)(i),o=Y.create(t&Y.MASK);if(r){if(o!==q)throw Error("G1: non-empty compressed point at infinity");return{x:q,y:q}}let s=Y.add(Y.pow(o,H),Y.create(ep.params.G1b)),a=Y.sqrt(s);if(!a)throw Error("invalid compressed G1 point");return a*G/e!==BigInt(n)&&(a=Y.neg(a)),{x:Y.create(o),y:Y.create(a)}}if(96!==i.length||t)throw Error("invalid point G1, expected 48/96 bytes");{let e=(0,b.bytesToNumberBE)(i.subarray(0,Y.BYTES)),t=(0,b.bytesToNumberBE)(i.subarray(Y.BYTES));if(r){if(e!==q||t!==q)throw Error("G1: non-empty point at infinity");return ep.G1.ProjectivePoint.ZERO.toAffine()}return{x:Y.create(e),y:Y.create(t)}}},toBytes:(e,t,r)=>{let n=t.equals(e.ZERO),{x:i,y:o}=t.toAffine();if(r){if(n)return ef.slice();let e=!!(o*G/Y.ORDER);return el((0,b.tL)(i,Y.BYTES),{compressed:!0,sort:e})}return n?(0,b.eV)(new Uint8Array([64]),new Uint8Array(2*Y.BYTES-1)):(0,b.eV)((0,b.tL)(i,Y.BYTES),(0,b.tL)(o,Y.BYTES))},ShortSignature:{fromHex(e){let{infinity:t,sort:r,value:n}=ec((0,b.ql)("signatureHex",e,48)),i=Y.ORDER,o=(0,b.bytesToNumberBE)(n);if(t)return ep.G1.ProjectivePoint.ZERO;let s=Y.create(o&Y.MASK),a=Y.add(Y.pow(s,H),Y.create(ep.params.G1b)),u=Y.sqrt(a);if(!u)throw Error("invalid compressed G1 point");u*G/i!==BigInt(r)&&(u=Y.neg(u));let f=ep.G1.ProjectivePoint.fromAffine({x:s,y:u});return f.assertValidity(),f},toRawBytes:e=>eh(e),toHex:e=>(0,b.ci)(eh(e))}},G2:{Fp:J,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:J.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:J.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:J.ZERO,b:J.fromBigTuple([K,K]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...eu},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:e=>{let{x:t,y:r}=ei(J.fromBigTuple(e));return er(t,r)},isTorsionFree:(e,t)=>t.multiplyUnsafe(Z).negate().equals(es(e,t)),clearCofactor:(e,t)=>{let r=t.multiplyUnsafe(Z).negate(),n=es(e,t),i=t.double();return i=(i=ea(e,i)).subtract(n),n=(n=r.add(n)).multiplyUnsafe(Z).negate(),(i=(i=i.add(n)).subtract(r)).subtract(t)},fromBytes:e=>{let{compressed:t,infinity:r,sort:n,value:i}=ec(e);if(!t&&!r&&n||!t&&r&&n||n&&r&&t)throw Error("invalid encoding flag: "+(224&e[0]));let o=Y.BYTES,s=(e,t,r)=>(0,b.bytesToNumberBE)(e.slice(t,r));if(96===i.length&&t){let e=ep.params.G2b,t=Y.ORDER;if(r){if(i.reduce((e,t)=>0!==e?t+1:t,0)>0)throw Error("invalid compressed G2 point");return{x:J.ZERO,y:J.ZERO}}let a=s(i,0,o),u=s(i,o,2*o),f=J.create({c0:Y.create(u),c1:Y.create(a)}),c=J.add(J.pow(f,H),e),l=J.sqrt(c),h=l.c1===q?l.c0*G/t:l.c1*G/t?z:q;return{x:f,y:l=n&&h>0?l:J.neg(l)}}if(192!==i.length||t)throw Error("invalid point G2, expected 96/192 bytes");{if(r){if(i.reduce((e,t)=>0!==e?t+1:t,0)>0)throw Error("invalid uncompressed G2 point");return{x:J.ZERO,y:J.ZERO}}let e=s(i,0,o),t=s(i,o,2*o),n=s(i,2*o,3*o),a=s(i,3*o,4*o);return{x:J.fromBigTuple([t,e]),y:J.fromBigTuple([a,n])}}},toBytes:(e,t,r)=>{let{BYTES:n,ORDER:i}=Y,o=t.equals(e.ZERO),{x:s,y:a}=t.toAffine();if(r){if(o)return(0,b.eV)(ef,(0,b.tL)(q,n));let e=!!(a.c1===q?a.c0*G/i:a.c1*G/i);return(0,b.eV)(el((0,b.tL)(s.c1,n),{compressed:!0,sort:e}),(0,b.tL)(s.c0,n))}{if(o)return(0,b.eV)(new Uint8Array([64]),new Uint8Array(4*n-1));let{re:e,im:t}=J.reim(s),{re:r,im:i}=J.reim(a);return(0,b.eV)((0,b.tL)(t,n),(0,b.tL)(e,n),(0,b.tL)(i,n),(0,b.tL)(r,n))}},Signature:{fromHex(e){let{infinity:t,sort:r,value:n}=ec((0,b.ql)("signatureHex",e)),i=Y.ORDER,o=n.length/2;if(48!==o&&96!==o)throw Error("invalid compressed signature length, must be 96 or 192");let s=(0,b.bytesToNumberBE)(n.slice(0,o)),a=(0,b.bytesToNumberBE)(n.slice(o));if(t)return ep.G2.ProjectivePoint.ZERO;let u=Y.create(s&Y.MASK),f=Y.create(a),c=J.create({c0:f,c1:u}),l=J.add(J.pow(c,H),ep.params.G2b),h=J.sqrt(l);if(!h)throw Error("Failed to find a square root");let{re:d,im:p}=J.reim(h),y=BigInt(r),g=p>q&&p*G/i!==y,m=p===q&&d*G/i!==y;(g||m)&&(h=J.neg(h));let w=ep.G2.ProjectivePoint.fromAffine({x:c,y:h});return w.assertValidity(),w},toRawBytes:e=>ed(e),toHex:e=>(0,b.ci)(ed(e))}},params:{ateLoopSize:Z,r:et.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:eu,hash:p.JQ,randomBytes:y.O6});function ey(e,t,r){let n="string"==typeof e?e:(0,h.NC)(e),i="string"==typeof t?t:(0,h.NC)(t),o="string"==typeof r?r:(0,h.NC)(r);return ep.verifyShortSignature(i,o,n)}var eg=r(7826),eb=r(9167);class em extends c.e${constructor(e){super(`Invalid certificate: ${e}`)}}(n=s||(s={}))[n.Empty=0]="Empty",n[n.Fork=1]="Fork",n[n.Labeled=2]="Labeled",n[n.Leaf=3]="Leaf",n[n.Pruned=4]="Pruned";class ew{constructor(e,t,r,n,i=5){this._rootKey=t,this._canisterId=r,this._blsVerify=n,this._maxAgeInMinutes=i,this.cert=f.Jx(new Uint8Array(e))}static async create(e){let t=ew.createUnverified(e);return await t.verify(),t}static createUnverified(e){let t=e.blsVerify;return t||(t=ey),new ew(e.certificate,e.rootKey,e.canisterId,t,e.maxAgeInMinutes)}lookup(e){return eA(e,this.cert.tree)}lookup_label(e){return this.lookup([e])}async verify(){let e=await e_(this.cert.tree),t=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,n=function(e){let t=ev.byteLength+96;if(e.byteLength!==t)throw TypeError(`BLS DER-encoded public key must be ${t} bytes long`);let r=e.slice(0,ev.byteLength);if(!(0,h.IA)(r,ev))throw TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${ev}, but get ${r}`);return e.slice(ev.byteLength)}(t),i=(0,h.zo)(eB("ic-state-root"),e),o=!1,s=eE(this.lookup(["time"]));if(!s)throw new em("Certificate does not contain a time");let a=6e4*this._maxAgeInMinutes,u=Date.now(),f=(0,eg.b)(s);if(f.getTime()<u-a)throw new em(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+f.toISOString()+" Current time: "+new Date(u).toISOString());if(f.getTime()>u+3e5)throw new em("Certificate is signed more than 5 minutes in the future. Certificate time: "+f.toISOString()+" Current time: "+new Date(u).toISOString());try{o=await this._blsVerify(new Uint8Array(n),new Uint8Array(r),new Uint8Array(i))}catch(e){o=!1}if(!o)throw new em("Signature verification failed")}async _checkDelegationAndGetKey(e){if(!e)return this._rootKey;let t=await ew.createUnverified({certificate:e.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(t.cert.delegation)throw new em("Delegation certificates cannot be nested");if(await t.verify(),this._canisterId.toString()!==eb.t_&&!eI({canisterId:this._canisterId,subnetId:d.R.fromUint8Array(new Uint8Array(e.subnet_id)),tree:t.cert.tree}))throw new em(`Canister ${this._canisterId} not in range of delegations for subnet 0x${(0,h.NC)(e.subnet_id)}`);let r=eE(t.lookup(["subnet",e.subnet_id,"public_key"]));if(!r)throw Error(`Could not find subnet key for subnet 0x${(0,h.NC)(e.subnet_id)}`);return r}}let ev=(0,h.H_)("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100");function eE(e){return e.status!==a.Found?void 0:e.value instanceof ArrayBuffer?e.value:e.value instanceof Uint8Array?e.value.buffer:void 0}async function e_(e){switch(e[0]){case s.Empty:return(0,l.vp)(eB("ic-hashtree-empty"));case s.Pruned:return e[1];case s.Leaf:return(0,l.vp)((0,h.zo)(eB("ic-hashtree-leaf"),e[1]));case s.Labeled:return(0,l.vp)((0,h.zo)(eB("ic-hashtree-labeled"),e[1],await e_(e[2])));case s.Fork:return(0,l.vp)((0,h.zo)(eB("ic-hashtree-fork"),await e_(e[1]),await e_(e[2])));default:throw Error("unreachable")}}function eB(e){let t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return(0,h.zo)(t,r)}function eA(e,t){if(0===e.length){if(t[0]===s.Leaf){if(!t[1])throw Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:a.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:a.Found,value:t[1].buffer}:{status:a.Found,value:t[1]}}return{status:a.Found,value:t}}let r=function e(t,r){switch(r[0]){case s.Labeled:if(function(e,t){let r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]>n[e])return!0;return!1}(t,r[1]))return{status:u.Greater};if((0,h.IA)(t,r[1]))return{status:a.Found,value:r[2]};return{status:u.Less};case s.Fork:let n=e(t,r[1]);switch(n.status){case u.Greater:{let n=e(t,r[2]);if(n.status===u.Less)return{status:a.Absent};return n}case a.Unknown:{let n=e(t,r[2]);if(n.status===u.Less)return{status:a.Unknown};return n}default:return n}case s.Pruned:return{status:a.Unknown};default:return{status:a.Absent}}}("string"==typeof e[0]?new TextEncoder().encode(e[0]):e[0],t);switch(r.status){case a.Found:return eA(e.slice(1),r.value);case u.Greater:case u.Less:return{status:a.Absent};default:return r}}function eI(e){let{canisterId:t,subnetId:r,tree:n}=e,i=eA(["subnet",r.toUint8Array(),"canister_ranges"],n);if(i.status!==a.Found||!(i.value instanceof ArrayBuffer))throw Error(`Could not find canister ranges for subnet ${r}`);return f.Jx(i.value).map(e=>[d.R.fromUint8Array(e[0]),d.R.fromUint8Array(e[1])]).some(e=>e[0].ltEq(t)&&e[1].gtEq(t))}(i=a||(a={})).Unknown="unknown",i.Absent="absent",i.Found="found",(o=u||(u={})).Less="less",o.Greater="greater"},2293:function(e,t,r){"use strict";r.d(t,{BM:function(){return f},GT:function(){return u},eZ:function(){return l},nt:function(){return c}});var n=r(2884);let i=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw Error("Length too long (> 4 bytes)")},o=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw Error("Length too long (> 4 bytes)")},s=(e,t)=>{if(e[t]<128)return 1;if(128===e[t])throw Error("Invalid length 0");if(129===e[t])return 2;if(130===e[t])return 3;if(131===e[t])return 4;throw Error("Length too long (> 4 bytes)")},a=(e,t)=>{let r=s(e,t);if(1===r)return e[t];if(2===r)return e[t+1];if(3===r)return(e[t+1]<<8)+e[t+2];if(4===r)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw Error("Length too long (> 4 bytes)")},u=Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]),f=Uint8Array.from([48,5,6,3,43,101,112]);function c(e,t){let r=2+i(e.byteLength+1),n=t.byteLength+r+e.byteLength,s=0,a=new Uint8Array(1+i(n)+n);return a[s++]=48,s+=o(a,s,n),a.set(t,s),s+=t.byteLength,a[s++]=3,s+=o(a,s,e.byteLength+1),a[s++]=0,a.set(new Uint8Array(e),s),a}Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);let l=(e,t)=>{let r=0,i=(e,t)=>{if(o[r++]!==e)throw Error("Expected: "+t)},o=new Uint8Array(e);if(i(48,"sequence"),r+=s(o,r),!(0,n.IA)(o.slice(r,r+t.byteLength),t))throw Error("Not the expected OID.");r+=t.byteLength,i(3,"bit string");let u=a(o,r)-1;r+=s(o,r),i(0,"0 padding");let f=o.slice(r);if(u!==f.length)throw Error(`DER payload mismatch: Expected length ${u} actual length ${f.length}`);return f}},2982:function(e,t,r){"use strict";r.d(t,{e$:function(){return n}}),r(1263),r(4464),r(2884);class n extends Error{constructor(e){super(e),this.message=e,this.name="AgentError",this.__proto__=n.prototype,Object.setPrototypeOf(this,n.prototype)}}},5035:function(e,t,r){"use strict";var n,i,o=r(2293),s=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},a=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class u{constructor(e){if(n.set(this,void 0),i.set(this,void 0),e.byteLength!==u.RAW_KEY_LENGTH)throw Error("An Ed25519 public key must be exactly 32bytes long");s(this,n,e,"f"),s(this,i,u.derEncode(e),"f")}static from(e){return this.fromDer(e.toDer())}static fromRaw(e){return new u(e)}static fromDer(e){return new u(this.derDecode(e))}static derEncode(e){return(0,o.nt)(e,o.BM).buffer}static derDecode(e){let t=(0,o.eZ)(e,o.BM);if(t.length!==this.RAW_KEY_LENGTH)throw Error("An Ed25519 public key must be exactly 32bytes long");return t}get rawKey(){return a(this,n,"f")}get derKey(){return a(this,i,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}n=new WeakMap,i=new WeakMap,u.RAW_KEY_LENGTH=32},5864:function(e,t,r){"use strict";r.d(t,{vH:function(){return f},vp:function(){return a}});var n=r(4860),i=r(2851),o=r(5615),s=r(2884);function a(e){return(0,s.wy)(o.JQ.create().update(new Uint8Array(e)).digest())}let u=e=>a(new TextEncoder().encode(e));function f(e){return function e(t){let r=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,r])=>[u(t),function t(r){if(r instanceof i.Tagged)return t(r.value);if("string"==typeof r)return u(r);if("number"==typeof r)return a((0,n.dZ)(r));if(r instanceof ArrayBuffer||ArrayBuffer.isView(r))return a(r);if(Array.isArray(r)){let e=r.map(t);return a((0,s.zo)(...e))}if(r&&"object"==typeof r&&r._isPrincipal)return a(r.toUint8Array());if("object"==typeof r&&null!==r&&"function"==typeof r.toHash)return t(r.toHash());else if("object"==typeof r)return e(r);else if("bigint"==typeof r)return a((0,n.dZ)(r));throw Object.assign(Error(`Attempt to hash a value of unsupported type: ${r}`),{value:r})}(r)]).sort(([e],[t])=>(0,s.qu)(e,t));return a((0,s.zo)(...r.map(e=>(0,s.zo)(...e))))}(e)}},2884:function(e,t,r){"use strict";function n(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.byteLength,0)),r=0;for(let n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function i(e){return[...new Uint8Array(e)].map(e=>e.toString(16).padStart(2,"0")).join("")}r.d(t,{H_:function(){return s},IA:function(){return u},NC:function(){return i},qu:function(){return a},rS:function(){return function e(t){return t instanceof Uint8Array?f(t):t instanceof ArrayBuffer?t:Array.isArray(t)?f(new Uint8Array(t)):"buffer"in t?e(t.buffer):f(new Uint8Array(t))}},wy:function(){return f},zo:function(){return n}});let o=new RegExp(/^[0-9a-fA-F]+$/);function s(e){if(!o.test(e))throw Error("Invalid hexadecimal string.");return new Uint8Array([...e].reduce((e,t,r)=>(e[r/2|0]=(e[r/2|0]||"")+t,e),[]).map(e=>Number.parseInt(e,16))).buffer}function a(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;let r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==n[e])return r[e]-n[e];return 0}function u(e,t){return 0===a(e,t)}function f(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}},7826:function(e,t,r){"use strict";r.d(t,{b:function(){return o},o:function(){return i}});var n=r(4860);let i=e=>(0,n.aC)(new n.P8(e)),o=e=>new Date(Number(i(e))/1e6)},3413:function(e,t,r){"use strict";let n,i,o;r.d(t,{AuthClient:function(){return e1}}),r(2562),r(9167),r(2982),r(4860),r(3608);var s,a,u,f,c,l,h,d,p,y=r(2884),g=r(1263);Symbol.for("ic-agent-metadata"),r(8486),r(8151);var b=r(3936),m=r(2293);r(8610),r(4610),r(5035);var w=r(5864);r(8010);var v=r(792);let E=BigInt(4294967296-1),_=BigInt(32);var B={split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=function(e,t=!1){return t?{h:Number(e&E),l:Number(e>>_&E)}:{h:0|Number(e>>_&E),l:0|Number(e&E)}}(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},A=r(9274);let[I,x]=B.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),S=new Uint32Array(80),T=new Uint32Array(80);class N extends v.VR{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:f,Fh:c,Fl:l,Gh:h,Gl:d,Hh:p,Hl:y}=this;return[e,t,r,n,i,o,s,a,u,f,c,l,h,d,p,y]}set(e,t,r,n,i,o,s,a,u,f,c,l,h,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|f,this.Fh=0|c,this.Fl=0|l,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)S[r]=e.getUint32(t),T[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|S[e-15],r=0|T[e-15],n=B.rotrSH(t,r,1)^B.rotrSH(t,r,8)^B.shrSH(t,r,7),i=B.rotrSL(t,r,1)^B.rotrSL(t,r,8)^B.shrSL(t,r,7),o=0|S[e-2],s=0|T[e-2],a=B.rotrSH(o,s,19)^B.rotrBH(o,s,61)^B.shrSH(o,s,6),u=B.rotrSL(o,s,19)^B.rotrBL(o,s,61)^B.shrSL(o,s,6),f=B.add4L(i,u,T[e-7],T[e-16]),c=B.add4H(f,n,a,S[e-7],S[e-16]);S[e]=0|c,T[e]=0|f}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:f,Eh:c,El:l,Fh:h,Fl:d,Gh:p,Gl:y,Hh:g,Hl:b}=this;for(let e=0;e<80;e++){let t=B.rotrSH(c,l,14)^B.rotrSH(c,l,18)^B.rotrBH(c,l,41),m=B.rotrSL(c,l,14)^B.rotrSL(c,l,18)^B.rotrBL(c,l,41),w=c&h^~c&p,v=l&d^~l&y,E=B.add5L(b,m,v,x[e],T[e]),_=B.add5H(E,g,t,w,I[e],S[e]),A=0|E,N=B.rotrSH(r,n,28)^B.rotrBH(r,n,34)^B.rotrBH(r,n,39),O=B.rotrSL(r,n,28)^B.rotrBL(r,n,34)^B.rotrBL(r,n,39),U=r&i^r&s^i&s,R=n&o^n&a^o&a;g=0|p,b=0|y,p=0|h,y=0|d,h=0|c,d=0|l,({h:c,l:l}=B.add(0|u,0|f,0|_,0|A)),u=0|s,f=0|a,s=0|i,a=0|o,i=0|r,o=0|n;let L=B.add3L(A,O,R);r=B.add3H(L,_,N,U),n=0|L}({h:r,l:n}=B.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=B.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=B.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:f}=B.add(0|this.Dh,0|this.Dl,0|u,0|f)),({h:c,l:l}=B.add(0|this.Eh,0|this.El,0|c,0|l)),({h:h,l:d}=B.add(0|this.Fh,0|this.Fl,0|h,0|d)),({h:p,l:y}=B.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:b}=B.add(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(r,n,i,o,s,a,u,f,c,l,h,d,p,y,g,b)}roundClean(){S.fill(0),T.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let O=(0,A.hE)(()=>new N);var U=r(3374),R=r(7088),L=r(6846);let P=BigInt(0),F=BigInt(1),D=BigInt(2),k=BigInt(8),M={zip215:!0},C=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),j=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),V=BigInt(0),$=BigInt(1),q=BigInt(2);BigInt(3);let z=BigInt(5),G=BigInt(8);function H(e,t){let r=(0,R.wQ)(t*t*t,C),n=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=e*e%C*e%C,s=(0,R.oA)(o,q,C)*o%C,a=(0,R.oA)(s,$,C)*e%C,u=(0,R.oA)(a,z,C)*a%C,f=(0,R.oA)(u,t,C)*u%C,c=(0,R.oA)(f,r,C)*f%C,l=(0,R.oA)(c,n,C)*c%C,h=(0,R.oA)(l,i,C)*l%C,d=(0,R.oA)(h,i,C)*l%C,p=(0,R.oA)(d,t,C)*u%C;return{pow_p_5_8:(0,R.oA)(p,q,C)*e%C,b2:o}}(e*(0,R.wQ)(r*r*t,C)).pow_p_5_8,i=(0,R.wQ)(e*r*n,C),o=(0,R.wQ)(t*i*i,C),s=i,a=(0,R.wQ)(i*j,C),u=o===e,f=o===(0,R.wQ)(-e,C),c=o===(0,R.wQ)(-e*j,C);return u&&(i=s),(f||c)&&(i=a),(0,R.Tu)(i,C)&&(i=(0,R.wQ)(-i,C)),{isValid:u||f,value:i}}let K=(0,R.gN)(C,void 0,!0),Z=function(e){let t=function(e){let t=(0,U.Kd)(e);return L.FF(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:u}=t,f=D<<BigInt(8*a)-F,c=r.create,l=(0,R.gN)(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:P}}}),d=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,r)=>{if((0,L.uw)("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function y(e,t){L.Fy("coordinate "+e,t,P,f)}function g(e){if(!(e instanceof w))throw Error("ExtendedPoint expected")}let b=(0,L.H9)((e,t)=>{let{ex:n,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?k:r.inv(o));let a=c(n*t),u=c(i*t),f=c(o*t);if(s)return{x:P,y:F};if(f!==F)throw Error("invZ was invalid");return{x:a,y:u}}),m=(0,L.H9)(e=>{let{a:r,d:n}=t;if(e.is0())throw Error("bad point: ZERO");let{ex:i,ey:o,ez:s,et:a}=e,u=c(i*i),f=c(o*o),l=c(s*s),h=c(l*l),d=c(u*r);if(c(l*c(d+f))!==c(h+c(n*c(u*f))))throw Error("bad point: equation left != right (1)");if(c(i*o)!==c(s*a))throw Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,y("x",e),y("y",t),y("z",r),y("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return y("x",t),y("y",r),new w(t,r,F,c(t*r))}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(w.fromAffine)}static msm(e,t){return(0,U.D1)(w,l,e,t)}_setWindowSize(e){_.setWindowSize(this,e)}assertValidity(){m(this)}equals(e){g(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=e,a=c(t*s),u=c(i*n),f=c(r*s),l=c(o*n);return a===u&&f===l}is0(){return this.equals(w.ZERO)}negate(){return new w(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){let{a:e}=t,{ex:r,ey:n,ez:i}=this,o=c(r*r),s=c(n*n),a=c(D*c(i*i)),u=c(e*o),f=r+n,l=c(c(f*f)-o-s),h=u+s,d=h-a,p=u-s,y=c(l*d),g=c(h*p),b=c(l*p);return new w(y,g,c(d*h),b)}add(e){g(e);let{a:r,d:n}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:u,ey:f,ez:l,et:h}=e;if(r===BigInt(-1)){let e=c((o-i)*(f+u)),t=c((o+i)*(f-u)),r=c(t-e);if(r===P)return this.double();let n=c(s*D*h),d=c(a*D*l),p=d+n,y=t+e,g=d-n,b=c(p*r),m=c(y*g),v=c(p*g);return new w(b,m,c(r*y),v)}let d=c(i*u),p=c(o*f),y=c(a*n*h),b=c(s*l),m=c((i+o)*(u+f)-d-p),v=b-y,E=b+y,_=c(p-r*d),B=c(m*v),A=c(E*_),I=c(m*_);return new w(B,A,c(v*E),I)}subtract(e){return this.add(e.negate())}wNAF(e){return _.wNAFCached(this,e,w.normalizeZ)}multiply(e){L.Fy("scalar",e,F,n);let{p:t,f:r}=this.wNAF(e);return w.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=w.ZERO){return(L.Fy("scalar",e,P,n),e===P)?E:this.is0()||e===F?this:_.wNAFCachedUnsafe(this,e,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return _.unsafeLadder(this,n).is0()}toAffine(e){return b(this,e)}clearCofactor(){let{h:e}=t;return e===F?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){let{d:i,a:o}=t,s=r.BYTES;e=(0,L.ql)("pointHex",e,s),(0,L.uw)("zip215",n);let a=e.slice(),u=e[s-1];a[s-1]=-129&u;let l=L.ty(a),d=n?f:r.ORDER;L.Fy("pointHex.y",l,P,d);let p=c(l*l),{isValid:y,value:g}=h(c(p-F),c(i*p-o));if(!y)throw Error("Point.fromHex: invalid y coordinate");let b=(g&F)===F,m=(128&u)!=0;if(!n&&g===P&&m)throw Error("Point.fromHex: x=0 and x_0=1");return m!==b&&(g=c(-g)),w.fromAffine({x:g,y:l})}static fromPrivateKey(e){return A(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),n=L.S5(t,r.BYTES);return n[n.length-1]|=e&F?128:0,n}toHex(){return L.ci(this.toRawBytes())}}w.BASE=new w(t.Gx,t.Gy,F,c(t.Gx*t.Gy)),w.ZERO=new w(P,F,F,P);let{BASE:v,ZERO:E}=w,_=(0,U.Mx)(w,8*a);function B(e){var t;return t=L.ty(e),(0,R.wQ)(t,n)}function A(e){let t=r.BYTES;e=(0,L.ql)("private key",e,t);let n=(0,L.ql)("hashed private key",o(e),2*t),i=d(n.slice(0,t)),s=n.slice(t,2*t),a=B(i),u=v.multiply(a),f=u.toRawBytes();return{head:i,prefix:s,scalar:a,point:u,pointBytes:f}}function I(e=new Uint8Array,...t){return B(o(p(L.eV(...t),(0,L.ql)("context",e),!!i)))}return v._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return A(e).pointBytes},sign:function(e,t,o={}){var s;e=(0,L.ql)("message",e),i&&(e=i(e));let{prefix:a,scalar:u,pointBytes:f}=A(t),c=I(o.context,a,e),l=v.multiply(c).toRawBytes(),h=(s=c+I(o.context,l,f,e)*u,(0,R.wQ)(s,n));L.Fy("signature.s",h,P,n);let d=L.eV(l,L.S5(h,r.BYTES));return(0,L.ql)("result",d,2*r.BYTES)},verify:function(e,t,n,o=M){let s,a,u;let{context:f,zip215:c}=o,l=r.BYTES;e=(0,L.ql)("signature",e,2*l),t=(0,L.ql)("message",t),n=(0,L.ql)("publicKey",n,l),void 0!==c&&(0,L.uw)("zip215",c),i&&(t=i(t));let h=L.ty(e.slice(l,2*l));try{s=w.fromHex(n,c),a=w.fromHex(e.slice(0,l),c),u=v.multiplyUnsafe(h)}catch(e){return!1}if(!c&&s.isSmallOrder())return!1;let d=I(f,a.toRawBytes(),s.toRawBytes(),t);return a.add(s.multiplyUnsafe(d)).subtract(u).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>s(r.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:K,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:G,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:O,randomBytes:A.O6,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:H});function W(e){if(!(e instanceof X))throw Error("RistrettoPoint expected")}let Y=e=>H($,e),J=e=>Z.CURVE.Fp.create(null&bytesToNumberLE(e));function Q(e){let{d:t}=Z.CURVE,r=Z.CURVE.Fp.ORDER,n=Z.CURVE.Fp.create,i=n(null*e*e),o=n((i+$)*null),s=BigInt(-1),a=n((s-t*i)*n(i+t)),{isValid:u,value:f}=H(o,a),c=n(f*e);isNegativeLE(c,r)||(c=n(-c)),u||(f=c),u||(s=i);let l=n(s*(i-$)*null-a),h=f*f,d=n((f+f)*a),p=n(null*l),y=n($-h),g=n($+h);return new Z.ExtendedPoint(n(d*g),n(y*p),n(p*g),n(d*y))}class X{constructor(e){this.ep=e}static fromAffine(e){return new X(Z.ExtendedPoint.fromAffine(e))}static hashToCurve(e){let t=Q(J((e=ensureBytes("ristrettoHash",e,64)).slice(0,32))),r=Q(J(e.slice(32,64)));return new X(t.add(r))}static fromHex(e){e=ensureBytes("ristrettoHex",e,32);let{a:t,d:r}=Z.CURVE,n=Z.CURVE.Fp.ORDER,i=Z.CURVE.Fp.create,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=J(e);if(!equalBytes(numberToBytesLE(s,32),e)||isNegativeLE(s,n))throw Error(o);let a=i(s*s),u=i($+t*a),f=i($-t*a),c=i(u*u),l=i(f*f),h=i(t*r*c-l),{isValid:d,value:p}=Y(i(h*l)),y=i(p*f),g=i(p*y*h),b=i((s+s)*y);isNegativeLE(b,n)&&(b=i(-b));let m=i(u*g),w=i(b*m);if(!d||isNegativeLE(w,n)||m===V)throw Error(o);return new X(new Z.ExtendedPoint(b,m,$,w))}toRawBytes(){let e,{ex:t,ey:r,ez:n,et:i}=this.ep,o=Z.CURVE.Fp.ORDER,s=Z.CURVE.Fp.create,a=s(s(n+r)*s(n-r)),u=s(t*r),f=s(u*u),{value:c}=Y(s(a*f)),l=s(c*a),h=s(c*u),d=s(l*h*i);if(isNegativeLE(i*d,o)){let n=s(null*r),i=s(null*t);t=n,r=i,e=s(null*l)}else e=h;isNegativeLE(t*d,o)&&(r=s(-r));let p=s((n-r)*e);return isNegativeLE(p,o)&&(p=s(-p)),numberToBytesLE(p,32)}toHex(){return bytesToHex(this.toRawBytes())}toString(){return this.toHex()}equals(e){W(e);let{ex:t,ey:r}=this.ep,{ex:n,ey:i}=e.ep,o=Z.CURVE.Fp.create,s=o(t*i)===o(r*n),a=o(r*i)===o(t*n);return s||a}add(e){return W(e),new X(this.ep.add(e.ep))}subtract(e){return W(e),new X(this.ep.subtract(e.ep))}multiply(e){return new X(this.ep.multiply(e))}multiplyUnsafe(e){return new X(this.ep.multiplyUnsafe(e))}double(){return new X(this.ep.double())}negate(){return new X(this.ep.negate())}}var ee=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},et=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function er(e){return null!==e&&"object"==typeof e}class en{constructor(e){if(a.set(this,void 0),u.set(this,void 0),e.byteLength!==en.RAW_KEY_LENGTH)throw Error("An Ed25519 public key must be exactly 32bytes long");ee(this,a,e,"f"),ee(this,u,en.derEncode(e),"f")}static from(e){if("string"==typeof e){let t=(0,y.H_)(e);return this.fromRaw(t)}if(er(e)){if(er(e)&&Object.hasOwnProperty.call(e,"__derEncodedPublicKey__"))return this.fromDer(e);if(ArrayBuffer.isView(e))return this.fromRaw((0,y.rS)(e.buffer));if(e instanceof ArrayBuffer)return this.fromRaw(e);if("rawKey"in e)return this.fromRaw(e.rawKey);else if("derKey"in e)return this.fromDer(e.derKey);else if("toDer"in e)return this.fromDer(e.toDer())}throw Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(e){return new en(e)}static fromDer(e){return new en(this.derDecode(e))}static derEncode(e){let t=(0,m.nt)(e,m.BM).buffer;return t.__derEncodedPublicKey__=void 0,t}static derDecode(e){let t=(0,m.eZ)(e,m.BM);if(t.length!==this.RAW_KEY_LENGTH)throw Error("An Ed25519 public key must be exactly 32bytes long");return t}get rawKey(){return et(this,a,"f")}get derKey(){return et(this,u,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}a=new WeakMap,u=new WeakMap,en.RAW_KEY_LENGTH=32;class ei extends b.$4{constructor(e,t){super(),f.set(this,void 0),c.set(this,void 0),ee(this,f,en.from(e),"f"),ee(this,c,new Uint8Array(t),"f")}static generate(e){if(e&&32!==e.length)throw Error("Ed25519 Seed needs to be 32 bytes long.");e||(e=Z.utils.randomPrivateKey()),(0,y.IA)(e,new Uint8Array(Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");let t=new Uint8Array(32);for(let r=0;r<32;r++)t[r]=new Uint8Array(e)[r];let r=Z.getPublicKey(t);return ei.fromKeyPair(r,t)}static fromParsedJson(e){let[t,r]=e;return new ei(en.fromDer((0,y.H_)(t)),(0,y.H_)(r))}static fromJSON(e){let t=JSON.parse(e);if(Array.isArray(t)){if("string"==typeof t[0]&&"string"==typeof t[1])return this.fromParsedJson([t[0],t[1]]);throw Error("Deserialization error: JSON must have at least 2 items.")}throw Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(e)}`)}static fromKeyPair(e,t){return new ei(en.fromRaw(e),t)}static fromSecretKey(e){let t=Z.getPublicKey(new Uint8Array(e));return ei.fromKeyPair(t,e)}toJSON(){return[(0,y.NC)(et(this,f,"f").toDer()),(0,y.NC)(et(this,c,"f"))]}getKeyPair(){return{secretKey:et(this,c,"f"),publicKey:et(this,f,"f")}}getPublicKey(){return et(this,f,"f")}async sign(e){let t=new Uint8Array(e),r=(0,y.wy)(Z.sign(t,et(this,c,"f").slice(0,32)));return Object.defineProperty(r,"__signature__",{enumerable:!1,value:void 0}),r}static verify(e,t,r){let[n,i,o]=[e,t,r].map(e=>("string"==typeof e&&(e=(0,y.H_)(e)),e instanceof Uint8Array&&(e=e.buffer),new Uint8Array(e)));return Z.verify(i,n,o)}}f=new WeakMap,c=new WeakMap;class eo extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,eo.prototype)}}function es(e){if(void 0!==r.g&&r.g.crypto&&r.g.crypto.subtle)return r.g.crypto.subtle;if(e)return e;if("undefined"!=typeof crypto&&crypto.subtle)return crypto.subtle;throw new eo("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class ea extends b.$4{constructor(e,t,r){super(),this._keyPair=e,this._derKey=t,this._subtleCrypto=r}static async generate(e){let{extractable:t=!1,keyUsages:r=["sign","verify"],subtleCrypto:n}=null!=e?e:{},i=es(n),o=await i.generateKey({name:"ECDSA",namedCurve:"P-256"},t,r),s=await i.exportKey("spki",o.publicKey);return new this(o,s,i)}static async fromKeyPair(e,t){let r=es(t),n=await r.exportKey("spki",e.publicKey);return new ea(e,n,r)}getKeyPair(){return this._keyPair}getPublicKey(){let e=this._derKey,t=Object.create(this._keyPair.publicKey);return t.toDer=function(){return e},t}async sign(e){return await this._subtleCrypto.sign({name:"ECDSA",hash:{name:"SHA-256"}},this._keyPair.privateKey,e)}}var eu=r(8727),ef=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},ec=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class el{constructor(e){l.set(this,void 0),ef(this,l,e,"f")}get rawKey(){return ec(this,l,"f").rawKey}get derKey(){return ec(this,l,"f").derKey}toDer(){return ec(this,l,"f").toDer()}getPublicKey(){return ec(this,l,"f")}getPrincipal(){return g.R.from(ec(this,l,"f").rawKey)}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}l=new WeakMap;var eh=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},ed=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},ep=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let ey=new TextEncoder().encode("\x1aic-request-auth-delegation"),eg=new TextEncoder().encode("\nic-request");function eb(e){if("string"!=typeof e||e.length<64)throw Error("Invalid public key.");return(0,y.H_)(e)}class em{constructor(e,t,r){this.pubkey=e,this.expiration=t,this.targets=r}toCBOR(){return eu.value.map(Object.assign({pubkey:eu.value.bytes(this.pubkey),expiration:eu.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:eu.value.array(this.targets.map(e=>eu.value.bytes(e.toUint8Array())))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:(0,y.NC)(this.pubkey)},this.targets&&{targets:this.targets.map(e=>e.toHex())})}}async function ew(e,t,r,n){let i=new em(t.toDer(),BigInt(+r)*BigInt(1e6),n),o=new Uint8Array([...ey,...new Uint8Array((0,w.vH)(i))]);return{delegation:i,signature:await e.sign(o)}}class ev{constructor(e,t){this.delegations=e,this.publicKey=t}static async create(e,t,r=new Date(Date.now()+9e5),n={}){var i,o;let s=await ew(e,t,r,n.targets);return new ev([...(null===(i=n.previous)||void 0===i?void 0:i.delegations)||[],s],(null===(o=n.previous)||void 0===o?void 0:o.publicKey)||e.getPublicKey().toDer())}static fromJSON(e){let{publicKey:t,delegations:r}="string"==typeof e?JSON.parse(e):e;if(!Array.isArray(r))throw Error("Invalid delegations.");return new this(r.map(e=>{let{delegation:t,signature:r}=e,{pubkey:n,expiration:i,targets:o}=t;if(void 0!==o&&!Array.isArray(o))throw Error("Invalid targets.");return{delegation:new em(eb(n),BigInt("0x"+i),o&&o.map(e=>{if("string"!=typeof e)throw Error("Invalid target.");return g.R.fromHex(e)})),signature:eb(r)}}),eb(t))}static fromDelegations(e,t){return new this(e,t)}toJSON(){return{delegations:this.delegations.map(e=>{let{delegation:t,signature:r}=e,{targets:n}=t;return{delegation:Object.assign({expiration:t.expiration.toString(16),pubkey:(0,y.NC)(t.pubkey)},n&&{targets:n.map(e=>e.toHex())}),signature:(0,y.NC)(r)}}),publicKey:(0,y.NC)(this.publicKey)}}}class eE extends b.$4{constructor(e,t){super(),this._inner=e,this._delegation=t}static fromDelegation(e,t){return new this(e,t)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){let{body:t}=e,r=ep(e,["body"]),n=await (0,w.vH)(t);return Object.assign(Object.assign({},r),{body:{content:t,sender_sig:await this.sign(new Uint8Array([...eg,...new Uint8Array(n)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class e_ extends el{constructor(e,t){super(e),h.set(this,void 0),eh(this,h,t,"f")}get delegation(){return ed(this,h,"f")}static fromDelegation(e,t){return new e_(e,t)}}h=new WeakMap,r(2851),(s=d||(d={}))[s.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256";let eB=["mousedown","mousemove","keydown","touchstart","wheel"];class eA{constructor(e={}){var t;this.callbacks=[],this.idleTimeout=6e5,this.timeoutID=void 0;let{onIdle:r,idleTimeout:n=6e5}=e||{};this.callbacks=r?[r]:[],this.idleTimeout=n;let i=this._resetTimer.bind(this);if(window.addEventListener("load",i,!0),eB.forEach(function(e){document.addEventListener(e,i,!0)}),null==e?void 0:e.captureScroll){let r=((e,t)=>{let r;return(...n)=>{let i=this;clearTimeout(r),r=window.setTimeout(function(){r=void 0,e.apply(i,n)},t)}})(i,null!==(t=null==e?void 0:e.scrollDebounce)&&void 0!==t?t:100);window.addEventListener("scroll",r,!0)}i()}static create(e={}){return new this(e)}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);let e=this._resetTimer.bind(this);eB.forEach(function(t){document.removeEventListener(t,e,!0)}),this.callbacks.forEach(e=>e())}_resetTimer(){let e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}}let eI=(e,t)=>t.some(t=>e instanceof t),ex=new WeakMap,eS=new WeakMap,eT=new WeakMap,eN=new WeakMap,eO=new WeakMap,eU={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return eS.get(e);if("objectStoreNames"===t)return e.objectStoreNames||eT.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return eR(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function eR(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(eR(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&ex.set(t,e)}).catch(()=>{}),eO.set(t,e),t}(e);if(eN.has(e))return eN.get(e);let r="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(eL(this),e),eR(ex.get(this))}:function(...e){return eR(t.apply(eL(this),e))}:function(e,...r){let n=t.call(eL(this),e,...r);return eT.set(n,e.sort?e.sort():[e]),eR(n)}:(t instanceof IDBTransaction&&function(e){if(eS.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});eS.set(e,t)}(t),eI(t,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,eU):t;return r!==e&&(eN.set(e,r),eO.set(r,e)),r}let eL=e=>eO.get(e),eP=["get","getKey","getAll","getAllKeys","count"],eF=["put","add","delete","clear"],eD=new Map;function ek(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eD.get(t))return eD.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=eF.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||eP.includes(r)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),s=o.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),i&&o.done]))[0]};return eD.set(t,o),o}eU={...o=eU,get:(e,t,r)=>ek(e,t)||o.get(e,t,r),has:(e,t)=>!!ek(e,t)||o.has(e,t)};let eM="auth-client-db",eC="ic-keyval",ej=async(e=eM,t=eC,r)=>(eY&&(null==localStorage?void 0:localStorage.getItem(eZ))&&(localStorage.removeItem(eZ),localStorage.removeItem(eK)),await function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=eR(s);return n&&s.addEventListener("upgradeneeded",e=>{n(eR(s.result),e.oldVersion,e.newVersion,eR(s.transaction),e)}),r&&s.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}(e,r,{upgrade:e=>{e.objectStoreNames.contains(t)&&e.clear(t),e.createObjectStore(t)}}));async function eV(e,t,r){return await e.get(t,r)}async function e$(e,t,r,n){return await e.put(t,n,r)}async function eq(e,t,r){return await e.delete(t,r)}class ez{constructor(e,t){this._db=e,this._storeName=t}static async create(e){let{dbName:t=eM,storeName:r=eC,version:n=eW}=null!=e?e:{};return new ez(await ej(t,r,n),r)}async set(e,t){return await e$(this._db,this._storeName,e,t)}async get(e){var t;return null!==(t=await eV(this._db,this._storeName,e))&&void 0!==t?t:null}async remove(e){return await eq(this._db,this._storeName,e)}}var eG=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},eH=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};let eK="identity",eZ="delegation",eW=1,eY="undefined"!=typeof window;class eJ{constructor(e="ic-",t){this.prefix=e,this._localStorage=t}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,t){return this._getLocalStorage().setItem(this.prefix+e,t),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;let e="undefined"==typeof window?void 0===r.g?"undefined"==typeof self?void 0:self.localStorage:r.g.localStorage:window.localStorage;if(!e)throw Error("Could not find local storage.");return e}}class eQ{constructor(e){p.set(this,void 0),eG(this,p,null!=e?e:{},"f")}get _db(){return new Promise(e=>{if(this.initializedDb){e(this.initializedDb);return}ez.create(eH(this,p,"f")).then(t=>{this.initializedDb=t,e(t)})})}async get(e){let t=await this._db;return await t.get(e)}async set(e,t){let r=await this._db;await r.set(e,t)}async remove(e){let t=await this._db;await t.remove(e)}}p=new WeakMap;let eX="ECDSA",e0="Ed25519";class e1{constructor(e,t,r,n,i,o,s,a){this._identity=e,this._key=t,this._chain=r,this._storage=n,this.idleManager=i,this._createOptions=o,this._idpWindow=s,this._eventHandler=a,this._registerDefaultIdleCallback()}static async create(e={}){var t,r,n;let i;let o=null!==(t=e.storage)&&void 0!==t?t:new eQ,s=null!==(r=e.keyType)&&void 0!==r?r:eX,a=null;if(e.identity)a=e.identity;else{let e=await o.get(eK);if(!e&&eY)try{let t=new eJ,r=await t.get(eZ),n=await t.get(eK);r&&n&&s===eX&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await o.set(eZ,r),await o.set(eK,n),e=r,await t.remove(eZ),await t.remove(eK))}catch(e){console.error("error while attempting to recover localstorage: "+e)}if(e)try{"object"==typeof e?a=s===e0&&"string"==typeof e?await ei.fromJSON(e):await ea.fromKeyPair(e):"string"==typeof e&&(a=ei.fromJSON(e))}catch(e){}}let u=new b.ed,f=null;if(a)try{let t=await o.get(eZ);if("object"==typeof t&&null!==t)throw Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?u=e.identity:t&&(f=ev.fromJSON(t),function(e,t){for(let{delegation:t}of e.delegations)if(+new Date(Number(t.expiration/BigInt(1e6)))<=+Date.now())return!1;let r=[],n=void 0;for(let t of(n&&(Array.isArray(n)?r.push(...n.map(e=>"string"==typeof e?g.R.fromText(e):e)):r.push("string"==typeof n?g.R.fromText(n):n)),r)){let r=t.toText();for(let{delegation:t}of e.delegations){if(void 0===t.targets)continue;let e=!0;for(let n of t.targets)if(n.toText()===r){e=!1;break}if(e)return!1}}return!0}(f)?u="toDer"in a?e_.fromDelegation(a,f):eE.fromDelegation(a,f):(await e2(o),a=null))}catch(e){console.error(e),await e2(o),a=null}return(null===(n=e.idleOptions)||void 0===n?void 0:n.disableIdle)?i=void 0:(f||e.identity)&&(i=eA.create(e.idleOptions)),a||(s===e0?(a=await ei.generate(),await o.set(eK,JSON.stringify(a.toJSON()))):(e.storage&&s===eX&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${e0}' as the key type, as it can serialize to a string`),a=await ea.generate(),await o.set(eK,a.getKeyPair()))),new this(u,a,f,o,i,e)}_registerDefaultIdleCallback(){var e,t;let r=null===(e=this._createOptions)||void 0===e?void 0:e.idleOptions;(null==r?void 0:r.onIdle)||(null==r?void 0:r.disableDefaultIdleCallback)||null===(t=this.idleManager)||void 0===t||t.registerCallback(()=>{this.logout(),location.reload()})}async _handleSuccess(e,t){var r,n;let i=e.delegations.map(e=>({delegation:new em(e.delegation.pubkey,e.delegation.expiration,e.delegation.targets),signature:e.signature.buffer})),o=ev.fromDelegations(i,e.userPublicKey.buffer),s=this._key;if(!s)return;this._chain=o,"toDer"in s?this._identity=e_.fromDelegation(s,this._chain):this._identity=eE.fromDelegation(s,this._chain),null===(r=this._idpWindow)||void 0===r||r.close();let a=null===(n=this._createOptions)||void 0===n?void 0:n.idleOptions;this.idleManager||(null==a?void 0:a.disableIdle)||(this.idleManager=eA.create(a),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(eZ,JSON.stringify(this._chain.toJSON())),null==t||t(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&null!==this._chain}async login(e){var t,r,n,i;let o=BigInt(8)*BigInt(36e11),s=new URL((null===(t=null==e?void 0:e.identityProvider)||void 0===t?void 0:t.toString())||"https://identity.ic0.app");s.hash="#authorize",null===(r=this._idpWindow)||void 0===r||r.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(s,Object.assign({maxTimeToLive:null!==(n=null==e?void 0:e.maxTimeToLive)&&void 0!==n?n:o},e)),window.addEventListener("message",this._eventHandler),this._idpWindow=null!==(i=window.open(s.toString(),"idpWindow",null==e?void 0:e.windowOpenerFeatures))&&void 0!==i?i:void 0;let a=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure("UserInterrupt",null==e?void 0:e.onError):setTimeout(a,500))};a()}_getEventHandler(e,t){return async r=>{var n,i,o;if(r.origin!==e.origin){console.warn(`WARNING: expected origin '${e.origin}', got '${r.origin}' (ignoring)`);return}let s=r.data;switch(s.kind){case"authorize-ready":{let r=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array(null===(n=this._key)||void 0===n?void 0:n.getPublicKey().toDer()),maxTimeToLive:null==t?void 0:t.maxTimeToLive,allowPinAuthentication:null==t?void 0:t.allowPinAuthentication,derivationOrigin:null===(i=null==t?void 0:t.derivationOrigin)||void 0===i?void 0:i.toString()},null==t?void 0:t.customValues);null===(o=this._idpWindow)||void 0===o||o.postMessage(r,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(s,null==t?void 0:t.onSuccess)}catch(e){this._handleFailure(e.message,null==t?void 0:t.onError)}break;case"authorize-client-failure":this._handleFailure(s.text,null==t?void 0:t.onError)}}}_handleFailure(e,t){var r;null===(r=this._idpWindow)||void 0===r||r.close(),null==t||t(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await e2(this._storage),this._identity=new b.ed,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch(t){window.location.href=e.returnTo}}}async function e2(e){await e.remove(eK),await e.remove(eZ),await e.remove("iv")}},4860:function(e,t,r){"use strict";r.d(t,{xO:function(){return n},P8:function(){return s},rS:function(){return u},aC:function(){return p},dZ:function(){return d}});var n={};r.r(n),r.d(n,{Bool:function(){return ee},BoolClass:function(){return N},ConstructType:function(){return x},Empty:function(){return J},EmptyClass:function(){return S},FixedIntClass:function(){return D},FixedNatClass:function(){return k},Float32:function(){return eo},Float64:function(){return es},FloatClass:function(){return F},Func:function(){return e_},FuncClass:function(){return H},Int:function(){return en},Int16:function(){return eu},Int32:function(){return ef},Int64:function(){return ec},Int8:function(){return ea},IntClass:function(){return L},Nat:function(){return ei},Nat16:function(){return eh},Nat32:function(){return ed},Nat64:function(){return ep},Nat8:function(){return el},NatClass:function(){return P},Null:function(){return et},NullClass:function(){return O},Opt:function(){return em},OptClass:function(){return C},PrimitiveType:function(){return I},Principal:function(){return ey},PrincipalClass:function(){return G},Rec:function(){return eE},RecClass:function(){return q},Record:function(){return ew},RecordClass:function(){return j},Reserved:function(){return Q},ReservedClass:function(){return U},Service:function(){return eB},ServiceClass:function(){return K},Text:function(){return er},TextClass:function(){return R},Tuple:function(){return eg},TupleClass:function(){return V},Type:function(){return A},Unknown:function(){return X},UnknownClass:function(){return T},Variant:function(){return ev},VariantClass:function(){return $},Vec:function(){return eb},VecClass:function(){return M},Visitor:function(){return B},decode:function(){return Y},encode:function(){return W}});var i=r(1263);function o(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.byteLength,0)),r=0;for(let n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}class s{constructor(e,t=(null==e?void 0:e.byteLength)||0){this._buffer=u(e||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,t)}get buffer(){return u(this._view.slice())}get byteLength(){return this._view.byteLength}read(e){let t=this._view.subarray(0,e);return this._view=this._view.subarray(e),t.slice().buffer}readUint8(){let e=this._view[0];return this._view=this._view.subarray(1),e}write(e){let t=new Uint8Array(e),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+t.byteLength>=this._buffer.byteLength?this.alloc(t.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+t.byteLength),this._view.set(t,r)}get end(){return 0===this._view.byteLength}alloc(e){let t=new ArrayBuffer((this._buffer.byteLength+e)*1.2|0),r=new Uint8Array(t,0,this._view.byteLength+e);r.set(this._view),this._buffer=t,this._view=r}}function a(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function u(e){return e instanceof Uint8Array?a(e):e instanceof ArrayBuffer?e:Array.isArray(e)?a(new Uint8Array(e)):"buffer"in e?u(e.buffer):a(new Uint8Array(e))}function f(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){let t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<4294967296)return t}return function(e){let t=new TextEncoder().encode(e),r=0;for(let e of t)r=(223*r+e)%4294967296;return r}(e)}function c(){throw Error("unexpected end of buffer")}function l(e,t){return e.byteLength<t&&c(),e.read(t)}function h(e){let t=e.readUint8();return void 0===t&&c(),t}function d(e){if("number"==typeof e&&(e=BigInt(e)),e<BigInt(0))throw Error("Cannot leb encode negative values.");let t=new s(new ArrayBuffer((e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1),0);for(;;){let r=Number(e&BigInt(127));if((e/=BigInt(128))===BigInt(0)){t.write(new Uint8Array([r]));break}t.write(new Uint8Array([128|r]))}return t.buffer}function p(e){let t,r=BigInt(1),n=BigInt(0);do n+=BigInt(127&(t=h(e))).valueOf()*r,r*=BigInt(128);while(t>=128);return n}function y(e){"number"==typeof e&&(e=BigInt(e));let t=e<BigInt(0);t&&(e=-e-BigInt(1));let r=new s(new ArrayBuffer((e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1),0);for(;;){let n=function(e){let r=e%BigInt(128);return t?Number(BigInt(128)-r-BigInt(1)):Number(r)}(e);if(e/=BigInt(128),t&&e===BigInt(0)&&(64&n)!=0||!t&&e===BigInt(0)&&(64&n)==0){r.write(new Uint8Array([n]));break}r.write(new Uint8Array([128|n]))}return r.buffer}function g(e){let t=new Uint8Array(e.buffer),r=0;for(;r<t.byteLength;r++)if(t[r]<128){if((64&t[r])==0)return p(e);break}let n=new Uint8Array(l(e,r+1)),i=BigInt(0);for(let e=n.byteLength-1;e>=0;e--)i=i*BigInt(128)+BigInt(128-(127&n[e])-1);return-i-BigInt(1)}function b(e,t){e=BigInt(e);let r=new s(new ArrayBuffer(Math.min(1,t)),0),n=0,i=BigInt(256),o=BigInt(0),a=Number(e%i);for(r.write(new Uint8Array([a]));++n<t;)e<0&&o===BigInt(0)&&0!==a&&(o=BigInt(1)),a=Number((e/i-o)%BigInt(256)),r.write(new Uint8Array([a])),i*=BigInt(256);return r.buffer}function m(e,t){let r=BigInt(h(e)),n=BigInt(1),i=0;for(;++i<t;)n*=BigInt(256),r+=n*BigInt(h(e));return r}function w(e){let t=BigInt(e);if(e<0)throw RangeError("Input must be non-negative");return BigInt(1)<<t}let v="DIDL";function E(e,t,r){return e.map((e,n)=>r(e,t[n]))}class _{constructor(){this._typs=[],this._idx=new Map}has(e){return this._idx.has(e.name)}add(e,t){let r=this._typs.length;this._idx.set(e.name,r),this._typs.push(t)}merge(e,t){let r=this._idx.get(e.name),n=this._idx.get(t);if(void 0===r)throw Error("Missing type index for "+e);if(void 0===n)throw Error("Missing type index for "+t);this._typs[r]=this._typs[n],this._typs.splice(n,1),this._idx.delete(t)}encode(){let e=d(this._typs.length),t=o(...this._typs);return o(e,t)}indexOf(e){if(!this._idx.has(e))throw Error("Missing type index for "+e);return y(this._idx.get(e)||0)}}class B{visitType(e,t){throw Error("Not implemented")}visitPrimitive(e,t){return this.visitType(e,t)}visitEmpty(e,t){return this.visitPrimitive(e,t)}visitBool(e,t){return this.visitPrimitive(e,t)}visitNull(e,t){return this.visitPrimitive(e,t)}visitReserved(e,t){return this.visitPrimitive(e,t)}visitText(e,t){return this.visitPrimitive(e,t)}visitNumber(e,t){return this.visitPrimitive(e,t)}visitInt(e,t){return this.visitNumber(e,t)}visitNat(e,t){return this.visitNumber(e,t)}visitFloat(e,t){return this.visitPrimitive(e,t)}visitFixedInt(e,t){return this.visitNumber(e,t)}visitFixedNat(e,t){return this.visitNumber(e,t)}visitPrincipal(e,t){return this.visitPrimitive(e,t)}visitConstruct(e,t){return this.visitType(e,t)}visitVec(e,t,r){return this.visitConstruct(e,r)}visitOpt(e,t,r){return this.visitConstruct(e,r)}visitRecord(e,t,r){return this.visitConstruct(e,r)}visitTuple(e,t,r){let n=t.map((e,t)=>[`_${t}_`,e]);return this.visitRecord(e,n,r)}visitVariant(e,t,r){return this.visitConstruct(e,r)}visitRec(e,t,r){return this.visitConstruct(t,r)}visitFunc(e,t){return this.visitConstruct(e,t)}visitService(e,t){return this.visitConstruct(e,t)}}class A{display(){return this.name}valueToString(e){return Z(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}}class I extends A{checkType(e){if(this.name!==e.name)throw Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}}class x extends A{checkType(e){if(e instanceof q){let t=e.getType();if(void 0===t)throw Error("type mismatch with uninitialized type");return t}throw Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}}class S extends I{accept(e,t){return e.visitEmpty(this,t)}covariant(e){throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(){throw Error("Empty cannot appear as a function argument")}valueToString(){throw Error("Empty cannot appear as a value")}encodeType(){return y(-17)}decodeValue(){throw Error("Empty cannot appear as an output")}get name(){return"empty"}}class T extends A{checkType(e){throw Error("Method not implemented for unknown.")}accept(e,t){throw e.visitType(this,t)}covariant(e){throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(){throw Error("Unknown cannot appear as a function argument")}valueToString(){throw Error("Unknown cannot appear as a value")}encodeType(){throw Error("Unknown cannot be serialized")}decodeValue(e,t){let r=t.decodeValue(e,t);return Object(r)!==r&&(r=Object(r)),Object.defineProperty(r,"type",{value:t instanceof q?()=>t.getType():()=>t,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class N extends I{accept(e,t){return e.visitBool(this,t)}covariant(e){if("boolean"==typeof e)return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return y(-2)}decodeValue(e,t){switch(this.checkType(t),h(e)){case 0:return!1;case 1:return!0;default:throw Error("Boolean value out of range")}}get name(){return"bool"}}class O extends I{accept(e,t){return e.visitNull(this,t)}covariant(e){if(null===e)return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return y(-1)}decodeValue(e,t){return this.checkType(t),null}get name(){return"null"}}class U extends I{accept(e,t){return e.visitReserved(this,t)}covariant(e){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return y(-16)}decodeValue(e,t){return t.name!==this.name&&t.decodeValue(e,t),null}get name(){return"reserved"}}class R extends I{accept(e,t){return e.visitText(this,t)}covariant(e){if("string"==typeof e)return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){let t=new TextEncoder().encode(e);return o(d(t.byteLength),t)}encodeType(){return y(-15)}decodeValue(e,t){this.checkType(t);let r=p(e),n=l(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(n)}get name(){return"text"}valueToString(e){return'"'+e+'"'}}class L extends I{accept(e,t){return e.visitInt(this,t)}covariant(e){if("bigint"==typeof e||Number.isInteger(e))return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){return y(e)}encodeType(){return y(-4)}decodeValue(e,t){return this.checkType(t),g(e)}get name(){return"int"}valueToString(e){return e.toString()}}class P extends I{accept(e,t){return e.visitNat(this,t)}covariant(e){if("bigint"==typeof e&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){return d(e)}encodeType(){return y(-3)}decodeValue(e,t){return this.checkType(t),p(e)}get name(){return"nat"}valueToString(e){return e.toString()}}class F extends I{constructor(e){if(super(),this._bits=e,32!==e&&64!==e)throw Error("not a valid float type")}accept(e,t){return e.visitFloat(this,t)}covariant(e){if("number"==typeof e||e instanceof Number)return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){let t=new ArrayBuffer(this._bits/8),r=new DataView(t);return 32===this._bits?r.setFloat32(0,e,!0):r.setFloat64(0,e,!0),t}encodeType(){return y(32===this._bits?-13:-14)}decodeValue(e,t){this.checkType(t);let r=new DataView(l(e,this._bits/8));return 32===this._bits?r.getFloat32(0,!0):r.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}}class D extends I{constructor(e){super(),this._bits=e}accept(e,t){return e.visitFixedInt(this,t)}covariant(e){let t=w(this._bits-1)*BigInt(-1),r=w(this._bits-1)-BigInt(1),n=!1;if("bigint"==typeof e)n=e>=t&&e<=r;else if(Number.isInteger(e)){let i=BigInt(e);n=i>=t&&i<=r}else n=!1;if(n)return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){return b(e,this._bits/8)}encodeType(){return y(-9-(Math.log2(this._bits)-3))}decodeValue(e,t){this.checkType(t);let r=function(e,t){let r=m(e,t),n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}}class k extends I{constructor(e){super(),this._bits=e}accept(e,t){return e.visitFixedNat(this,t)}covariant(e){let t=w(this._bits);if("bigint"==typeof e&&e>=BigInt(0)?e<t:!!Number.isInteger(e)&&e>=0&&BigInt(e)<t)return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){return function(e,t){if(BigInt(e)<BigInt(0))throw Error("Cannot write negative values.");return b(e,t)}(e,this._bits/8)}encodeType(){return y(-5-(Math.log2(this._bits)-3))}decodeValue(e,t){this.checkType(t);let r=m(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}}class M extends x{constructor(e){super(),this._type=e,this._blobOptimization=!1,e instanceof k&&8===e._bits&&(this._blobOptimization=!0)}accept(e,t){return e.visitVec(this,this._type,t)}covariant(e){let t=this._type instanceof k?this._type._bits:this._type instanceof D?this._type._bits:0;if(ArrayBuffer.isView(e)&&t==8*e.BYTES_PER_ELEMENT||Array.isArray(e)&&e.every((e,t)=>{try{return this._type.covariant(e)}catch(e){throw Error(`Invalid ${this.display()} argument: 

index ${t} -> ${e.message}`)}}))return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){let t=d(e.length);if(this._blobOptimization)return o(t,new Uint8Array(e));if(ArrayBuffer.isView(e))return o(t,new Uint8Array(e.buffer));let r=new s(new ArrayBuffer(t.byteLength+e.length),0);for(let n of(r.write(t),e)){let e=this._type.encodeValue(n);r.write(new Uint8Array(e))}return r.buffer}_buildTypeTableImpl(e){this._type.buildTypeTable(e);let t=y(-19),r=this._type.encodeType(e);e.add(this,o(t,r))}decodeValue(e,t){let r=this.checkType(t);if(!(r instanceof M))throw Error("Not a vector type");let n=Number(p(e));if(this._type instanceof k){if(8==this._type._bits)return new Uint8Array(e.read(n));if(16==this._type._bits)return new Uint16Array(e.read(2*n));if(32==this._type._bits)return new Uint32Array(e.read(4*n));if(64==this._type._bits)return new BigUint64Array(e.read(8*n))}if(this._type instanceof D){if(8==this._type._bits)return new Int8Array(e.read(n));if(16==this._type._bits)return new Int16Array(e.read(2*n));if(32==this._type._bits)return new Int32Array(e.read(4*n));if(64==this._type._bits)return new BigInt64Array(e.read(8*n))}let i=[];for(let t=0;t<n;t++)i.push(this._type.decodeValue(e,r._type));return i}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(e){return"vec {"+e.map(e=>this._type.valueToString(e)).join("; ")+"}"}}class C extends x{constructor(e){super(),this._type=e}accept(e,t){return e.visitOpt(this,this._type,t)}covariant(e){try{if(Array.isArray(e)&&(0===e.length||1===e.length&&this._type.covariant(e[0])))return!0}catch(t){throw Error(`Invalid ${this.display()} argument: ${Z(e)} 

-> ${t.message}`)}throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){return 0===e.length?new Uint8Array([0]):o(new Uint8Array([1]),this._type.encodeValue(e[0]))}_buildTypeTableImpl(e){this._type.buildTypeTable(e);let t=y(-18),r=this._type.encodeType(e);e.add(this,o(t,r))}decodeValue(e,t){let r=this.checkType(t);if(!(r instanceof C))throw Error("Not an option type");switch(h(e)){case 0:return[];case 1:return[this._type.decodeValue(e,r._type)];default:throw Error("Not an option value")}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(e){return 0===e.length?"null":`opt ${this._type.valueToString(e[0])}`}}class j extends x{constructor(e={}){super(),this._fields=Object.entries(e).sort((e,t)=>f(e[0])-f(t[0]))}accept(e,t){return e.visitRecord(this,this._fields,t)}tryAsTuple(){let e=[];for(let t=0;t<this._fields.length;t++){let[r,n]=this._fields[t];if(r!==`_${t}_`)return null;e.push(n)}return e}covariant(e){if("object"==typeof e&&this._fields.every(([t,r])=>{if(!e.hasOwnProperty(t))throw Error(`Record is missing key "${t}".`);try{return r.covariant(e[t])}catch(e){throw Error(`Invalid ${this.display()} argument: 

field ${t} -> ${e.message}`)}}))return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){let t=this._fields.map(([t])=>e[t]);return o(...E(this._fields,t,([,e],t)=>e.encodeValue(t)))}_buildTypeTableImpl(e){this._fields.forEach(([t,r])=>r.buildTypeTable(e));let t=y(-20),r=d(this._fields.length),n=this._fields.map(([t,r])=>o(d(f(t)),r.encodeType(e)));e.add(this,o(t,r,o(...n)))}decodeValue(e,t){let r=this.checkType(t);if(!(r instanceof j))throw Error("Not a record type");let n={},i=0,o=0;for(;o<r._fields.length;){let[t,s]=r._fields[o];if(i>=this._fields.length){s.decodeValue(e,s),o++;continue}let[a,u]=this._fields[i],c=f(this._fields[i][0]),l=f(t);if(c===l)n[a]=u.decodeValue(e,s),i++,o++;else if(l>c){if(u instanceof C||u instanceof U)n[a]=[],i++;else throw Error("Cannot find required field "+a)}else s.decodeValue(e,s),o++}for(let[e,t]of this._fields.slice(i))if(t instanceof C||t instanceof U)n[e]=[];else throw Error("Cannot find required field "+e);return n}get name(){let e=this._fields.map(([e,t])=>e+":"+t.name);return`record {${e.join("; ")}}`}display(){let e=this._fields.map(([e,t])=>e+":"+t.display());return`record {${e.join("; ")}}`}valueToString(e){let t=this._fields.map(([t])=>e[t]),r=E(this._fields,t,([e,t],r)=>e+"="+t.valueToString(r));return`record {${r.join("; ")}}`}}class V extends j{constructor(e){let t={};e.forEach((e,r)=>t["_"+r+"_"]=e),super(t),this._components=e}accept(e,t){return e.visitTuple(this,this._components,t)}covariant(e){if(Array.isArray(e)&&e.length>=this._fields.length&&this._components.every((t,r)=>{try{return t.covariant(e[r])}catch(e){throw Error(`Invalid ${this.display()} argument: 

index ${r} -> ${e.message}`)}}))return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){return o(...E(this._components,e,(e,t)=>e.encodeValue(t)))}decodeValue(e,t){let r=this.checkType(t);if(!(r instanceof V))throw Error("not a tuple type");if(r._components.length<this._components.length)throw Error("tuple mismatch");let n=[];for(let[t,i]of r._components.entries())t>=this._components.length?i.decodeValue(e,i):n.push(this._components[t].decodeValue(e,i));return n}display(){let e=this._components.map(e=>e.display());return`record {${e.join("; ")}}`}valueToString(e){let t=E(this._components,e,(e,t)=>e.valueToString(t));return`record {${t.join("; ")}}`}}class $ extends x{constructor(e={}){super(),this._fields=Object.entries(e).sort((e,t)=>f(e[0])-f(t[0]))}accept(e,t){return e.visitVariant(this,this._fields,t)}covariant(e){if("object"==typeof e&&1===Object.entries(e).length&&this._fields.every(([t,r])=>{try{return!e.hasOwnProperty(t)||r.covariant(e[t])}catch(e){throw Error(`Invalid ${this.display()} argument: 

variant ${t} -> ${e.message}`)}}))return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){for(let t=0;t<this._fields.length;t++){let[r,n]=this._fields[t];if(e.hasOwnProperty(r))return o(d(t),n.encodeValue(e[r]))}throw Error("Variant has no data: "+e)}_buildTypeTableImpl(e){this._fields.forEach(([,t])=>{t.buildTypeTable(e)});let t=y(-21),r=d(this._fields.length),n=this._fields.map(([t,r])=>o(d(f(t)),r.encodeType(e)));e.add(this,o(t,r,...n))}decodeValue(e,t){let r=this.checkType(t);if(!(r instanceof $))throw Error("Not a variant type");let n=Number(p(e));if(n>=r._fields.length)throw Error("Invalid variant index: "+n);let[i,o]=r._fields[n];for(let[t,r]of this._fields)if(f(i)===f(t))return{[t]:r.decodeValue(e,o)};throw Error("Cannot find field hash "+i)}get name(){let e=this._fields.map(([e,t])=>e+":"+t.name);return`variant {${e.join("; ")}}`}display(){let e=this._fields.map(([e,t])=>e+("null"===t.name?"":`:${t.display()}`));return`variant {${e.join("; ")}}`}valueToString(e){for(let[t,r]of this._fields)if(e.hasOwnProperty(t)){let n=r.valueToString(e[t]);if("null"===n)return`variant {${t}}`;return`variant {${t}=${n}}`}throw Error("Variant has no data: "+e)}}class q extends x{constructor(){super(...arguments),this._id=q._counter++,this._type=void 0}accept(e,t){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,t)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,t)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}}function z(e){if(1!==h(e))throw Error("Cannot decode principal");let t=Number(p(e));return i.R.fromUint8Array(new Uint8Array(l(e,t)))}q._counter=0;class G extends I{accept(e,t){return e.visitPrincipal(this,t)}covariant(e){if(e&&e._isPrincipal)return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){let t=e.toUint8Array(),r=d(t.byteLength);return o(new Uint8Array([1]),r,t)}encodeType(){return y(-24)}decodeValue(e,t){return this.checkType(t),z(e)}get name(){return"principal"}valueToString(e){return`${this.name} "${e.toText()}"`}}class H extends x{constructor(e,t,r=[]){super(),this.argTypes=e,this.retTypes=t,this.annotations=r}static argsToString(e,t){if(e.length!==t.length)throw Error("arity mismatch");return"("+e.map((e,r)=>e.valueToString(t[r])).join(", ")+")"}accept(e,t){return e.visitFunc(this,t)}covariant(e){if(Array.isArray(e)&&2===e.length&&e[0]&&e[0]._isPrincipal&&"string"==typeof e[1])return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue([e,t]){let r=e.toUint8Array(),n=d(r.byteLength),i=o(new Uint8Array([1]),n,r),s=new TextEncoder().encode(t),a=d(s.byteLength);return o(new Uint8Array([1]),i,a,s)}_buildTypeTableImpl(e){this.argTypes.forEach(t=>t.buildTypeTable(e)),this.retTypes.forEach(t=>t.buildTypeTable(e));let t=y(-22),r=d(this.argTypes.length),n=o(...this.argTypes.map(t=>t.encodeType(e))),i=d(this.retTypes.length),s=o(...this.retTypes.map(t=>t.encodeType(e))),a=d(this.annotations.length),u=o(...this.annotations.map(e=>this.encodeAnnotation(e)));e.add(this,o(t,r,n,i,s,a,u))}decodeValue(e){if(1!==h(e))throw Error("Cannot decode function reference");let t=z(e),r=Number(p(e)),n=l(e,r);return[t,new TextDecoder("utf8",{fatal:!0}).decode(n)]}get name(){let e=this.argTypes.map(e=>e.name).join(", "),t=this.retTypes.map(e=>e.name).join(", "),r=" "+this.annotations.join(" ");return`(${e}) -> (${t})${r}`}valueToString([e,t]){return`func "${e.toText()}".${t}`}display(){let e=this.argTypes.map(e=>e.display()).join(", "),t=this.retTypes.map(e=>e.display()).join(", "),r=" "+this.annotations.join(" ");return`(${e})  (${t})${r}`}encodeAnnotation(e){if("query"===e)return new Uint8Array([1]);if("oneway"===e)return new Uint8Array([2]);if("composite_query"===e)return new Uint8Array([3]);throw Error("Illegal function annotation")}}class K extends x{constructor(e){super(),this._fields=Object.entries(e).sort((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0)}accept(e,t){return e.visitService(this,t)}covariant(e){if(e&&e._isPrincipal)return!0;throw Error(`Invalid ${this.display()} argument: ${Z(e)}`)}encodeValue(e){let t=e.toUint8Array(),r=d(t.length);return o(new Uint8Array([1]),r,t)}_buildTypeTableImpl(e){this._fields.forEach(([t,r])=>r.buildTypeTable(e));let t=y(-23),r=d(this._fields.length),n=this._fields.map(([t,r])=>{let n=new TextEncoder().encode(t);return o(d(n.length),n,r.encodeType(e))});e.add(this,o(t,r,...n))}decodeValue(e){return z(e)}get name(){let e=this._fields.map(([e,t])=>e+":"+t.name);return`service {${e.join("; ")}}`}valueToString(e){return`service "${e.toText()}"`}}function Z(e){let t=JSON.stringify(e,(e,t)=>"bigint"==typeof t?`BigInt(${t})`:t);return t&&t.length>400?t.substring(0,397)+"...":t}function W(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");let r=new _;e.forEach(e=>e.buildTypeTable(r));let n=new TextEncoder().encode(v),i=r.encode(),s=d(t.length),a=o(...e.map(e=>e.encodeType(r))),u=o(...E(e,t,(e,t)=>{try{e.covariant(t)}catch(e){throw Error(e.message+"\n\n")}return e.encodeValue(t)}));return o(n,i,s,a,u)}function Y(e,t){let r=new s(t);if(t.byteLength<v.length)throw Error("Message length smaller than magic number");let n=l(r,v.length),i=new TextDecoder().decode(n);if(i!==v)throw Error("Wrong magic number: "+JSON.stringify(i));let[o,a]=function(e){let t=[],r=Number(p(e));for(let n=0;n<r;n++){let r=Number(g(e));switch(r){case -18:case -19:{let n=Number(g(e));t.push([r,n]);break}case -20:case -21:{let n;let i=[],o=Number(p(e));for(;o--;){let t=Number(p(e));if(t>=4294967296)throw Error("field id out of 32-bit range");if("number"==typeof n&&n>=t)throw Error("field id collision or not sorted");n=t;let r=Number(g(e));i.push([t,r])}t.push([r,i]);break}case -22:{let n=[],i=Number(p(e));for(;i--;)n.push(Number(g(e)));let o=[],s=Number(p(e));for(;s--;)o.push(Number(g(e)));let a=[],u=Number(p(e));for(;u--;)switch(Number(p(e))){case 1:a.push("query");break;case 2:a.push("oneway");break;case 3:a.push("composite_query");break;default:throw Error("unknown annotation")}t.push([r,[n,o,a]]);break}case -23:{let n=Number(p(e)),i=[];for(;n--;){let t=Number(p(e)),r=new TextDecoder().decode(l(e,t)),n=g(e);i.push([r,n])}t.push([r,i]);break}default:throw Error("Illegal op_code: "+r)}}let n=[],i=Number(p(e));for(let t=0;t<i;t++)n.push(Number(g(e)));return[t,n]}(r);if(a.length<e.length)throw Error("Wrong number of return values");let u=o.map(e=>eE());function f(e){if(e<-24)throw Error("future value not supported");if(e<0)switch(e){case -1:return et;case -2:return ee;case -3:return ei;case -4:return en;case -5:return el;case -6:return eh;case -7:return ed;case -8:return ep;case -9:return ea;case -10:return eu;case -11:return ef;case -12:return ec;case -13:return eo;case -14:return es;case -15:return er;case -16:return Q;case -17:return J;case -24:return ey;default:throw Error("Illegal op_code: "+e)}if(e>=o.length)throw Error("type index out of range");return u[e]}function c(e){switch(e[0]){case -19:return eb(f(e[1]));case -18:return em(f(e[1]));case -20:{let t={};for(let[r,n]of e[1])t[`_${r}_`]=f(n);let r=ew(t),n=r.tryAsTuple();if(Array.isArray(n))return eg(...n);return r}case -21:{let t={};for(let[r,n]of e[1])t[`_${r}_`]=f(n);return ev(t)}case -22:{let[t,r,n]=e[1];return e_(t.map(e=>f(e)),r.map(e=>f(e)),n)}case -23:{let t={};for(let[r,n]of e[1]){let e=f(n);if(e instanceof q&&(e=e.getType()),!(e instanceof H))throw Error("Illegal service definition: services can only contain functions");t[r]=e}return eB(t)}default:throw Error("Illegal op_code: "+e[0])}}o.forEach((e,t)=>{if(-22===e[0]){let r=c(e);u[t].fill(r)}}),o.forEach((e,t)=>{if(-22!==e[0]){let r=c(e);u[t].fill(r)}});let h=a.map(e=>f(e)),d=e.map((e,t)=>e.decodeValue(r,h[t]));for(let t=e.length;t<h.length;t++)h[t].decodeValue(r,h[t]);if(r.byteLength>0)throw Error("decode: Left-over bytes");return d}let J=new S,Q=new U,X=new T,ee=new N,et=new O,er=new R,en=new L,ei=new P,eo=new F(32),es=new F(64),ea=new D(8),eu=new D(16),ef=new D(32),ec=new D(64),el=new k(8),eh=new k(16),ed=new k(32),ep=new k(64),ey=new G;function eg(...e){return new V(e)}function eb(e){return new M(e)}function em(e){return new C(e)}function ew(e){return new j(e)}function ev(e){return new $(e)}function eE(){return new q}function e_(e,t,r=[]){return new H(e,t,r)}function eB(e){return new K(e)}class eA{constructor(e,t){this.idl=e,this.ui=t,this.label=null,this.value=void 0;let r=document.createElement("span");r.className="status",this.status=r,t.input&&(t.input.addEventListener("blur",()=>{""!==t.input.value&&this.parse()}),t.input.addEventListener("input",()=>{r.style.display="none",t.input.classList.remove("reject")}))}isRejected(){return void 0===this.value}parse(e={}){if(this.ui.form){let t=this.ui.form.parse(e);return this.value=t,t}if(this.ui.input){let t=this.ui.input;try{let r=this.ui.parse(this.idl,e,t.value);if(!this.idl.covariant(r))throw Error(`${t.value} is not of type ${this.idl.display()}`);return this.status.style.display="none",this.value=r,r}catch(e){t.classList.add("reject"),this.status.style.display="block",this.status.innerHTML="InputError: "+e.message,this.value=void 0;return}}return null}render(e){let t=document.createElement("span");if(this.label){let e=document.createElement("label");e.innerText=this.label,t.appendChild(e)}this.ui.input&&(t.appendChild(this.ui.input),t.appendChild(this.status)),this.ui.form&&this.ui.form.render(t),e.appendChild(t)}}class eI{constructor(e){this.ui=e,this.form=[]}renderForm(e){this.ui.container?(this.form.forEach(e=>e.render(this.ui.container)),e.appendChild(this.ui.container)):this.form.forEach(t=>t.render(e))}render(e){if(this.ui.open&&this.ui.event){e.appendChild(this.ui.open);let t=this;t.ui.open.addEventListener(t.ui.event,()=>{if(t.ui.container)t.ui.container.innerHTML="";else{let e=t.ui.open.nextElementSibling;e&&e.parentNode.removeChild(e)}t.generateForm(),t.renderForm(e)})}else this.generateForm(),this.renderForm(e)}}class ex extends eI{constructor(e,t){super(t),this.fields=e,this.ui=t}generateForm(){this.form=this.fields.map(([e,t])=>{let r=this.ui.render(t);return this.ui.labelMap&&this.ui.labelMap.hasOwnProperty(e)?r.label=this.ui.labelMap[e]+" ":r.label=e+" ",r})}parse(e){let t={};if(this.fields.forEach(([r,n],i)=>{let o=this.form[i].parse(e);t[r]=o}),!this.form.some(e=>e.isRejected()))return t}}class eS extends eI{constructor(e,t){super(t),this.components=e,this.ui=t}generateForm(){this.form=this.components.map(e=>this.ui.render(e))}parse(e){let t=[];if(this.components.forEach((r,n)=>{let i=this.form[n].parse(e);t.push(i)}),!this.form.some(e=>e.isRejected()))return t}}class eT extends eI{constructor(e,t){super(t),this.fields=e,this.ui=t}generateForm(){let e=this.ui.open.selectedIndex,[t,r]=this.fields[e],n=this.ui.render(r);this.form=[n]}parse(e){let t=this.ui.open,r=t.options[t.selectedIndex].value,n=this.form[0].parse(e);if(void 0===n)return;let i={};return i[r]=n,i}}class eN extends eI{constructor(e,t){super(t),this.ty=e,this.ui=t}generateForm(){if(this.ui.open.checked){let e=this.ui.render(this.ty);this.form=[e]}else this.form=[]}parse(e){if(0===this.form.length)return[];{let t=this.form[0].parse(e);if(void 0===t)return;return[t]}}}class eO extends eI{constructor(e,t){super(t),this.ty=e,this.ui=t}generateForm(){let e=+this.ui.open.value;this.form=[];for(let t=0;t<e;t++){let e=this.ui.render(this.ty);this.form.push(e)}}parse(e){let t=this.form.map(t=>t.parse(e));if(!this.form.some(e=>e.isRejected()))return t}}let eU={parse:function(e,t,r){return t.random&&""===r?e.accept(new eV,r):e.accept(new ej,r)}},eR={render:e$},eL=(e,t)=>new eA(e,Object.assign(Object.assign({},eU),t)),eP=(e,t)=>new ex(e,Object.assign(Object.assign({},eR),t)),eF=(e,t)=>new eS(e,Object.assign(Object.assign({},eR),t)),eD=(e,t)=>new eT(e,Object.assign(Object.assign({},eR),t)),ek=(e,t)=>new eN(e,Object.assign(Object.assign({},eR),t)),eM=(e,t)=>new eO(e,Object.assign(Object.assign({},eR),t));class eC extends B{visitType(e,t){let r=document.createElement("input");return r.classList.add("argument"),r.placeholder=e.display(),eL(e,{input:r})}visitNull(e,t){return eL(e,{})}visitRecord(e,t,r){let n={};if(t.length>1){let e=document.createElement("div");e.classList.add("popup-form"),n={container:e}}return eL(e,{form:eP(t,n)})}visitTuple(e,t,r){let n={};if(t.length>1){let e=document.createElement("div");e.classList.add("popup-form"),n={container:e}}return eL(e,{form:eF(t,n)})}visitVariant(e,t,r){let n=document.createElement("select");for(let[e,r]of t){let t=new Option(e);n.add(t)}return n.selectedIndex=-1,n.classList.add("open"),eL(e,{form:eD(t,{open:n,event:"change"})})}visitOpt(e,t,r){let n=document.createElement("input");return n.type="checkbox",n.classList.add("open"),eL(e,{form:ek(t,{open:n,event:"change"})})}visitVec(e,t,r){let n=document.createElement("input");n.type="number",n.min="0",n.max="100",n.style.width="8rem",n.placeholder="len",n.classList.add("open");let i=document.createElement("div");return i.classList.add("popup-form"),eL(e,{form:eM(t,{open:n,event:"change",container:i})})}visitRec(e,t,r){return e$(t)}}class ej extends B{visitNull(e,t){return null}visitBool(e,t){if("true"===t)return!0;if("false"===t)return!1;throw Error(`Cannot parse ${t} as boolean`)}visitText(e,t){return t}visitFloat(e,t){return parseFloat(t)}visitFixedInt(e,t){return e._bits<=32?parseInt(t,10):BigInt(t)}visitFixedNat(e,t){return e._bits<=32?parseInt(t,10):BigInt(t)}visitNumber(e,t){return BigInt(t)}visitPrincipal(e,t){return i.R.fromText(t)}visitService(e,t){return i.R.fromText(t)}visitFunc(e,t){let r=t.split(".",2);return[i.R.fromText(r[0]),r[1]]}}class eV extends B{visitNull(e,t){return null}visitBool(e,t){return .5>Math.random()}visitText(e,t){return Math.random().toString(36).substring(6)}visitFloat(e,t){return Math.random()}visitInt(e,t){return BigInt(this.generateNumber(!0))}visitNat(e,t){return BigInt(this.generateNumber(!1))}visitFixedInt(e,t){let r=this.generateNumber(!0);return e._bits<=32?r:BigInt(t)}visitFixedNat(e,t){let r=this.generateNumber(!1);return e._bits<=32?r:BigInt(t)}generateNumber(e){let t=Math.floor(100*Math.random());return e&&.5>Math.random()?-t:t}}function e$(e){return e.accept(new eC,null)}},1263:function(e,t,r){"use strict";r.d(t,{R:function(){return c}});let n="abcdefghijklmnopqrstuvwxyz234567",i=Object.create(null);for(let e=0;e<n.length;e++)i[n[e]]=e;i["0"]=i.o,i["1"]=i.i;let o=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var s=r(5615);let a="__principal__",u=e=>{var t;return new Uint8Array((null!==(t=e.match(/.{1,2}/g))&&void 0!==t?t:[]).map(e=>parseInt(e,16)))},f=e=>e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"");class c{constructor(e){this._arr=e,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([4]))}static managementCanister(){return this.fromHex("aaaaa-aa")}static selfAuthenticating(e){let t=s.gX.create().update(new Uint8Array(e)).digest();return new this(new Uint8Array([...t,2]))}static from(e){if("string"==typeof e)return c.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new c(e);if("object"==typeof e&&null!==e&&!0===e._isPrincipal)return new c(e._arr);throw Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this(u(e))}static fromText(e){let t=e;if(e.includes(a)){let r=JSON.parse(e);a in r&&(t=r[a])}let r=function(e){let t=0,r=0,n=new Uint8Array(4*e.length/3|0),o=0;for(let s of e)!function(e){let s=i[e.toLowerCase()];if(void 0===s)throw Error(`Invalid character: ${JSON.stringify(e)}`);s<<=3,r|=s>>>t,(t+=5)>=8&&(n[o++]=r,t-=8,r=t>0?s<<5-t&255:0)}(s);return n.slice(0,o)}(t.toLowerCase().replace(/-/g,"")),n=new this(r=r.slice(4,r.length));if(n.toText()!==t)throw Error(`Principal "${n.toText()}" does not have a valid checksum (original value "${t}" may not be a valid Principal ID).`);return n}static fromUint8Array(e){return new this(e)}isAnonymous(){return 1===this._arr.byteLength&&4===this._arr[0]}toUint8Array(){return this._arr}toHex(){return f(this._arr).toUpperCase()}toText(){let e=new ArrayBuffer(4);new DataView(e).setUint32(0,function(e){let t=new Uint8Array(e),r=-1;for(let e=0;e<t.length;e++)r=o[(t[e]^r)&255]^r>>>8;return(-1^r)>>>0}(this._arr));let t=new Uint8Array(e),r=Uint8Array.from(this._arr),i=(function(e){let t=0,r=0,i="";for(let s=0;s<e.length;){var o;s+=(o=e[s],(t<0?r|=o>>-t:r=o<<t&248,t>3)?(t-=8,1):(t<4&&(i+=n[r>>3],t+=5),0))}return i+(t<0?n[r>>3]:"")})(new Uint8Array([...t,...r])).match(/.{1,5}/g);if(!i)throw Error();return i.join("-")}toString(){return this.toText()}toJSON(){return{[a]:this.toText()}}compareTo(e){for(let t=0;t<Math.min(this._arr.length,e._arr.length);t++){if(this._arr[t]<e._arr[t])return"lt";if(this._arr[t]>e._arr[t])return"gt"}return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){let t=this.compareTo(e);return"lt"==t||"eq"==t}gtEq(e){let t=this.compareTo(e);return"gt"==t||"eq"==t}}},2582:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=u(e),s=o[0],a=o[1],f=new i((s+a)*3/4-a),c=0,l=a>0?s-4:s;for(r=0;r<l;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],f[c++]=t>>16&255,f[c++]=t>>8&255,f[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,f[c++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,f[c++]=t>>8&255,f[c++]=255&t),f},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(e,t,n){for(var i,o=[],s=t;s<n;s+=3)o.push(r[(i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},4198:function(e,t,r){var n;!function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,f="[BigNumber Error] ",c=f+"Number primitive has more than 15 significant digits: ",l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function h(e){var t=0|e;return e>0||e===t?t:t-1}function d(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function p(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,u=e.e,f=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==f,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>f^r?1:-1;for(s=0,a=(u=i.length)<(f=o.length)?u:f;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==f?0:u>f^r?1:-1}function y(e,t,r,n){if(e<t||e>r||e!==u(e))throw Error(f+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return h(e.e/14)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function m(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(o=function e(t){var r,n,i,o,w,v,E,_,B,A=M.prototype={constructor:M,toString:null,valueOf:null},I=new M(1),x=20,S=4,T=-7,N=21,O=-1e7,U=1e7,R=!1,L=1,P=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},D="0123456789abcdefghijklmnopqrstuvwxyz",k=!0;function M(e,t){var r,n,i,o,a,f,l,h,d=this;if(!(d instanceof M))return new M(e,t);if(null==t){if(e&&!0===e._isBigNumber){d.s=e.s,!e.c||e.e>U?d.c=d.e=null:e.e<O?d.c=[d.e=0]:(d.e=e.e,d.c=e.c.slice());return}if((f="number"==typeof e)&&0*e==0){if(d.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,a=e;a>=10;a/=10,o++);o>U?d.c=d.e=null:(d.e=o,d.c=[e]);return}h=String(e)}else{if(!s.test(h=String(e)))return B(d,h,f);d.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(o=h.indexOf("."))>-1&&(h=h.replace(".","")),(a=h.search(/e/i))>0?(o<0&&(o=a),o+=+h.slice(a+1),h=h.substring(0,a)):o<0&&(o=h.length)}else{if(y(t,2,D.length,"Base"),10==t&&k)return $(d=new M(e),x+d.e+1,S);if(h=String(e),f="number"==typeof e){if(0*e!=0)return B(d,h,f,t);if(d.s=1/e<0?(h=h.slice(1),-1):1,M.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(c+e)}else d.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=D.slice(0,t),o=a=0,l=h.length;a<l;a++)if(0>r.indexOf(n=h.charAt(a))){if("."==n){if(a>o){o=l;continue}}else if(!i&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){i=!0,a=-1,o=0;continue}return B(d,String(e),f,t)}f=!1,(o=(h=_(h,t,10,d.s)).indexOf("."))>-1?h=h.replace(".",""):o=h.length}for(a=0;48===h.charCodeAt(a);a++);for(l=h.length;48===h.charCodeAt(--l););if(h=h.slice(a,++l)){if(l-=a,f&&M.DEBUG&&l>15&&(e>9007199254740991||e!==u(e)))throw Error(c+d.s*e);if((o=o-a-1)>U)d.c=d.e=null;else if(o<O)d.c=[d.e=0];else{if(d.e=o,d.c=[],a=(o+1)%14,o<0&&(a+=14),a<l){for(a&&d.c.push(+h.slice(0,a)),l-=14;a<l;)d.c.push(+h.slice(a,a+=14));a=14-(h=h.slice(a)).length}else a-=l;for(;a--;h+="0");d.c.push(+h)}}else d.c=[d.e=0]}function C(e,t,r,n){var i,o,s,a,u;if(null==r?r=S:y(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)u=d(e.c),u=1==n||2==n&&(s<=T||s>=N)?b(u,s):m(u,s,"0");else if(o=(e=$(new M(e),t,r)).e,a=(u=d(e.c)).length,1==n||2==n&&(t<=o||o<=T)){for(;a<t;u+="0",a++);u=b(u,o)}else if(t-=s,u=m(u,o,"0"),o+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=o-a)>0)for(o+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function j(e,t){for(var r,n,i=1,o=new M(e[0]);i<e.length;i++)(n=new M(e[i])).s&&(r=p(o,n))!==t&&(0!==r||o.s!==t)||(o=n);return o}function V(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>U?e.c=e.e=null:r<O?e.c=[e.e=0]:(e.e=r,e.c=t),e}function $(e,t,r,n){var i,o,s,f,c,h,d,p=e.c;if(p){e:{for(i=1,f=p[0];f>=10;f/=10,i++);if((o=t-i)<0)o+=14,s=t,d=u((c=p[h=0])/l[i-s-1]%10);else if((h=a((o+1)/14))>=p.length){if(n){for(;p.length<=h;p.push(0));c=d=0,i=1,o%=14,s=o-14+1}else break e}else{for(i=1,c=f=p[h];f>=10;f/=10,i++);o%=14,d=(s=o-14+i)<0?0:u(c/l[i-s-1]%10)}if(n=n||t<0||null!=p[h+1]||(s<0?c:c%l[i-s-1]),n=r<4?(d||n)&&(0==r||r==(e.s<0?3:2)):d>5||5==d&&(4==r||n||6==r&&(o>0?s>0?c/l[i-s]:0:p[h-1])%10&1||r==(e.s<0?8:7)),t<1||!p[0])return p.length=0,n?(t-=e.e+1,p[0]=l[(14-t%14)%14],e.e=-t||0):p[0]=e.e=0,e;if(0==o?(p.length=h,f=1,h--):(p.length=h+1,f=l[14-o],p[h]=s>0?u(c/l[i-s]%l[s])*f:0),n)for(;;){if(0==h){for(o=1,s=p[0];s>=10;s/=10,o++);for(s=p[0]+=f,f=1;s>=10;s/=10,f++);o!=f&&(e.e++,1e14==p[0]&&(p[0]=1));break}if(p[h]+=f,1e14!=p[h])break;p[h--]=0,f=1}for(o=p.length;0===p[--o];p.pop());}e.e>U?e.c=e.e=null:e.e<O&&(e.c=[e.e=0])}return e}function q(e){var t,r=e.e;return null===r?e.toString():(t=d(e.c),t=r<=T||r>=N?b(t,r):m(t,r,"0"),e.s<0?"-"+t:t)}return M.clone=e,M.ROUND_UP=0,M.ROUND_DOWN=1,M.ROUND_CEIL=2,M.ROUND_FLOOR=3,M.ROUND_HALF_UP=4,M.ROUND_HALF_DOWN=5,M.ROUND_HALF_EVEN=6,M.ROUND_HALF_CEIL=7,M.ROUND_HALF_FLOOR=8,M.EUCLID=9,M.config=M.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(r=e[t],0,1e9,t),x=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(r=e[t],0,8,t),S=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(y(r[0],-1e9,0,t),y(r[1],0,1e9,t),T=r[0],N=r[1]):(y(r,-1e9,1e9,t),T=-(N=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)y(r[0],-1e9,-1,t),y(r[1],1,1e9,t),O=r[0],U=r[1];else if(y(r,-1e9,1e9,t),r)O=-(U=r<0?-r:r);else throw Error(f+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))R=r;else throw R=!r,Error(f+"crypto unavailable")}else R=r}else throw Error(f+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(r=e[t],0,9,t),L=r),e.hasOwnProperty(t="POW_PRECISION")&&(y(r=e[t],0,1e9,t),P=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))F=r;else throw Error(f+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(f+t+" invalid: "+r);k="0123456789"==r.slice(0,10),D=r}}else throw Error(f+"Object expected: "+e)}return{DECIMAL_PLACES:x,ROUNDING_MODE:S,EXPONENTIAL_AT:[T,N],RANGE:[O,U],CRYPTO:R,MODULO_MODE:L,POW_PRECISION:P,FORMAT:F,ALPHABET:D}},M.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!M.DEBUG)return!0;var t,r,n=e.c,i=e.e,o=e.s;e:if("[object Array]"==({}).toString.call(n)){if((1===o||-1===o)&&i>=-1e9&&i<=1e9&&i===u(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==u(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(f+"Invalid BigNumber: "+e)},M.maximum=M.max=function(){return j(arguments,-1)},M.minimum=M.min=function(){return j(arguments,1)},M.random=(r=9007199254740992*Math.random()&2097151?function(){return u(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,n,i,o,s,c=0,h=[],d=new M(I);if(null==e?e=x:y(e,0,1e9),o=a(e/14),R){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));c<o;)(s=131072*t[c]+(t[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(h.push(s%1e14),c+=2);c=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);c<o;)(s=(31&t[c])*281474976710656+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(h.push(s%1e14),c+=7);c=o/7}else throw R=!1,Error(f+"crypto unavailable")}if(!R)for(;c<o;)(s=r())<9e15&&(h[c++]=s%1e14);for(o=h[--c],e%=14,o&&e&&(s=l[14-e],h[c]=u(o/s)*s);0===h[c];h.pop(),c--);if(c<0)h=[i=0];else{for(i=-1;0===h[0];h.splice(0,1),i-=14);for(c=1,s=h[0];s>=10;s/=10,c++);c<14&&(i-=14-c)}return d.e=i,d.c=h,d}),M.sum=function(){for(var e=1,t=arguments,r=new M(t[0]);e<t.length;)r=r.plus(t[e++]);return r},_=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,s=[0],a=0,u=e.length;a<u;){for(o=s.length;o--;s[o]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(r,n,i,o,s){var a,u,f,c,l,h,p,y,g=r.indexOf("."),b=x,w=S;for(g>=0&&(c=P,P=0,r=r.replace(".",""),h=(y=new M(n)).pow(r.length-g),P=c,y.c=t(m(d(h.c),h.e,"0"),10,i,e),y.e=y.c.length),f=c=(p=t(r,n,i,s?(a=D,e):(a=e,D))).length;0==p[--c];p.pop());if(!p[0])return a.charAt(0);if(g<0?--f:(h.c=p,h.e=f,h.s=o,p=(h=E(h,y,b,w,i)).c,l=h.r,f=h.e),g=p[u=f+b+1],c=i/2,l=l||u<0||null!=p[u+1],l=w<4?(null!=g||l)&&(0==w||w==(h.s<0?3:2)):g>c||g==c&&(4==w||l||6==w&&1&p[u-1]||w==(h.s<0?8:7)),u<1||!p[0])r=l?m(a.charAt(1),-b,a.charAt(0)):a.charAt(0);else{if(p.length=u,l)for(--i;++p[--u]>i;)p[u]=0,u||(++f,p=[1].concat(p));for(c=p.length;!p[--c];);for(g=0,r="";g<=c;r+=a.charAt(p[g++]));r=m(r,f,a.charAt(0))}return r}}(),E=function(){function e(e,t,r){var n,i,o,s,a=0,u=e.length,f=t%1e7,c=t/1e7|0;for(e=e.slice();u--;)n=c*(o=e[u]%1e7)+(s=e[u]/1e7|0)*f,a=((i=f*o+n%1e7*1e7+a)/r|0)+(n/1e7|0)+c*s,e[u]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,o,s,a){var f,c,l,d,p,y,g,b,m,w,v,E,_,B,A,I,x,S=n.s==i.s?1:-1,T=n.c,N=i.c;if(!T||!T[0]||!N||!N[0])return new M(n.s&&i.s&&(T?!N||T[0]!=N[0]:N)?T&&0==T[0]||!N?0*S:S/0:NaN);for(m=(b=new M(S)).c=[],S=o+(c=n.e-i.e)+1,a||(a=1e14,c=h(n.e/14)-h(i.e/14),S=S/14|0),l=0;N[l]==(T[l]||0);l++);if(N[l]>(T[l]||0)&&c--,S<0)m.push(1),d=!0;else{for(B=T.length,I=N.length,l=0,S+=2,(p=u(a/(N[0]+1)))>1&&(N=e(N,p,a),T=e(T,p,a),I=N.length,B=T.length),_=I,v=(w=T.slice(0,I)).length;v<I;w[v++]=0);x=[0].concat(x=N.slice()),A=N[0],N[1]>=a/2&&A++;do{if(p=0,(f=t(N,w,I,v))<0){if(E=w[0],I!=v&&(E=E*a+(w[1]||0)),(p=u(E/A))>1)for(p>=a&&(p=a-1),g=(y=e(N,p,a)).length,v=w.length;1==t(y,w,g,v);)p--,r(y,I<g?x:N,g,a),g=y.length,f=1;else 0==p&&(f=p=1),g=(y=N.slice()).length;if(g<v&&(y=[0].concat(y)),r(w,y,v,a),v=w.length,-1==f)for(;1>t(N,w,I,v);)p++,r(w,I<v?x:N,v,a),v=w.length}else 0===f&&(p++,w=[0]);m[l++]=p,w[0]?w[v++]=T[_]||0:(w=[T[_]],v=1)}while((_++<B||null!=w[0])&&S--);d=null!=w[0],m[0]||m.splice(0,1)}if(1e14==a){for(l=1,S=m[0];S>=10;S/=10,l++);$(b,o+(b.e=l+14*c-1)+1,s,d)}else b.e=c,b.r=+d;return b}}(),n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,i=/^([^.]+)\.$/,o=/^\.([^.]+)$/,w=/^-?(Infinity|NaN)$/,v=/^\s*\+(?=[\w.])|^\s+|\s+$/g,B=function(e,t,r,s){var a,u=r?t:t.replace(v,"");if(w.test(u))e.s=isNaN(u)?null:u<0?-1:1;else{if(!r&&(u=u.replace(n,function(e,t,r){return a="x"==(r=r.toLowerCase())?16:"b"==r?2:8,s&&s!=a?e:t}),s&&(a=s,u=u.replace(i,"$1").replace(o,"0.$1")),t!=u))return new M(u,a);if(M.DEBUG)throw Error(f+"Not a"+(s?" base "+s:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new M(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return p(this,new M(e,t))},A.decimalPlaces=A.dp=function(e,t){var r,n,i;if(null!=e)return y(e,0,1e9),null==t?t=S:y(t,0,8),$(new M(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-h(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},A.dividedBy=A.div=function(e,t){return E(this,new M(e,t),x,S)},A.dividedToIntegerBy=A.idiv=function(e,t){return E(this,new M(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var r,n,i,o,s,c,l,h,d,p=this;if((e=new M(e)).c&&!e.isInteger())throw Error(f+"Exponent not an integer: "+q(e));if(null!=t&&(t=new M(t)),c=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new M(Math.pow(+q(p),c?e.s*(2-g(e)):+q(e))),t?d.mod(t):d;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new M(NaN);(n=!l&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return o=p.s<0&&g(e)?-0:0,p.e>-1&&(o=1/o),new M(l?1/o:o);P&&(o=a(P/14+2))}for(c?(r=new M(.5),l&&(e.s=1),h=g(e)):h=(i=Math.abs(+q(e)))%2,d=new M(I);;){if(h){if(!(d=d.times(p)).c)break;o?d.c.length>o&&(d.c.length=o):n&&(d=d.mod(t))}if(i){if(0===(i=u(i/2)))break;h=i%2}else if($(e=e.times(r),e.e+1,1),e.e>14)h=g(e);else{if(0==(i=+q(e)))break;h=i%2}p=p.times(p),o?p.c&&p.c.length>o&&(p.c.length=o):n&&(p=p.mod(t))}return n?d:(l&&(d=I.div(d)),t?d.mod(t):o?$(d,P,S,s):d)},A.integerValue=function(e){var t=new M(this);return null==e?e=S:y(e,0,8),$(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===p(this,new M(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return p(this,new M(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=p(this,new M(e,t)))||0===t},A.isInteger=function(){return!!this.c&&h(this.e/14)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return 0>p(this,new M(e,t))},A.isLessThanOrEqualTo=A.lte=function(e,t){return -1===(t=p(this,new M(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var r,n,i,o,s=this.s;if(t=(e=new M(e,t)).s,!s||!t)return new M(NaN);if(s!=t)return e.s=-t,this.plus(e);var a=this.e/14,u=e.e/14,f=this.c,c=e.c;if(!a||!u){if(!f||!c)return f?(e.s=-t,e):new M(c?this:NaN);if(!f[0]||!c[0])return c[0]?(e.s=-t,e):new M(f[0]?this:3==S?-0:0)}if(a=h(a),u=h(u),f=f.slice(),s=a-u){for((o=s<0)?(s=-s,i=f):(u=a,i=c),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(n=(o=(s=f.length)<(t=c.length))?s:t,s=t=0;t<n;t++)if(f[t]!=c[t]){o=f[t]<c[t];break}if(o&&(i=f,f=c,c=i,e.s=-e.s),(t=(n=c.length)-(r=f.length))>0)for(;t--;f[r++]=0);for(t=1e14-1;n>s;){if(f[--n]<c[n]){for(r=n;r&&!f[--r];f[r]=t);--f[r],f[n]+=1e14}f[n]-=c[n]}for(;0==f[0];f.splice(0,1),--u);return f[0]?V(e,f,u):(e.s=3==S?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var r,n;return(e=new M(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==L?(n=e.s,e.s=1,r=E(this,e,0,3),e.s=n,r.s*=n):r=E(this,e,0,L),(e=this.minus(r.times(e))).c[0]||1!=L||(e.s=this.s),e):new M(this):new M(NaN)},A.multipliedBy=A.times=function(e,t){var r,n,i,o,s,a,u,f,c,l,d,p,y,g=this.c,b=(e=new M(e,t)).c;if(!g||!b||!g[0]||!b[0])return this.s&&e.s&&(!g||g[0]||b)&&(!b||b[0]||g)?(e.s*=this.s,g&&b?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=h(this.e/14)+h(e.e/14),e.s*=this.s,(u=g.length)<(l=b.length)&&(y=g,g=b,b=y,i=u,u=l,l=i),i=u+l,y=[];i--;y.push(0));for(i=l;--i>=0;){for(r=0,d=b[i]%1e7,p=b[i]/1e7|0,o=i+(s=u);o>i;)a=p*(f=g[--s]%1e7)+(c=g[s]/1e7|0)*d,r=((f=d*f+a%1e7*1e7+y[o]+r)/1e14|0)+(a/1e7|0)+p*c,y[o--]=f%1e14;y[o]=r}return r?++n:y.splice(0,1),V(e,y,n)},A.negated=function(){var e=new M(this);return e.s=-e.s||null,e},A.plus=function(e,t){var r,n=this.s;if(t=(e=new M(e,t)).s,!n||!t)return new M(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,o=e.e/14,s=this.c,a=e.c;if(!i||!o){if(!s||!a)return new M(n/0);if(!s[0]||!a[0])return a[0]?e:new M(s[0]?this:0*n)}if(i=h(i),o=h(o),s=s.slice(),n=i-o){for(n>0?(o=i,r=a):(n=-n,r=s),r.reverse();n--;r.push(0));r.reverse()}for((n=s.length)-(t=a.length)<0&&(r=a,a=s,s=r,t=n),n=0;t;)n=(s[--t]=s[t]+a[t]+n)/1e14|0,s[t]=1e14===s[t]?0:s[t]%1e14;return n&&(s=[n].concat(s),++o),V(e,s,o)},A.precision=A.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return y(e,1,1e9),null==t?t=S:y(t,0,8),$(new M(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},A.shiftedBy=function(e){return y(e,-9007199254740991,9007199254740991),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,r,n,i,o=this.c,s=this.s,a=this.e,u=x+4,f=new M("0.5");if(1!==s||!o||!o[0])return new M(!s||s<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(s=Math.sqrt(+q(this)))||s==1/0?(((t=d(o)).length+a)%2==0&&(t+="0"),s=Math.sqrt(+t),a=h((a+1)/2)-(a<0||a%2),r=new M(t=s==1/0?"5e"+a:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+a)):r=new M(s+""),r.c[0]){for((s=(a=r.e)+u)<3&&(s=0);;)if(i=r,r=f.times(i.plus(E(this,i,u,1))),d(i.c).slice(0,s)===(t=d(r.c)).slice(0,s)){if(r.e<a&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||($(r,r.e+x+2,1),e=!r.times(r).eq(this));break}if(!n&&($(i,i.e+x+2,0),i.times(i).eq(this))){r=i;break}u+=4,s+=4,n=1}}return $(r,r.e+x+1,S,e)},A.toExponential=function(e,t){return null!=e&&(y(e,0,1e9),e++),C(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(y(e,0,1e9),e=e+this.e+1),C(this,e,t)},A.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=F;else if("object"!=typeof r)throw Error(f+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,o=n.split("."),s=+r.groupSize,a=+r.secondaryGroupSize,u=r.groupSeparator||"",c=o[0],l=o[1],h=this.s<0,d=h?c.slice(1):c,p=d.length;if(a&&(i=s,s=a,a=i,p-=i),s>0&&p>0){for(i=p%s||s,c=d.substr(0,i);i<p;i+=s)c+=u+d.substr(i,s);a>0&&(c+=u+d.slice(i)),h&&(c="-"+c)}n=l?c+(r.decimalSeparator||"")+((a=+r.fractionGroupSize)?l.replace(RegExp("\\d{"+a+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):l):c}return(r.prefix||"")+n+(r.suffix||"")},A.toFraction=function(e){var t,r,n,i,o,s,a,u,c,h,p,y,g=this.c;if(null!=e&&(!(a=new M(e)).isInteger()&&(a.c||1!==a.s)||a.lt(I)))throw Error(f+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+q(a));if(!g)return new M(this);for(t=new M(I),c=r=new M(I),n=u=new M(I),y=d(g),o=t.e=y.length-this.e-1,t.c[0]=l[(s=o%14)<0?14+s:s],e=!e||a.comparedTo(t)>0?o>0?t:c:a,s=U,U=1/0,a=new M(y),u.c[0]=0;h=E(a,t,0,1),1!=(i=r.plus(h.times(n))).comparedTo(e);)r=n,n=i,c=u.plus(h.times(i=c)),u=i,t=a.minus(h.times(i=t)),a=i;return i=E(e.minus(r),n,0,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=this.s,o*=2,p=1>E(c,n,o,S).minus(this).abs().comparedTo(E(u,r,o,S).minus(this).abs())?[c,n]:[u,r],U=s,p},A.toNumber=function(){return+q(this)},A.toPrecision=function(e,t){return null!=e&&y(e,1,1e9),C(this,e,t,2)},A.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=T||i>=N?b(d(r.c),i):m(d(r.c),i,"0"):10===e&&k?t=m(d((r=$(new M(r),x+i+1,S)).c),r.e,"0"):(y(e,2,D.length,"Base"),t=_(m(d(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return q(this)},A._isBigNumber=!0,null!=t&&M.set(t),M}()).default=o.BigNumber=o,void 0!==(n=(function(){return o}).call(t,r,t,e))&&(e.exports=n)}(0)},2329:function(e,t,r){"use strict";var n=r(2582),i=r(5027),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|p(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(N(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(N(e,ArrayBuffer)||e&&N(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(N(e,SharedArrayBuffer)||e&&N(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t,r=0|d(e.length),n=s(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return f(e),s(e<0?0:0|d(e))}function l(e){for(var t=e.length<0?0:0|d(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||N(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return x(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return S(e).length;default:if(i)return n?-1:x(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){var i,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=O[e[o]];return i}(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=t,o=r,0===i&&o===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function f(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(f(e,o)===f(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else -1!==c&&(o-=o-c),c=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(f(e,o+h)!==f(t,h)){l=!1;break}if(l)return o}return -1}function w(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,f=e[i],c=null,l=f>239?4:f>223?3:f>191?2:1;if(i+l<=r)switch(l){case 1:f<128&&(c=f);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&f)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(u=(15&f)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&f)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,l=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function E(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function _(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function B(e,t,r,n,o){return t=+t,r>>>=0,o||_(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function A(e,t,r,n,o){return t=+t,r>>>=0,o||_(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(f(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(N(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),N(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(N(o,Uint8Array))i+o.length>n.length?a.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else if(a.isBuffer(o))o.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?w(this,0,e):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(N(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,u=Math.min(o,s),f=this.slice(n,i),c=e.slice(t,r),l=0;l<u;++l)if(f[l]!==c[l]){o=f[l],s=c[l];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,f,c,l,h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var d=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(a!=a)break;e[r+s]=a}return s}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,T(x(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,T(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return u=t,f=r,T(S(e),this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,l=r,T(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,l);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||v(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;E(this,e,t,r,i,0)}var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;E(this,e,t,r,i,0)}var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);E(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);E(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return A(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return A(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),u=s.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%u]}return this};var I=/[^+/0-9A-Za-z-_]/g;function x(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function S(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function T(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function N(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var O=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},4943:function(e,t,r){"use strict";let n=r(4198).BigNumber;t.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},t.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},t.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},t.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},t.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},t.SHIFT32=4294967296,t.SHIFT16=65536,t.MAX_SAFE_HIGH=2097151,t.NEG_ONE=new n(-1),t.TEN=new n(10),t.TWO=new n(2),t.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}},1106:function(e){e.exports=function(e,t,r){"use asm";var n=new e.Uint8Array(r);var i=t.pushInt;var o=t.pushInt32;var s=t.pushInt32Neg;var a=t.pushInt64;var u=t.pushInt64Neg;var f=t.pushFloat;var c=t.pushFloatSingle;var l=t.pushFloatDouble;var h=t.pushTrue;var d=t.pushFalse;var p=t.pushUndefined;var y=t.pushNull;var g=t.pushInfinity;var b=t.pushInfinityNeg;var m=t.pushNaN;var w=t.pushNaNNeg;var v=t.pushArrayStart;var E=t.pushArrayStartFixed;var _=t.pushArrayStartFixed32;var B=t.pushArrayStartFixed64;var A=t.pushObjectStart;var I=t.pushObjectStartFixed;var x=t.pushObjectStartFixed32;var S=t.pushObjectStartFixed64;var T=t.pushByteString;var N=t.pushByteStringStart;var O=t.pushUtf8String;var U=t.pushUtf8StringStart;var R=t.pushSimpleUnassigned;var L=t.pushTagStart;var P=t.pushTagStart4;var F=t.pushTagStart8;var D=t.pushTagUnassigned;var k=t.pushBreak;var M=e.Math.pow;var C=0;var j=0;var V=0;function $(e){e=e|0;C=0;j=e;while((C|0)<(j|0)){V=eY[n[C]&255](n[C]|0)|0;if((V|0)>0)break}return V|0}function q(e){e=e|0;if(((C|0)+(e|0)|0)<(j|0))return 0;return 1}function z(e){e=e|0;return n[e|0]<<8|n[e+1|0]|0}function G(e){e=e|0;return n[e|0]<<24|n[e+1|0]<<16|n[e+2|0]<<8|n[e+3|0]|0}function H(e){e=e|0;i(e|0);C=C+1|0;return 0}function K(e){e=e|0;if(q(1)|0)return 1;i(n[C+1|0]|0);C=C+2|0;return 0}function Z(e){e=e|0;if(q(2)|0)return 1;i(z(C+1|0)|0);C=C+3|0;return 0}function W(e){e=e|0;if(q(4)|0)return 1;o(z(C+1|0)|0,z(C+3|0)|0);C=C+5|0;return 0}function Y(e){e=e|0;if(q(8)|0)return 1;a(z(C+1|0)|0,z(C+3|0)|0,z(C+5|0)|0,z(C+7|0)|0);C=C+9|0;return 0}function J(e){e=e|0;i(-1-(e-32|0)|0);C=C+1|0;return 0}function Q(e){e=e|0;if(q(1)|0)return 1;i(-1-(n[C+1|0]|0)|0);C=C+2|0;return 0}function X(e){e=e|0;var t=0;if(q(2)|0)return 1;t=z(C+1|0)|0;i(-1-(t|0)|0);C=C+3|0;return 0}function ee(e){e=e|0;if(q(4)|0)return 1;s(z(C+1|0)|0,z(C+3|0)|0);C=C+5|0;return 0}function et(e){e=e|0;if(q(8)|0)return 1;u(z(C+1|0)|0,z(C+3|0)|0,z(C+5|0)|0,z(C+7|0)|0);C=C+9|0;return 0}function er(e){e=e|0;var t=0;var r=0;var n=0;n=e-64|0;if(q(n|0)|0)return 1;t=C+1|0;r=(C+1|0)+(n|0)|0;T(t|0,r|0);C=r|0;return 0}function en(e){e=e|0;var t=0;var r=0;var i=0;if(q(1)|0)return 1;i=n[C+1|0]|0;t=C+2|0;r=(C+2|0)+(i|0)|0;if(q(i+1|0)|0)return 1;T(t|0,r|0);C=r|0;return 0}function ei(e){e=e|0;var t=0;var r=0;var n=0;if(q(2)|0)return 1;n=z(C+1|0)|0;t=C+3|0;r=(C+3|0)+(n|0)|0;if(q(n+2|0)|0)return 1;T(t|0,r|0);C=r|0;return 0}function eo(e){e=e|0;var t=0;var r=0;var n=0;if(q(4)|0)return 1;n=G(C+1|0)|0;t=C+5|0;r=(C+5|0)+(n|0)|0;if(q(n+4|0)|0)return 1;T(t|0,r|0);C=r|0;return 0}function es(e){e=e|0;return 1}function ea(e){e=e|0;N();C=C+1|0;return 0}function eu(e){e=e|0;var t=0;var r=0;var n=0;n=e-96|0;if(q(n|0)|0)return 1;t=C+1|0;r=(C+1|0)+(n|0)|0;O(t|0,r|0);C=r|0;return 0}function ef(e){e=e|0;var t=0;var r=0;var i=0;if(q(1)|0)return 1;i=n[C+1|0]|0;t=C+2|0;r=(C+2|0)+(i|0)|0;if(q(i+1|0)|0)return 1;O(t|0,r|0);C=r|0;return 0}function ec(e){e=e|0;var t=0;var r=0;var n=0;if(q(2)|0)return 1;n=z(C+1|0)|0;t=C+3|0;r=(C+3|0)+(n|0)|0;if(q(n+2|0)|0)return 1;O(t|0,r|0);C=r|0;return 0}function el(e){e=e|0;var t=0;var r=0;var n=0;if(q(4)|0)return 1;n=G(C+1|0)|0;t=C+5|0;r=(C+5|0)+(n|0)|0;if(q(n+4|0)|0)return 1;O(t|0,r|0);C=r|0;return 0}function eh(e){e=e|0;return 1}function ed(e){e=e|0;U();C=C+1|0;return 0}function ep(e){e=e|0;E(e-128|0);C=C+1|0;return 0}function ey(e){e=e|0;if(q(1)|0)return 1;E(n[C+1|0]|0);C=C+2|0;return 0}function eg(e){e=e|0;if(q(2)|0)return 1;E(z(C+1|0)|0);C=C+3|0;return 0}function eb(e){e=e|0;if(q(4)|0)return 1;_(z(C+1|0)|0,z(C+3|0)|0);C=C+5|0;return 0}function em(e){e=e|0;if(q(8)|0)return 1;B(z(C+1|0)|0,z(C+3|0)|0,z(C+5|0)|0,z(C+7|0)|0);C=C+9|0;return 0}function ew(e){e=e|0;v();C=C+1|0;return 0}function ev(e){e=e|0;var t=0;t=e-160|0;if(q(t|0)|0)return 1;I(t|0);C=C+1|0;return 0}function eE(e){e=e|0;if(q(1)|0)return 1;I(n[C+1|0]|0);C=C+2|0;return 0}function e_(e){e=e|0;if(q(2)|0)return 1;I(z(C+1|0)|0);C=C+3|0;return 0}function eB(e){e=e|0;if(q(4)|0)return 1;x(z(C+1|0)|0,z(C+3|0)|0);C=C+5|0;return 0}function eA(e){e=e|0;if(q(8)|0)return 1;S(z(C+1|0)|0,z(C+3|0)|0,z(C+5|0)|0,z(C+7|0)|0);C=C+9|0;return 0}function eI(e){e=e|0;A();C=C+1|0;return 0}function ex(e){e=e|0;L(e-192|0);C=C+1|0;return 0}function eS(e){e=e|0;L(e|0);C=C+1|0;return 0}function eT(e){e=e|0;L(e|0);C=C+1|0;return 0}function eN(e){e=e|0;L(e|0);C=C+1|0;return 0}function eO(e){e=e|0;L(e|0);C=C+1|0;return 0}function eU(e){e=e|0;L(e-192|0);C=C+1|0;return 0}function eR(e){e=e|0;L(e|0);C=C+1|0;return 0}function eL(e){e=e|0;L(e|0);C=C+1|0;return 0}function eP(e){e=e|0;L(e|0);C=C+1|0;return 0}function eF(e){e=e|0;if(q(1)|0)return 1;L(n[C+1|0]|0);C=C+2|0;return 0}function eD(e){e=e|0;if(q(2)|0)return 1;L(z(C+1|0)|0);C=C+3|0;return 0}function ek(e){e=e|0;if(q(4)|0)return 1;P(z(C+1|0)|0,z(C+3|0)|0);C=C+5|0;return 0}function eM(e){e=e|0;if(q(8)|0)return 1;F(z(C+1|0)|0,z(C+3|0)|0,z(C+5|0)|0,z(C+7|0)|0);C=C+9|0;return 0}function eC(e){e=e|0;R((e|0)-224|0);C=C+1|0;return 0}function ej(e){e=e|0;d();C=C+1|0;return 0}function eV(e){e=e|0;h();C=C+1|0;return 0}function e$(e){e=e|0;y();C=C+1|0;return 0}function eq(e){e=e|0;p();C=C+1|0;return 0}function ez(e){e=e|0;if(q(1)|0)return 1;R(n[C+1|0]|0);C=C+2|0;return 0}function eG(e){e=e|0;var t=0;var r=0;var i=1;var o=0;var s=0;var a=0;if(q(2)|0)return 1;t=n[C+1|0]|0;r=n[C+2|0]|0;if((t|0)&128)i=-1;o=+(((t|0)&124)>>2);s=+(((t|0)&3)<<8|r);if(+o==0)f(+(+i*5960464477539063e-23*+s));else if(+o==31){if(+i==1){if(+s>0)m();else g()}else if(+s>0)w();else b()}else f(+(+i*M(2,+(+o-25))*+(1024+s)));C=C+3|0;return 0}function eH(e){e=e|0;if(q(4)|0)return 1;c(n[C+1|0]|0,n[C+2|0]|0,n[C+3|0]|0,n[C+4|0]|0);C=C+5|0;return 0}function eK(e){e=e|0;if(q(8)|0)return 1;l(n[C+1|0]|0,n[C+2|0]|0,n[C+3|0]|0,n[C+4|0]|0,n[C+5|0]|0,n[C+6|0]|0,n[C+7|0]|0,n[C+8|0]|0);C=C+9|0;return 0}function eZ(e){e=e|0;return 1}function eW(e){e=e|0;k();C=C+1|0;return 0}var eY=[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,K,Z,W,Y,eZ,eZ,eZ,eZ,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,Q,X,ee,et,eZ,eZ,eZ,eZ,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,en,ei,eo,es,eZ,eZ,eZ,ea,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,eu,ef,ec,el,eh,eZ,eZ,eZ,ed,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ep,ey,eg,eb,em,eZ,eZ,eZ,ew,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,ev,eE,e_,eB,eA,eZ,eZ,eZ,eI,ex,ex,ex,ex,ex,ex,eU,eU,eU,eU,eU,eU,eU,eU,eU,eU,eU,eU,eU,eU,eU,eU,eU,eU,eF,eD,ek,eM,eZ,eZ,eZ,eZ,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,ej,eV,e$,eq,ez,eG,eH,eK,eZ,eZ,eZ,eW];return{parse:$}}},7603:function(e,t,r){"use strict";let{Buffer:n}=r(2329),i=r(5027),o=r(4198).BigNumber,s=r(1106),a=r(6290),u=r(4943),f=r(3815),c=r(2144),{URL:l}=r(6690);class h{constructor(e){!(e=e||{}).size||e.size<65536?e.size=65536:e.size=a.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=n.from(this._heap),this._reset(),this._knownTags=Object.assign({0:e=>new Date(e),1:e=>new Date(1e3*e),2:e=>a.arrayBufferToBignumber(e),3:e=>u.NEG_ONE.minus(a.arrayBufferToBignumber(e)),4:e=>u.TEN.pow(e[0]).times(e[1]),5:e=>u.TWO.pow(e[0]).times(e[1]),32:e=>new l(e),35:e=>new RegExp(e)},e.tags),this.parser=s(r.g,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw Error(`Missing ${e.length} elements`);switch(e.type){case u.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case u.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case u.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case u.PARENT.MAP:if(e.values%2>0)throw Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case u.PARENT.OBJECT:if(e.values%2>0)throw Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case u.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length))}this._currentParent&&this._currentParent.type===u.PARENT.TAG&&this._dec()}_dec(){let e=this._currentParent;e.length<0||(e.length--,0===e.length&&this._closeParent())}_push(e,t){let r=this._currentParent;switch(r.values++,r.type){case u.PARENT.ARRAY:case u.PARENT.BYTE_STRING:case u.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case u.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,"string"!=typeof r.tmpKey&&(r.type=u.PARENT.MAP,r.ref=a.buildMap(r.ref)));break;case u.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case u.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw Error("Unknown parent type")}}_createParent(e,t,r){this._parents[this._depth]={type:t,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:u.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){let r=this._knownTags[e];return r?r(t):new c(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return n.concat(e)}createByteStringFromHeap(e,t){return e===t?n.alloc(0):n.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return a.buildInt32(e,t)}createInt64(e,t,r,n){return a.buildInt64(e,t,r,n)}createFloat(e){return e}createFloatSingle(e,t,r,n){return i.read([e,t,r,n],0,!1,23,4)}createFloatDouble(e,t,r,n,o,s,a,u){return i.read([e,t,r,n,o,s,a,u],0,!1,52,8)}createInt32Neg(e,t){return -1-a.buildInt32(e,t)}createInt64Neg(e,t,r,n){let i=a.buildInt32(e,t),s=a.buildInt32(r,n);return i>u.MAX_SAFE_HIGH?u.NEG_ONE.minus(new o(i).times(u.SHIFT32).plus(s)):-1-(i*u.SHIFT32+s)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new f(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,r,n){this._push(this.createInt64(e,t,r,n))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,r,n){this._push(this.createFloatSingle(e,t,r,n))}pushFloatDouble(e,t,r,n,i,o,s,a){this._push(this.createFloatDouble(e,t,r,n,i,o,s,a))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,r,n){this._push(this.createInt64Neg(e,t,r,n))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],u.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){let r=a.buildInt32(e,t);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,t,r,n){let i=a.buildInt64(e,t,r,n);this._createArrayStartFixed(i)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){let r=a.buildInt32(e,t);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,t,r,n){let i=a.buildInt64(e,t,r,n);this._createObjectStartFixed(i)}pushByteStringStart(){this._parents[this._depth]={type:u.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:u.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:u.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(a.buildInt32(e,t))}pushTagStart8(e,t,r,n){this.pushTagStart(a.buildInt64(e,t,r,n))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(0===e){this._push(this.createObject({}));return}this._createParent({},u.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(0===e){this._push(this.createArray([]));return}this._createParent(Array(e),u.PARENT.ARRAY,e)}_decode(e){if(0===e.byteLength)throw Error("Input too short");this._reset(),this._heap8.set(e);let t=this.parser.parse(e.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw Error("Undeterminated nesting")}if(t>0)throw Error("Failed to parse");if(0===this._res.length)throw Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){return"string"==typeof e&&(e=n.from(e,t||"hex")),new h({size:e.length}).decodeFirst(e)}static decodeAll(e,t){return"string"==typeof e&&(e=n.from(e,t||"hex")),new h({size:e.length}).decodeAll(e)}}h.decodeFirst=h.decode,e.exports=h},917:function(e,t,r){"use strict";let{Buffer:n}=r(2329),i=r(7603),o=r(6290);class s extends i{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,r,n){return super.createInt64(e,t,r,n).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,r,n){return super.createInt64Neg(e,t,r,n).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){let t=super.createFloat(e);return o.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,r,n){let i=super.createFloatSingle(e,t,r,n);return`${i}_2`}createFloatDouble(e,t,r,n,i,o,s,a){let u=super.createFloatDouble(e,t,r,n,i,o,s,a);return`${u}_3`}createByteString(e,t){let r=e.join(", ");return -1===t?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,t){let r=n.from(super.createByteStringFromHeap(e,t)).toString("hex");return`h'${r}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){let r=super.createArray(e,t);return -1===t?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,t){let r=super.createMap(e),n=Array.from(r.keys()).reduce(a(r),"");return -1===t?`{_ ${n}}`:`{${n}}`}createObject(e,t){let r=super.createObject(e),n=Object.keys(r).reduce(a(r),"");return -1===t?`{_ ${n}}`:`{${n}}`}createUtf8String(e,t){let r=e.join(", ");return -1===t?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,t){let r=n.from(super.createUtf8StringFromHeap(e,t)).toString("utf8");return`"${r}"`}static diagnose(e,t){return"string"==typeof e&&(e=n.from(e,t||"hex")),new s().decodeFirst(e)}}function a(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}e.exports=s},1087:function(e,t,r){"use strict";let{Buffer:n}=r(2329),{URL:i}=r(6690),o=r(4198).BigNumber,s=r(6290),a=r(4943),u=a.MT,f=a.NUMBYTES,c=a.SHIFT32,l=a.SYMS,h=a.TAG,d=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.TWO,p=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.FOUR,y=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.EIGHT,g=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.TRUE,b=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.FALSE,m=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.UNDEFINED,w=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.NULL,v=new o("0x20000000000000"),E=n.from("f97e00","hex"),_=n.from("f9fc00","hex"),B=n.from("f97c00","hex");class A{constructor(e){e=e||{},this.streaming="function"==typeof e.stream,this.onData=e.stream,this.semanticTypes=[[i,this._pushUrl],[o,this._pushBigNumber]];let t=e.genTypes||[],r=t.length;for(let e=0;e<r;e++)this.addSemanticType(t[e][0],t[e][1]);this._reset()}addSemanticType(e,t){let r=this.semanticTypes.length;for(let n=0;n<r;n++)if(this.semanticTypes[n][0]===e){let e=this.semanticTypes[n][1];return this.semanticTypes[n][1]=t,e}return this.semanticTypes.push([e,t]),null}push(e){return!e||(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(e,t,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(E)}_pushInfinity(e){return this.push(e<0?_:B)}_pushFloat(e){let t=n.allocUnsafe(2);if(s.writeHalf(t,e)&&s.parseHalf(t)===e)return this._pushUInt8(d)&&this.push(t);let r=n.allocUnsafe(4);return(r.writeFloatBE(e,0),r.readFloatBE(0)===e)?this._pushUInt8(p)&&this.push(r):this._pushUInt8(y)&&this._pushDoubleBE(e)}_pushInt(e,t,r){let n=t<<5;return e<24?this._pushUInt8(n|e):e<=255?this._pushUInt8(n|f.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(n|f.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(n|f.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|f.EIGHT)&&this._pushUInt32BE(Math.floor(e/c))&&this._pushUInt32BE(e%c):t===u.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,u.NEG_INT,e):this._pushInt(e,u.POS_INT)}_pushNumber(e){switch(!1){case e==e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){let t=n.byteLength(e,"utf8");return this._pushInt(t,u.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?g:b)}_pushUndefined(e){return this._pushUInt8(m)}_pushArray(e,t){let r=t.length;if(!e._pushInt(r,u.ARRAY))return!1;for(let n=0;n<r;n++)if(!e.pushAny(t[n]))return!1;return!0}_pushTag(e){return this._pushInt(e,u.TAG)}_pushDate(e,t){return e._pushTag(h.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,u.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(h.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,u.ARRAY))return!1;for(let r of t)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,t){return e._pushTag(h.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=h.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=h.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);let i=n.from(r,"hex");return this._pushTag(t)&&this._pushBuffer(this,i)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!(e._pushTag(h.DECIMAL_FRAC)&&e._pushInt(2,u.ARRAY)))return!1;let r=t.decimalPlaces(),n=t.multipliedBy(new o(10).pow(r));return!!e._pushIntNum(-r)&&(n.abs().isLessThan(v)?e._pushIntNum(n.toNumber()):e._pushBigint(n))}_pushMap(e,t){return!!e._pushInt(t.size,u.MAP)&&this._pushRawMap(t.size,Array.from(t))}_pushObject(e){if(!e)return this._pushUInt8(w);for(var t=this.semanticTypes.length,r=0;r<t;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var n=e.encodeCBOR;if("function"==typeof n)return n.call(e,this);var i=Object.keys(e),o=i.length;return!!this._pushInt(o,u.MAP)&&this._pushRawMap(o,i.map(t=>[t,e[t]]))}_pushRawMap(e,t){t=t.map(function(e){return e[0]=A.encode(e[0]),e}).sort(s.keySorter);for(var r=0;r<e;r++)if(!this.push(t[r][0])||!this.pushAny(t[r][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){switch(({}).toString.call(e).slice(8,-1)){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,n.isBuffer(e)?e:n.from(e));case"Null":return this._pushUInt8(w);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case l.NULL:return this._pushObject(null);case l.UNDEFINED:return this._pushUndefined(void 0);default:throw Error("Unknown symbol: "+e.toString())}default:throw Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(0===this.offset)return null;for(var e=this.result,t=this.resultLength,r=this.resultMethod,i=this.offset,o=0,s=0;s<i;s++)o+=t[s];var a=n.allocUnsafe(o),u=0,f=0;for(s=0;s<i;s++){switch(f=t[s],r[s]){case 0:e[s].copy(a,u);break;case 1:a.writeUInt8(e[s],u,!0);break;case 2:a.writeUInt16BE(e[s],u,!0);break;case 3:a.writeUInt32BE(e[s],u,!0);break;case 4:a.writeDoubleBE(e[s],u,!0);break;case 5:a.write(e[s],u,f,"utf8");break;default:throw Error("unkown method")}u+=f}return this._reset(),a}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){let t=new A;if(!t.pushAny(e))throw Error("Failed to encode input");return t.finalize()}}e.exports=A},2851:function(e,t,r){"use strict";t.Diagnose=r(917),t.Decoder=r(7603),t.Encoder=r(1087),t.Simple=r(3815),t.Tagged=r(2144),t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}},3815:function(e,t,r){"use strict";let n=r(4943),i=n.MT,o=n.SIMPLE,s=n.SYMS;class a{constructor(e){if("number"!=typeof e)throw Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,i.SIMPLE_FLOAT)}static isSimple(e){return e instanceof a}static decode(e,t){switch(null==t&&(t=!0),e){case o.FALSE:return!1;case o.TRUE:return!0;case o.NULL:if(t)return null;return s.NULL;case o.UNDEFINED:if(t)return;return s.UNDEFINED;case -1:if(!t)throw Error("Invalid BREAK");return s.BREAK;default:return new a(e)}}}e.exports=a},2144:function(e){"use strict";class t{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,"number"!=typeof this.tag)throw Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var r;if("function"!=typeof(r=null!=e?e[this.tag]:void 0)&&"function"!=typeof(r=t["_tag"+this.tag]))return this;try{return r.call(t,this.value)}catch(e){return this.err=e,this}}}e.exports=t},6290:function(e,t,r){"use strict";let{Buffer:n}=r(2329),i=r(4198).BigNumber,o=r(4943),s=o.SHIFT32,a=o.SHIFT16;t.parseHalf=function(e){var t,r,n;return(n=128&e[0]?-1:1,t=(124&e[0])>>2,r=(3&e[0])<<8|e[1],t)?31===t?n*(r?0/0:Infinity):n*Math.pow(2,t-25)*(1024+r):5960464477539063e-23*n*r},t.arrayBufferToBignumber=function(e){let t=e.byteLength,r="";for(let i=0;i<t;i++){var n;r+=(n=e[i])<16?"0"+n.toString(16):n.toString(16)}return new i(r,16)},t.buildMap=e=>{let t=new Map,r=Object.keys(e),n=r.length;for(let i=0;i<n;i++)t.set(r[i],e[r[i]]);return t},t.buildInt32=(e,t)=>e*a+t,t.buildInt64=(e,r,n,o)=>{let a=t.buildInt32(e,r),u=t.buildInt32(n,o);return a>2097151?new i(a).times(s).plus(u):a*s+u},t.writeHalf=function(e,t){let r=n.allocUnsafe(4);r.writeFloatBE(t,0);let i=r.readUInt32BE(0);if((8191&i)!=0)return!1;var o=i>>16&32768;let s=i>>23&255,a=8388607&i;if(s>=113&&s<=142)o+=(s-112<<10)+(a>>13);else{if(!(s>=103)||!(s<113)||a&(1<<126-s)-1)return!1;o+=a+8388608>>126-s}return e.writeUInt16BE(o,0),!0},t.keySorter=function(e,t){var r=e[0].byteLength,n=t[0].byteLength;return r>n?1:n>r?-1:e[0].compare(t[0])},t.isNegativeZero=e=>0===e&&1/e<0,t.nextPowerOf2=e=>{let t=0;if(e&&!(e&e-1))return e;for(;0!==e;)e>>=1,t+=1;return 1<<t}},2562:function(e,t,r){"use strict";let n=r(2582),i=r(5027),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(k(e,Uint8Array)){let t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(k(e,ArrayBuffer)||e&&k(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(k(e,SharedArrayBuffer)||e&&k(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);let i=function(e){var t;if(a.isBuffer(e)){let t=0|d(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return f(e),s(e<0?0:0|d(e))}function l(e){let t=e.length<0?0:0|d(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||k(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(i)return n?-1:P(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=M[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var o,s;return o=t,s=r,0===o&&s===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function f(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(f(e,o)===f(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else -1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(f(e,o+n)!==f(t,n)){r=!1;break}if(r)return o}return -1}function w(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function E(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function _(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function B(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function A(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function I(e,t,r,n,o){return t=+t,r>>>=0,o||A(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function x(e,t,r,n,o){return t=+t,r>>>=0,o||A(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.lW=a,t.h2=50,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(f(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(k(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),k(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(k(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?w(this,0,e):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(k(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,s=r-t,u=Math.min(o,s),f=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<u;++e)if(f[e]!==c[e]){o=f[e],s=c[e];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){var i,o,s,a,u,f,c,l;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let d=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,D(P(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,D(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return u=t,f=r,D(F(e),this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,l=r,D(function(e,t){let r,n;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,l);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=C(function(e){U(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=C(function(e){U(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||v(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=C(function(e){U(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),a.prototype.readBigInt64BE=C(function(e){U(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;E(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;E(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=C(function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=C(function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);E(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);E(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=C(function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=C(function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return x(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return x(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=a.isBuffer(e)?e:a.from(e,n),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};let S={};function T(e,t,r){S[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function N(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function O(e,t,r,n,i,o){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new S.ERR_OUT_OF_RANGE("value",n,e)}U(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&R(i,n.length-(o+1))}function U(e,t){if("number"!=typeof e)throw new S.ERR_INVALID_ARG_TYPE(t,"number",e)}function R(e,t,r){if(Math.floor(e)!==e)throw U(e,r),new S.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new S.ERR_BUFFER_OUT_OF_BOUNDS;throw new S.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}T("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),T("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=N(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=N(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let L=/[^+/0-9A-Za-z-_]/g;function P(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function F(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function k(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let M=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function C(e){return"undefined"==typeof BigInt?j:e}function j(){throw Error("BigInt not supported")}},5027:function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,f=u>>1,c=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+e[t+l],l+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+l],l+=h,c-=8);if(0===o)o=1-f;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=f}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,f=8*o-i-1,c=(1<<f)-1,l=c>>1,h=23===i?5960464477539062e-23:0,d=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+l>=1?t+=h/u:t+=h*Math.pow(2,1-l),t*u>=2&&(s++,u/=2),s+l>=c?(a=0,s=c):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;e[r+d]=255&s,d+=p,s/=256,f-=8);e[r+d-p]|=128*y}},6690:function(e,t,r){"use strict";let{URLWithLegacySupport:n,format:i,URLSearchParams:o,defaultBase:s}=r(8680),a=r(4955);e.exports={URL:n,URLSearchParams:o,format:i,relative:a,defaultBase:s}},4955:function(e,t,r){"use strict";let{URLWithLegacySupport:n,format:i}=r(8680);e.exports=(e,t={},r={},o)=>{let s,a=t.protocol?t.protocol.replace(":",""):"http";a=(r[a]||o||a)+":";try{s=new n(e)}catch(e){s={}}return new n(e,i(Object.assign({},t,{protocol:a||s.protocol,host:t.host||s.host}))).toString()}},8680:function(e){"use strict";let t=self.location?self.location.protocol+"//"+self.location.host:"",r=self.URL;class n{constructor(e="",n=t){this.super=new r(e,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}e.exports={URLWithLegacySupport:n,URLSearchParams:self.URLSearchParams,defaultBase:t,format:function(e){if("string"==typeof e)return new r(e).toString();if(!(e instanceof r)){let t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",s=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),u=e.hash||"",f=e.pathname||"",c=e.path||f+a;return`${i}${t||r}${o||s+n}${c}${u}`}}}},8727:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(36));let i=n(r(2545));t.value=i},36:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(2545)),o=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class s{constructor(e,t=!1){this._serializer=e,this._stable=t,this.name="jsonDefault",this.priority=-100}match(e){return -1!=["undefined","boolean","number","string","object"].indexOf(typeof e)}encode(e){switch(typeof e){case"undefined":return i.undefined_();case"boolean":return i.bool(e);case"number":if(Math.floor(e)===e)return i.number(e);return i.doubleFloat(e);case"string":return i.string(e);case"object":if(null===e)return i.null_();if(Array.isArray(e))return i.array(e.map(e=>this._serializer.serializeValue(e)));if(o.find(t=>e instanceof t))return i.bytes(e.buffer);if(-1!==Object.getOwnPropertyNames(e).indexOf("toJSON"))return this.encode(e.toJSON());else if(e instanceof Map){let t=new Map;for(let[r,n]of e.entries())t.set(r,this._serializer.serializeValue(n));return i.map(t,this._stable)}else{let t=new Map;for(let[r,n]of Object.entries(e))t.set(r,this._serializer.serializeValue(n));return i.map(t,this._stable)}default:throw Error("Invalid value.")}}}t.JsonDefaultCborEncoder=s;class a{constructor(){this.name="cborEncoder",this.priority=-90}match(e){return"object"==typeof e&&"function"==typeof e.toCBOR}encode(e){return e.toCBOR()}}t.ToCborEncoder=a;class u{constructor(){this._encoders=new Set}static withDefaultEncoders(e=!1){let t=new this;return t.addEncoder(new s(t,e)),t.addEncoder(new a),t}removeEncoder(e){for(let t of this._encoders.values())t.name==e&&this._encoders.delete(t)}addEncoder(e){this._encoders.add(e)}getEncoderFor(e){let t=null;for(let r of this._encoders)(!t||r.priority>t.priority)&&r.match(e)&&(t=r);if(null===t)throw Error("Could not find an encoder for value.");return t}serializeValue(e){return this.getEncoderFor(e).encode(e)}serialize(e){return this.serializeValue(e)}}t.CborSerializer=u;class f extends u{serialize(e){return i.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(e))]))}}t.SelfDescribeCborSerializer=f},2545:function(e,t){"use strict";function r(e,...t){let n=new Uint8Array(e.byteLength+t.reduce((e,t)=>e+t.byteLength,0));n.set(new Uint8Array(e),0);let i=e.byteLength;for(let e of t)n.set(new Uint8Array(e),i),i+=e.byteLength;return n.buffer}function n(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");let n=2**(t-24);return new Uint8Array([(e<<5)+t].concat((r=r.slice(-(2*n)).padStart(2*n,"0")).match(/../g).map(e=>parseInt(e,16)))).buffer}function i(e,t){return t<24?new Uint8Array([(e<<5)+t]).buffer:n(e,t<=255?24:t<=65535?25:t<=4294967295?26:27,t.toString(16))}function o(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=(1023&n)<<10|1023&e.charCodeAt(r),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return r(new Uint8Array(i(3,e.length)),new Uint8Array(t))}function s(e){return new Uint8Array(e).buffer}function a(e){if(isNaN(e))throw RangeError("Invalid number.");return new Uint8Array([0+(e=Math.min(Math.max(0,e),23))]).buffer}function u(e,t){if(isNaN(e=parseInt(""+e,t)))throw RangeError("Invalid number.");return n(0,24,e=(e=Math.min(Math.max(0,e),255)).toString(16))}function f(e,t){if(isNaN(e=parseInt(""+e,t)))throw RangeError("Invalid number.");return n(0,25,e=(e=Math.min(Math.max(0,e),65535)).toString(16))}function c(e,t){if(isNaN(e=parseInt(""+e,t)))throw RangeError("Invalid number.");return n(0,26,e=(e=Math.min(Math.max(0,e),4294967295)).toString(16))}function l(e,t){if("string"==typeof e&&16==t){if(e.match(/[^0-9a-fA-F]/))throw RangeError("Invalid number.");return n(0,27,e)}if(isNaN(e=parseInt(""+e,t)))throw RangeError("Invalid number.");return n(0,27,e=(e=Math.min(Math.max(0,e),9007199254740992)).toString(16))}function h(e){if(isNaN(e))throw RangeError("Invalid number.");return 0===e?a(0):new Uint8Array([32+(e=Math.min(Math.max(0,-e),24)-1)]).buffer}function d(e,t){if(isNaN(e=parseInt(""+e,t)))throw RangeError("Invalid number.");return n(1,24,e=(e=Math.min(Math.max(0,-e-1),255)).toString(16))}function p(e,t){if(isNaN(e=parseInt(""+e,t)))throw RangeError("Invalid number.");return n(1,25,e=(e=Math.min(Math.max(0,-e-1),65535)).toString(16))}function y(e,t){if(isNaN(e=parseInt(""+e,t)))throw RangeError("Invalid number.");return n(1,26,e=(e=Math.min(Math.max(0,-e-1),4294967295)).toString(16))}function g(e,t){if("string"==typeof e&&16==t){if((e=e.startsWith("-")?e.slice(1):"0").match(/[^0-9a-fA-F]/)||e.length>16)throw RangeError("Invalid number.");let t=!1,r=e.split("").reduceRight((e,r)=>{if(t)return r+e;let n=parseInt(r,16)-1;return n>=0?(t=!0,n.toString(16)+e):"f"+e},"");return t?n(1,27,r):l(0)}if(isNaN(e=parseInt(""+e,t)))throw RangeError("Invalid number.");return n(1,27,e=(e=Math.min(Math.max(0,-e-1),9007199254740992)).toString(16))}function b(){return s(new Uint8Array([245]))}function m(){return s(new Uint8Array([244]))}Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=function(e,t){if(14277111==e)return r(new Uint8Array([217,217,247]),t);if(e<24)return r(new Uint8Array([192+e]),t);{let t=e<=255?24:e<=65535?25:e<=4294967295?26:27,r=2**(t-24);return new Uint8Array([192+t].concat(e.toString(16).slice(-(2*r)).padStart(2*r,"0").match(/../g).map(e=>parseInt(e,16)))).buffer}},t.raw=s,t.uSmall=a,t.u8=u,t.u16=f,t.u32=c,t.u64=l,t.iSmall=h,t.i8=d,t.i16=p,t.i32=y,t.i64=g,t.number=function(e){if(e>=0)return e<24?a(e):e<=255?u(e):e<=65535?f(e):e<=4294967295?c(e):l(e);return e>=-24?h(e):e>=-255?d(e):e>=-65535?p(e):e>=-4294967295?y(e):g(e)},t.bytes=function(e){return r(i(2,e.byteLength),e)},t.string=function(e){return o(e)},t.array=function(e){return r(i(4,e.length),...e)},t.map=function(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let n=Array.from(e.entries());return t&&(n=n.sort(([e],[t])=>e.localeCompare(t))),r(i(5,e.size),...n.map(([e,t])=>r(o(e),t)))},t.singleFloat=function(e){let t=new Float32Array([e]);return r(new Uint8Array([250]),new Uint8Array(t.buffer))},t.doubleFloat=function(e){let t=new Float64Array([e]);return r(new Uint8Array([251]),new Uint8Array(t.buffer))},t.bool=function(e){return e?b():m()},t.true_=b,t.false_=m,t.null_=function(){return s(new Uint8Array([246]))},t.undefined_=function(){return s(new Uint8Array([247]))}},3374:function(e,t,r){"use strict";r.d(t,{D1:function(){return p},Kd:function(){return y},Mx:function(){return d}});var n=r(7088),i=r(6846);let o=BigInt(0),s=BigInt(1);function a(e,t){let r=t.negate();return e?r:t}function u(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function f(e,t){return u(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let c=new WeakMap,l=new WeakMap;function h(e){return l.get(e)||1}function d(e,t){return{constTimeNegate:a,hasPrecomputes:e=>1!==h(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>o;)r&s&&(n=n.add(i)),i=i.double(),r>>=s;return n},precomputeWindow(e,r){let{windows:n,windowSize:i}=f(r,t),o=[],s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(r,n,i){let{windows:o,windowSize:u}=f(r,t),c=e.ZERO,l=e.BASE,h=BigInt(2**r-1),d=2**r,p=BigInt(r);for(let e=0;e<o;e++){let t=e*u,r=Number(i&h);i>>=p,r>u&&(r-=d,i+=s);let o=t+Math.abs(r)-1,f=e%2!=0,y=r<0;0===r?l=l.add(a(f,n[t])):c=c.add(a(y,n[o]))}return{p:c,f:l}},wNAFUnsafe(r,n,i,a=e.ZERO){let{windows:u,windowSize:c}=f(r,t),l=BigInt(2**r-1),h=2**r,d=BigInt(r);for(let e=0;e<u;e++){let t=e*c;if(i===o)break;let r=Number(i&l);if(i>>=d,r>c&&(r-=h,i+=s),0===r)continue;let u=n[t+Math.abs(r)-1];r<0&&(u=u.negate()),a=a.add(u)}return a},getPrecomputes(e,t,r){let n=c.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&c.set(t,r(n))),n},wNAFCached(e,t,r){let n=h(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=h(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){u(r,t),l.set(e,r),c.delete(e)}}}function p(e,t,r,n){if(!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),!function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let o=e.ZERO,s=(0,i.Dd)(BigInt(r.length)),a=s>12?s-3:s>4?s-2:s?2:1,u=(1<<a)-1,f=Array(u+1).fill(o),c=Math.floor((t.BITS-1)/a)*a,l=o;for(let e=c;e>=0;e-=a){f.fill(o);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(u));f[i]=f[i].add(r[t])}let t=o;for(let e=f.length-1,r=o;e>0;e--)r=r.add(f[e]),t=t.add(r);if(l=l.add(t),0!==e)for(let e=0;e<a;e++)l=l.double()}return l}function y(e){return(0,n.OP)(e.Fp),(0,i.FF)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.kK)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},7088:function(e,t,r){"use strict";r.d(t,{Eg:function(){return m},IN:function(){return w},OP:function(){return g},PS:function(){return B},Q:function(){return b},Tu:function(){return p},Us:function(){return A},gN:function(){return E},kK:function(){return v},oA:function(){return h},wQ:function(){return l}});var n=r(6846);let i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),u=BigInt(4),f=BigInt(5),c=BigInt(8);function l(e,t){let r=e%t;return r>=i?r:t+r}function h(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n}function d(e,t){if(e===i)throw Error("invert: expected non-zero number");if(t<=i)throw Error("invert: expected positive modulus, got "+t);let r=l(e,t),n=t,s=i,a=o,u=o,f=i;for(;r!==i;){let e=n/r,t=n%r,i=s-u*e,o=a-f*e;n=r,r=t,s=u,a=f,u=i,f=o}if(n!==o)throw Error("invert: does not exist");return l(s,t)}let p=(e,t)=>(l(e,t)&o)===o,y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(e){let t=y.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.FF)(e,t)}function b(e,t,r){if(r<i)throw Error("invalid exponent, negatives unsupported");if(r===i)return e.ONE;if(r===o)return t;let n=e.ONE,s=t;for(;r>i;)r&o&&(n=e.mul(n,s)),s=e.sqr(s),r>>=o;return n}function m(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function w(e){let t=(e-o)/s;return(e,r)=>e.pow(r,t)}function v(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function E(e,t,r=!1,h={}){let p;if(e<=i)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:y,nByteLength:g}=v(e,t);if(g>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let w=Object.freeze({ORDER:e,BITS:y,BYTES:g,MASK:(0,n.dQ)(y),ZERO:i,ONE:o,create:t=>l(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&o)===o,neg:t=>l(-t,e),eql:(e,t)=>e===t,sqr:t=>l(t*t,e),add:(t,r)=>l(t+r,e),sub:(t,r)=>l(t-r,e),mul:(t,r)=>l(t*r,e),pow:(e,t)=>b(w,e,t),div:(t,r)=>l(t*d(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>d(t,e),sqrt:h.sqrt||(t=>(p||(p=function(e){if(e%u===a){let t=(e+o)/u;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%c===f){let t=(e-f)/c;return function(e,r){let n=e.mul(r,s),i=e.pow(n,t),o=e.mul(r,i),a=e.mul(e.mul(o,s),i),u=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(u),r))throw Error("Cannot find square root");return u}}return function(e){let t,r,n;let a=(e-o)/s;for(t=e-o,r=0;t%s===i;t/=s,r++);for(n=s;n<e&&function(e,t,r){if(t<i)throw Error("invalid exponent, negatives unsupported");if(r<=i)throw Error("invalid modulus");if(r===o)return i;let n=o;for(;t>i;)t&o&&(n=n*e%r),e=e*e%r,t>>=o;return n}(n,a,e)!==e-o;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+o)/u;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let f=(t+o)/s;return function(e,i){if(e.pow(i,a)===e.neg(e.ONE))throw Error("Cannot find square root");let s=r,u=e.pow(e.mul(e.ONE,n),t),c=e.pow(i,f),l=e.pow(i,t);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(u,o<<BigInt(s-t-1));u=e.sqr(r),c=e.mul(c,r),l=e.mul(l,u),s=t}return c}}(e)}(e)),p(w,t))),invertBatch:e=>m(w,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.S5)(e,g):(0,n.tL)(e,g),fromBytes:e=>{if(e.length!==g)throw Error("Field.fromBytes: expected "+g+" bytes, got "+e.length);return r?(0,n.ty)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(w)}function _(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function B(e){let t=_(e);return t+Math.ceil(t/2)}function A(e,t,r=!1){let i=e.length,s=_(t),a=B(t);if(i<16||i<a||i>1024)throw Error("expected "+a+"-1024 bytes of input, got "+i);let u=l(r?(0,n.bytesToNumberBE)(e):(0,n.ty)(e),t-o)+o;return r?(0,n.S5)(u,s):(0,n.tL)(u,s)}},6846:function(e,t,r){"use strict";r.d(t,{Dd:function(){return x},EQ:function(){return U},FF:function(){return O},Fy:function(){return I},H9:function(){return R},H_:function(){return S},S5:function(){return w},Z2:function(){return A},_t:function(){return s},bytesToNumberBE:function(){return g},ci:function(){return c},dQ:function(){return T},eV:function(){return E},gk:function(){return a},hexToBytes:function(){return y},iY:function(){return _},ql:function(){return v},tL:function(){return m},ty:function(){return b},uw:function(){return u},uz:function(){return l}});let n=BigInt(0),i=BigInt(1),o=BigInt(2);function s(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!s(e))throw Error("Uint8Array expected")}function u(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let f=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function c(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=f[e[r]];return t}function l(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function h(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?n:BigInt("0x"+e)}let d={_0:48,_9:57,A:65,F:70,a:97,f:102};function p(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function y(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=p(e.charCodeAt(i)),o=p(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function g(e){return h(c(e))}function b(e){return a(e),h(c(Uint8Array.from(e).reverse()))}function m(e,t){return y(e.toString(16).padStart(2*t,"0"))}function w(e,t){return m(e,t).reverse()}function v(e,t,r){let n;if("string"==typeof t)try{n=y(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(s(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function E(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];a(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}function _(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}let B=e=>"bigint"==typeof e&&n<=e;function A(e,t,r){return B(e)&&B(t)&&B(r)&&t<=e&&e<r}function I(e,t,r,n){if(!A(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function x(e){let t;for(t=0;e>n;e>>=i,t+=1);return t}function S(e,t){return e>>BigInt(t)&i}let T=e=>(o<<BigInt(e-1))-i,N={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||s(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function O(e,t,r={}){let n=(t,r,n)=>{let i=N[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let U=()=>{throw Error("not implemented")};function R(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}},1565:function(e,t,r){"use strict";function n(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function i(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function o(e,t){n(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}r.d(t,{$h:function(){return i},eB:function(){return o},gk:function(){return n}})},792:function(e,t,r){"use strict";r.d(t,{VR:function(){return a},bc:function(){return o},l3:function(){return s}});var n=r(1565),i=r(9274);let o=(e,t,r)=>e&t^~e&r,s=(e,t,r)=>e&t^e&r^t&r;class a extends i.kb{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.GL)(this.buffer)}update(e){(0,n.$h)(this);let{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.O0)(e)).length;for(let n=0;n<s;){let a=Math.min(o-this.pos,s-n);if(a===o){let t=(0,i.GL)(e);for(;o<=s-n;n+=o)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.$h)(this),(0,n.eB)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:o,isLE:s}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,f=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+f,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);let u=(0,i.GL)(e),f=this.outputLen;if(f%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=f/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)u.setUint32(4*e,l[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}},5615:function(e,t,r){"use strict";r.d(t,{JQ:function(){return c},gX:function(){return l}});var n=r(792),i=r(9274);let o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class u extends n.VR{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=a[e-15],r=a[e-2],n=(0,i.np)(t,7)^(0,i.np)(t,18)^t>>>3,o=(0,i.np)(r,17)^(0,i.np)(r,19)^r>>>10;a[e]=o+a[e-7]+n+a[e-16]|0}let{A:r,B:s,C:u,D:f,E:c,F:l,G:h,H:d}=this;for(let e=0;e<64;e++){let t=d+((0,i.np)(c,6)^(0,i.np)(c,11)^(0,i.np)(c,25))+(0,n.bc)(c,l,h)+o[e]+a[e]|0,p=((0,i.np)(r,2)^(0,i.np)(r,13)^(0,i.np)(r,22))+(0,n.l3)(r,s,u)|0;d=h,h=l,l=c,c=f+t|0,f=u,u=s,s=r,r=t+p|0}r=r+this.A|0,s=s+this.B|0,u=u+this.C|0,f=f+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(r,s,u,f,c,l,h,d)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class f extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}let c=(0,i.hE)(()=>new u),l=(0,i.hE)(()=>new f)},9274:function(e,t,r){"use strict";r.d(t,{kb:function(){return u},GL:function(){return o},O6:function(){return c},np:function(){return s},O0:function(){return a},hE:function(){return f}});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=r(1565);let o=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),s=(e,t)=>e<<32-t|e>>>t;function a(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),(0,i.gk)(e),e}class u{clone(){return this._cloneInto()}}function f(e){let t=t=>e().update(a(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function c(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return n.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}}}]);