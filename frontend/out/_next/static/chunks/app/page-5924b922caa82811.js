(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9162:function(e,s,t){Promise.resolve().then(t.bind(t,4623))},4623:function(e,s,t){"use strict";t.d(s,{default:function(){return eE}});var a=t(7821),r=t(8078),l=t(7035),i=t(898),n=t(2605),c=t(1638);function d(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,c.m6)((0,n.W)(s))}let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:n=!1,...c}=e,m=n?l.g7:"button";return(0,a.jsx)(m,{className:d(o({variant:r,size:i,className:t})),ref:s,...c})});m.displayName="Button";let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});x.displayName="Card";let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:d("flex flex-col space-y-1.5 p-6",t),...r})});u.displayName="CardHeader";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:d("text-2xl font-semibold leading-none tracking-tight",t),...r})});h.displayName="CardTitle";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:d("text-sm text-muted-foreground",t),...r})});p.displayName="CardDescription";let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:d("p-6 pt-0",t),...r})});g.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:d("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";let f=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function j(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:d(f({variant:t}),s),...r})}var N=t(6515),v=t(5353),b=t(1148),y=t(4275),w=t(7329);let k=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});k.displayName="Input";let C=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:d("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});C.displayName="Textarea";var A=t(4484);let S=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(A.fC,{ref:s,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});S.displayName=A.fC.displayName;let Z=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(A.Ee,{ref:s,className:d("aspect-square h-full w-full",t),...r})});Z.displayName=A.Ee.displayName;let I=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(A.NY,{ref:s,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});I.displayName=A.NY.displayName;var z=t(791),T=t(3116);let F=z.fC,P=z.xz,R=z.h_;z.x8;let q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(z.aV,{ref:s,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});q.displayName=z.aV.displayName;let D=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(R,{children:[(0,a.jsx)(q,{}),(0,a.jsxs)(z.VY,{ref:s,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,a.jsxs)(z.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(T.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});D.displayName=z.VY.displayName;let E=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};E.displayName="DialogHeader";let O=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};O.displayName="DialogFooter";let B=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(z.Dx,{ref:s,className:d("text-lg font-semibold leading-none tracking-tight",t),...r})});B.displayName=z.Dx.displayName;let L=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(z.dk,{ref:s,className:d("text-sm text-muted-foreground",t),...r})});L.displayName=z.dk.displayName;var V=t(4447);let Y=V.fC,_=V.xz,U=V.h_,M=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.aV,{className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});M.displayName=V.aV.displayName;let G=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)(U,{children:[(0,a.jsx)(M,{}),(0,a.jsx)(V.VY,{ref:s,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});G.displayName=V.VY.displayName;let W=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:d("flex flex-col space-y-2 text-center sm:text-left",s),...t})};W.displayName="AlertDialogHeader";let J=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};J.displayName="AlertDialogFooter";let K=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.Dx,{ref:s,className:d("text-lg font-semibold",t),...r})});K.displayName=V.Dx.displayName;let H=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.dk,{ref:s,className:d("text-sm text-muted-foreground",t),...r})});H.displayName=V.dk.displayName;let X=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.aU,{ref:s,className:d(o(),t),...r})});X.displayName=V.aU.displayName;let $=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.$j,{ref:s,className:d(o({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});$.displayName=V.$j.displayName;var Q=t(5641);let ee=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),es=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Q.f,{ref:s,className:d(ee(),t),...r})});es.displayName=Q.f.displayName;var et=t(6790);let ea=r.forwardRef((e,s)=>{let{className:t,orientation:r="horizontal",decorative:l=!0,...i}=e;return(0,a.jsx)(et.f,{ref:s,decorative:l,orientation:r,className:d("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...i})});ea.displayName=et.f.displayName;var er=t(838);let el=er.fC,ei=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(er.aV,{ref:s,className:d("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});ei.displayName=er.aV.displayName;let en=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(er.xz,{ref:s,className:d("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});en.displayName=er.xz.displayName;let ec=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(er.VY,{ref:s,className:d("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});ec.displayName=er.VY.displayName;var ed=t(2133),eo=t(750),em=t(2348),ex=t(9198),eu=t(2021),eh=t(432),ep=t(9781),eg=t(9044),ef=t(2942),ej=t(2751),eN=t(7720),ev=t(5189),eb=t(5446);let ey=[{id:1,title:"The Future of Decentralized Publishing",author:"Alice Johnson",authorPrincipal:"alice-principal-123",authorAvatar:"/placeholder.svg?height=40&width=40",excerpt:"Exploring how blockchain technology is revolutionizing content creation and ownership...",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\nSed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.",price:2.5,category:"Technology",readTime:"5 min read",likes:42,views:1250,createdAt:"2024-01-15",image:"/placeholder.svg?height=200&width=400",isOwned:!1,isCreatedByUser:!1},{id:2,title:"NFT Art: Beyond Digital Collectibles",author:"You",authorPrincipal:"rdmx6-jaaaa-aaaah-qcaiq-cai",authorAvatar:"/placeholder.svg?height=40&width=40",excerpt:"Understanding the artistic value and cultural impact of NFT art in the modern world...",content:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\nAt vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.",price:1.8,category:"Art",readTime:"7 min read",likes:38,views:890,createdAt:"2024-01-12",image:"/placeholder.svg?height=200&width=400",isOwned:!0,isCreatedByUser:!0},{id:3,title:"Cryptocurrency Market Analysis 2024",author:"Carol Davis",authorPrincipal:"carol-principal-456",authorAvatar:"/placeholder.svg?height=40&width=40",excerpt:"A comprehensive analysis of cryptocurrency trends and market predictions for 2024...",content:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\nEt harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus.",price:3.2,category:"Finance",readTime:"10 min read",likes:67,views:2100,createdAt:"2024-01-10",image:"/placeholder.svg?height=200&width=400",isOwned:!1,isCreatedByUser:!1}];function ew(e){let{isConnected:s,userPrincipal:t,balance:l,setBalance:i,onDisconnect:n,onOpenArticleReader:c}=e,[d,o]=(0,r.useState)(ey),[f,y]=(0,r.useState)("All"),[w,A]=(0,r.useState)(""),[z,R]=(0,r.useState)(()=>{{let e=localStorage.getItem("currentPage");if(e&&("search"===e||"workspace"===e))return e}return"search"}),[q,V]=(0,r.useState)(!1),[U,M]=(0,r.useState)(!1),[Q,ee]=(0,r.useState)(null),[et,er]=(0,r.useState)("confirm"),[ew,ek]=(0,r.useState)({title:"",content:"",excerpt:"",price:"",category:"Technology",image:null});(0,r.useEffect)(()=>{localStorage.setItem("currentPage",z)},[z]);let eC=async()=>{ew.title&&ew.content&&ew.price&&(o([{id:Date.now(),title:ew.title,author:"You",authorPrincipal:t,authorAvatar:"/placeholder.svg?height=40&width=40",excerpt:ew.excerpt||ew.content.substring(0,150)+"...",content:ew.content,price:Number.parseFloat(ew.price),category:ew.category,readTime:"".concat(Math.ceil(ew.content.split(" ").length/200)," min read"),likes:0,views:0,createdAt:new Date().toISOString().split("T")[0],image:ew.image,isOwned:!0,isCreatedByUser:!0},...d]),ek({title:"",content:"",excerpt:"",price:"",category:"Technology",image:null}),V(!1))},eA=async e=>{o(d.filter(s=>s.id!==e))},eS=e=>{ee(e),er("confirm"),M(!0)},eZ=async()=>{er("processing"),setTimeout(()=>{o(d.map(e=>e.id===Q.id?{...e,isOwned:!0}:e)),i((Number.parseFloat(l)-Q.price).toFixed(1)),er("success")},2e3)},eI=()=>{if("success"===et&&Q){let e=d.find(e=>e.id===Q.id);e&&c(e)}M(!1),ee(null),er("confirm")},ez=d.filter(e=>{let s="All"===f||e.category===f,t=e.title.toLowerCase().includes(w.toLowerCase())||e.author.toLowerCase().includes(w.toLowerCase());return s&&t}),eT=d.filter(e=>e.isCreatedByUser),eF=d.filter(e=>e.isOwned),eP=["All","Technology","Art","Finance","Science","Politics"],eR=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,a.jsxs)(x,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[(0,a.jsx)("div",{className:"aspect-video bg-muted",children:(0,a.jsx)("img",{src:e.image||"/placeholder.svg?height=200&width=400",alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.src="/placeholder.svg?height=200&width=400"}})}),(0,a.jsxs)(u,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(j,{variant:"secondary",children:e.category}),(0,a.jsxs)("div",{className:"flex gap-2",children:[e.isOwned&&(0,a.jsxs)(j,{variant:"default",children:[(0,a.jsx)(ex.Z,{className:"w-3 h-3 mr-1"}),"Owned"]}),e.isCreatedByUser&&(0,a.jsxs)(j,{variant:"outline",children:[(0,a.jsx)(eu.Z,{className:"w-3 h-3 mr-1"}),"Created"]})]})]}),(0,a.jsx)(h,{className:"line-clamp-2",children:e.title}),(0,a.jsx)(p,{className:"line-clamp-2",children:e.excerpt})]}),(0,a.jsxs)(g,{className:"pt-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsxs)(S,{className:"w-6 h-6",children:[(0,a.jsx)(Z,{src:e.authorAvatar||"/placeholder.svg"}),(0,a.jsx)(I,{children:e.author[0]})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.author})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-3",children:[(0,a.jsx)("span",{children:e.readTime}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(em.Z,{className:"w-3 h-3"}),e.views]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eh.Z,{className:"w-3 h-3"}),e.likes]})]})]}),(0,a.jsx)(ea,{className:"mb-3"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ep.Z,{className:"w-4 h-4 text-primary"}),(0,a.jsxs)("span",{className:"font-semibold text-primary",children:[e.price," ICP"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[s&&e.isCreatedByUser&&(0,a.jsxs)(Y,{children:[(0,a.jsx)(_,{asChild:!0,children:(0,a.jsx)(m,{variant:"outline",size:"sm",children:(0,a.jsx)(eg.Z,{className:"w-4 h-4"})})}),(0,a.jsxs)(G,{children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(K,{children:"Delete Article"}),(0,a.jsxs)(H,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),(0,a.jsxs)(J,{children:[(0,a.jsx)($,{children:"Cancel"}),(0,a.jsx)(X,{onClick:()=>eA(e.id),children:"Delete"})]})]})]}),e.isOwned?(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>c(e),children:[(0,a.jsx)(em.Z,{className:"w-4 h-4 mr-2"}),"Read"]}):(0,a.jsxs)(m,{size:"sm",onClick:()=>eS(e),children:[(0,a.jsx)(ep.Z,{className:"w-4 h-4 mr-2"}),"Buy"]})]})]})]})]},e.id)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:(0,a.jsx)(N.Z,{className:"h-4 w-4 text-primary-foreground"})}),(0,a.jsx)("span",{className:"text-xl font-bold tracking-tight",children:"pArticleNFT"}),(0,a.jsxs)(j,{variant:"secondary",className:"ml-2 flex items-center gap-1 px-2 py-0.5 text-sm",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3"}),"Decentralized"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"search"===z?"default":"outline",size:"sm",onClick:()=>R("search"),children:[(0,a.jsx)(ef.Z,{className:"w-4 h-4 mr-2"}),"Search"]}),(0,a.jsxs)(m,{variant:"workspace"===z?"default":"outline",size:"sm",onClick:()=>R("workspace"),children:[(0,a.jsx)(ej.Z,{className:"w-4 h-4 mr-2"}),"Workspace"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"font-medium",children:[l," ICP"]}),(0,a.jsxs)("div",{className:"text-muted-foreground text-xs",children:[t.slice(0,8),"..."]})]}),(0,a.jsxs)(m,{variant:"outline",onClick:n,children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Disconnect"]})]})]})]})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(x,{children:(0,a.jsx)(g,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Articles"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:d.length})]}),(0,a.jsx)(N.Z,{className:"w-8 h-8 text-muted-foreground"})]})})}),(0,a.jsx)(x,{children:(0,a.jsx)(g,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Your Balance"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[l," ICP"]})]}),(0,a.jsx)(b.Z,{className:"w-8 h-8 text-muted-foreground"})]})})}),(0,a.jsx)(x,{children:(0,a.jsx)(g,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Created Articles"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:eT.length})]}),(0,a.jsx)(eu.Z,{className:"w-8 h-8 text-muted-foreground"})]})})}),(0,a.jsx)(x,{children:(0,a.jsx)(g,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Owned Articles"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:eF.length})]}),(0,a.jsx)(ex.Z,{className:"w-8 h-8 text-muted-foreground"})]})})})]}),"search"===z&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"relative flex-1 sm:w-80",children:[(0,a.jsx)(ef.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(k,{placeholder:"Search articles or authors...",value:w,onChange:e=>A(e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eN.Z,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("select",{value:f,onChange:e=>y(e.target.value),className:"px-3 py-2 border rounded-md bg-background",children:eP.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ez.map(e=>eR(e))}),0===ez.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(ef.Z,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No articles found"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter criteria"})]})]}),"workspace"===z&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Your Workspace"}),(0,a.jsxs)(F,{open:q,onOpenChange:V,children:[(0,a.jsx)(P,{asChild:!0,children:(0,a.jsxs)(m,{children:[(0,a.jsx)(ev.Z,{className:"w-4 h-4 mr-2"}),"Create Article NFT"]})}),(0,a.jsxs)(D,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(E,{children:[(0,a.jsx)(B,{children:"Create New Article NFT"}),(0,a.jsx)(L,{children:"Mint your article as an NFT on the Internet Computer blockchain"})]}),(0,a.jsxs)("div",{className:"space-y-6 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(es,{htmlFor:"title",children:"Title *"}),(0,a.jsx)(k,{id:"title",value:ew.title,onChange:e=>ek({...ew,title:e.target.value}),placeholder:"Enter article title",className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(es,{htmlFor:"excerpt",children:"Excerpt"}),(0,a.jsx)(C,{id:"excerpt",value:ew.excerpt,onChange:e=>ek({...ew,excerpt:e.target.value}),placeholder:"Brief description of your article (optional - will auto-generate from content if empty)",rows:3,className:"w-full resize-none"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(es,{htmlFor:"content",children:"Content *"}),(0,a.jsx)(C,{id:"content",value:ew.content,onChange:e=>ek({...ew,content:e.target.value}),placeholder:"Write your article content here...",rows:8,className:"w-full resize-none"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(es,{children:"Article Image"}),ew.image?(0,a.jsxs)("div",{className:"relative border rounded-lg overflow-hidden",children:[(0,a.jsx)("img",{src:ew.image||"/placeholder.svg",alt:"Article preview",className:"w-full h-48 object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsxs)(m,{type:"button",variant:"destructive",size:"sm",onClick:()=>{ek(e=>({...e,image:null}))},className:"gap-2",children:[(0,a.jsx)(T.Z,{className:"w-4 h-4"}),"Remove Image"]})})]}):(0,a.jsxs)("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center hover:border-muted-foreground/50 transition-colors",children:[(0,a.jsx)(eb.Z,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload an image for your article"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 10MB"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{console.log("File input triggered",e.target.files);let s=e.target.files[0];if(s){if(console.log("File selected:",s.name,s.size,s.type),s.size>10485760){alert("File size must be less than 10MB");return}if(!s.type.startsWith("image/")){alert("Please select a valid image file");return}let e=new FileReader;e.onload=e=>{console.log("File loaded successfully"),ek(s=>({...s,image:e.target.result}))},e.onerror=()=>{console.error("Error reading file"),alert("Error reading file")},e.readAsDataURL(s)}else console.log("No file selected")},className:"hidden",id:"image-upload"}),(0,a.jsx)("label",{htmlFor:"image-upload",children:(0,a.jsx)(m,{type:"button",variant:"outline",size:"sm",className:"cursor-pointer",asChild:!0,children:(0,a.jsxs)("span",{children:[(0,a.jsx)(eb.Z,{className:"w-4 h-4 mr-2"}),"Choose Image"]})})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(es,{htmlFor:"category",children:"Category"}),(0,a.jsx)("select",{id:"category",value:ew.category,onChange:e=>ek({...ew,category:e.target.value}),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:eP.slice(1).map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(es,{htmlFor:"price",children:"Price (ICP) *"}),(0,a.jsx)(k,{id:"price",type:"number",step:"0.1",min:"0",value:ew.price,onChange:e=>ek({...ew,price:e.target.value}),placeholder:"0.0",className:"w-full"})]})]})]}),(0,a.jsxs)(O,{className:"gap-2",children:[(0,a.jsx)(m,{variant:"outline",onClick:()=>{V(!1),ek({title:"",content:"",excerpt:"",price:"",category:"Technology",image:null})},children:"Cancel"}),(0,a.jsxs)(m,{onClick:eC,disabled:!ew.title.trim()||!ew.content.trim()||!ew.price,children:[(0,a.jsx)(ev.Z,{className:"w-4 h-4 mr-2"}),"Mint Article NFT"]})]})]})]})]}),(0,a.jsxs)(el,{defaultValue:"created",className:"w-full",children:[(0,a.jsxs)(ei,{className:"grid w-full grid-cols-2",children:[(0,a.jsxs)(en,{value:"created",children:["Created Articles (",eT.length,")"]}),(0,a.jsxs)(en,{value:"owned",children:["Owned Articles (",eF.length,")"]})]}),(0,a.jsx)(ec,{value:"created",className:"space-y-6",children:eT.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:eT.map(e=>eR(e,!0))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(N.Z,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No articles created yet"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Start creating your first article NFT"}),(0,a.jsxs)(m,{onClick:()=>V(!0),children:[(0,a.jsx)(ev.Z,{className:"w-4 h-4 mr-2"}),"Create Article NFT"]})]})}),(0,a.jsx)(ec,{value:"owned",className:"space-y-6",children:eF.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:eF.map(e=>eR(e))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(ex.Z,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No articles owned yet"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Browse and purchase articles to build your collection"}),(0,a.jsxs)(m,{onClick:()=>R("search"),children:[(0,a.jsx)(ef.Z,{className:"w-4 h-4 mr-2"}),"Browse Articles"]})]})})]})]})]})}),(0,a.jsx)(F,{open:U,onOpenChange:eI,children:(0,a.jsxs)(D,{className:"max-w-md",children:[(0,a.jsx)(E,{children:(0,a.jsxs)(B,{className:"flex items-center gap-2",children:[(0,a.jsx)(ed.Z,{className:"w-5 h-5"}),"confirm"===et&&"Confirm Purchase","processing"===et&&"Processing Payment","success"===et&&"Purchase Successful"]})}),"confirm"===et&&Q&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:Q.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["by ",Q.author]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-primary",children:[Q.price," ICP"]}),(0,a.jsx)(j,{children:Q.category})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Article Price:"}),(0,a.jsxs)("span",{children:[Q.price," ICP"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Network Fee:"}),(0,a.jsx)("span",{children:"0.001 ICP"})]}),(0,a.jsx)(ea,{}),(0,a.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{children:[(Q.price+.001).toFixed(3)," ICP"]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Current Balance:"}),(0,a.jsxs)("span",{children:[l," ICP"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"After Purchase:"}),(0,a.jsxs)("span",{children:[(Number.parseFloat(l)-Q.price-.001).toFixed(3)," ICP"]})]})]})]}),"processing"===et&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:"Processing Payment..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please wait while we confirm your transaction"})]}),"success"===et&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eo.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-green-600",children:"Payment Successful!"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"You now own this article NFT"})]}),(0,a.jsxs)(O,{children:["confirm"===et&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{variant:"outline",onClick:eI,children:"Cancel"}),(0,a.jsxs)(m,{onClick:eZ,children:[(0,a.jsx)(ed.Z,{className:"w-4 h-4 mr-2"}),"Pay ",null==Q?void 0:Q.price," ICP"]})]}),"success"===et&&(0,a.jsxs)(m,{onClick:eI,className:"w-full",children:[(0,a.jsx)(em.Z,{className:"w-4 h-4 mr-2"}),"Read Article"]})]})]})})]})}var ek=t(5118),eC=t(6744),eA=t(8620),eS=t(8149),eZ=t(7315),eI=t(7419),ez=t(7746),eT=t(7737),eF=t(1584),eP=t(6031);function eR(e){var s,t,l;let{article:i,onClose:n}=e,[c,d]=(0,r.useState)(0),[o,x]=(0,r.useState)(0),[u,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)([{id:1,author:"Alex Chen",authorAvatar:"/placeholder.svg?height=32&width=32",content:"This is a fantastic article! Really opened my eyes to the potential of decentralized publishing.",timestamp:"2 hours ago",likes:12,isLiked:!1,rating:5,replies:[{id:2,author:"Sarah Kim",authorAvatar:"/placeholder.svg?height=32&width=32",content:"I completely agree! The future of content creation is definitely heading in this direction.",timestamp:"1 hour ago",likes:5,isLiked:!0}]},{id:3,author:"Mike Johnson",authorAvatar:"/placeholder.svg?height=32&width=32",content:"Great insights on blockchain technology. Would love to see more articles like this covering the technical aspects.",timestamp:"4 hours ago",likes:8,isLiked:!1,rating:4,replies:[]}]),[f,b]=(0,r.useState)(""),[y,w]=(0,r.useState)(null),[k,C]=(0,r.useState)(""),[A,z]=(0,r.useState)("newest"),[F,P]=(0,r.useState)(""),[R,q]=(0,r.useState)(!1),[D,E]=(0,r.useState)(!1),[O,B]=(0,r.useState)(""),[L,V]=(0,r.useState)(!1);if(!i)return null;let Y=async()=>{q(!0),B("");try{var e,s,t,a;let r="\n        Title: ".concat(i.title,"\n        \n        Content: ").concat(i.content,"\n        \n        Category: ").concat(i.category,"\n      "),l=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=".concat("AIzaSyDGrepRgEhtOlRfEXcaWNCiqKOO6T1x-fg"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Please provide a comprehensive summary of the following article. Include:\n                1. Main key points (3-5 bullet points)\n                2. Core message or thesis\n                3. Important insights or conclusions\n                4. Target audience relevance\n                \n                Format the response in a clear, structured way with headings and bullet points.\n                \n                Article to summarize:\n                ".concat(r)}]}],generationConfig:{temperature:.7,topP:.8,topK:40,maxOutputTokens:1024}})});if(!l.ok){let e=await l.json();throw Error((null===(a=e.error)||void 0===a?void 0:a.message)||"Failed to generate summary")}let n=await l.json(),c=(null===(t=n.candidates[0])||void 0===t?void 0:null===(s=t.content)||void 0===s?void 0:null===(e=s.parts[0])||void 0===e?void 0:e.text)||"No summary generated";P(c),E(!0)}catch(e){console.error("Error generating summary:",e),B(e.message||"Failed to generate summary. Please try again.")}finally{q(!1)}},_=async()=>{try{await navigator.clipboard.writeText(F),V(!0),setTimeout(()=>V(!1),2e3)}catch(e){console.error("Failed to copy summary:",e)}},U=e=>{d(e),h(!0)},M=e=>({1:"Poor",2:"Fair",3:"Good",4:"Great",5:"Excellent"})[e]||"",G=e=>({1:"text-red-500",2:"text-orange-500",3:"text-yellow-500",4:"text-blue-500",5:"text-green-500"})[e]||"text-gray-400",W=e=>{if(!k.trim())return;let s={id:Date.now(),author:"You",authorAvatar:"/placeholder.svg?height=32&width=32",content:k,timestamp:"now",likes:0,isLiked:!1};g(p.map(t=>t.id===e?{...t,replies:[...t.replies,s]}:t)),C(""),w(null)},J=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;g(p.map(a=>s&&a.id===t?{...a,replies:a.replies.map(s=>s.id===e?{...s,isLiked:!s.isLiked,likes:s.isLiked?s.likes-1:s.likes+1}:s)}:a.id===e?{...a,isLiked:!a.isLiked,likes:a.isLiked?a.likes-1:a.likes+1}:a))},K=[...p].sort((e,s)=>"newest"===A?s.id-e.id:"oldest"===A?e.id-s.id:"most-liked"===A?s.likes-e.likes:0),H=()=>0===p.length?0:(p.reduce((e,s)=>e+s.rating,0)/p.length).toFixed(1);return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:(0,a.jsx)(N.Z,{className:"h-4 w-4 text-primary-foreground"})}),(0,a.jsx)("span",{className:"text-xl font-bold tracking-tight",children:"pArticleNFT"}),(0,a.jsxs)(j,{variant:"secondary",className:"ml-2 flex items-center gap-1 px-2 py-0.5 text-sm",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3"}),"Decentralized"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:Y,disabled:R,className:"gap-2",children:[R?(0,a.jsx)(ek.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(eC.Z,{className:"w-4 h-4"}),R?"Generating...":"AI Summary"]}),(0,a.jsxs)(m,{variant:"outline",onClick:n,children:[(0,a.jsx)(eA.Z,{className:"w-4 h-4 mr-2"}),"Back to Articles"]})]})]})}),D&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-background rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eC.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"AI Generated Summary"}),(0,a.jsx)(j,{variant:"secondary",className:"text-xs",children:"Powered by Gemini"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:_,className:"gap-2",children:[L?(0,a.jsx)(eS.Z,{className:"w-4 h-4"}):(0,a.jsx)(eZ.Z,{className:"w-4 h-4"}),L?"Copied!":"Copy"]}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>E(!1),children:(0,a.jsx)(T.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsx)("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:(0,a.jsxs)("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 p-4 rounded-lg border border-blue-200/50 dark:border-blue-800/50 mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-0",children:[(0,a.jsx)("strong",{children:"Article:"})," ",i.title]})}),(0,a.jsx)("div",{className:"whitespace-pre-wrap leading-relaxed",children:F})]})})]})}),O&&(0,a.jsx)("div",{className:"fixed top-20 right-4 z-50 bg-destructive text-destructive-foreground p-4 rounded-lg shadow-lg max-w-md",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("p",{className:"text-sm",children:O}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>B(""),className:"h-auto p-1",children:(0,a.jsx)(T.Z,{className:"w-4 h-4"})})]})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(S,{className:"w-12 h-12",children:[(0,a.jsx)(Z,{src:i.authorAvatar||"/placeholder.svg"}),(0,a.jsx)(I,{children:null===(s=i.author)||void 0===s?void 0:s[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:["by ",i.author]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("span",{children:i.readTime}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:i.createdAt})]})]})]}),(0,a.jsx)(j,{variant:"secondary",className:"text-sm",children:i.category})]}),(0,a.jsx)("h1",{className:"text-4xl font-bold leading-tight",children:i.title}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground leading-relaxed",children:i.excerpt}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(em.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[i.views," views"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eh.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[i.likes," likes"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ep.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-primary",children:[i.price," ICP"]})]})]})]}),(0,a.jsx)(ea,{}),i.image&&(0,a.jsx)("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:(0,a.jsx)("img",{src:i.image||"/placeholder.svg",alt:i.title,className:"w-full h-full object-cover",onError:e=>{e.target.src="/placeholder.svg?height=400&width=800"}})}),(0,a.jsx)("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:(0,a.jsx)("div",{className:"space-y-6 text-lg leading-relaxed",children:null===(t=i.content)||void 0===t?void 0:t.split("\n").map((e,s)=>(0,a.jsx)("p",{className:"text-foreground",children:e},s))})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(ea,{}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eI.Z,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"Comments"}),(0,a.jsx)(j,{variant:"secondary",children:p.reduce((e,s)=>e+1+s.replies.length,0)})]}),(0,a.jsxs)("select",{value:A,onChange:e=>z(e.target.value),className:"px-3 py-1 text-sm border rounded-md bg-background",children:[(0,a.jsx)("option",{value:"newest",children:"Newest first"}),(0,a.jsx)("option",{value:"oldest",children:"Oldest first"}),(0,a.jsx)("option",{value:"most-liked",children:"Most liked"})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20 rounded-lg border border-amber-200/50 dark:border-amber-800/50",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:H()}),(0,a.jsx)("div",{className:"flex items-center gap-1 justify-center",children:[1,2,3,4,5].map(e=>(0,a.jsx)(ez.Z,{className:"w-4 h-4 ".concat(e<=Math.round(H())?"fill-current text-amber-500":"text-gray-300")},e))}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[p.length," ratings"]})]}),(0,a.jsx)("div",{className:"flex-1 space-y-1",children:[5,4,3,2,1].map(e=>{let s=p.filter(s=>s.rating===e).length,t=p.length,r=t>0?s/t*100:0;return(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,a.jsxs)("span",{className:"w-8",children:[e,"★"]}),(0,a.jsx)("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(G(e).replace("text-","bg-")),style:{width:"".concat(r,"%")}})}),(0,a.jsx)("span",{className:"w-8 text-muted-foreground",children:s})]},e)})})]})}),(0,a.jsx)("div",{className:"space-y-4 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 rounded-xl border border-blue-200/50 dark:border-blue-800/50",children:u?(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(S,{className:"w-8 h-8",children:[(0,a.jsx)(Z,{src:"/placeholder.svg?height=32&width=32"}),(0,a.jsx)(I,{children:"You"})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Your rating:"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(e=>(0,a.jsx)(ez.Z,{className:"w-4 h-4 ".concat(e<=c?"fill-current ".concat(G(c)):"text-gray-300")},e)),(0,a.jsx)("span",{className:"ml-2 text-sm font-semibold ".concat(G(c)),children:M(c)})]}),(0,a.jsx)("button",{onClick:()=>{h(!1),d(0)},className:"text-xs text-muted-foreground hover:text-primary transition-colors",children:"Change rating"})]}),(0,a.jsx)("textarea",{value:f,onChange:e=>b(e.target.value),placeholder:"Share your thoughts about this article...",className:"w-full p-3 text-sm border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary/20 bg-background",rows:3}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(m,{onClick:()=>{f.trim()&&u&&(g([{id:Date.now(),author:"You",authorAvatar:"/placeholder.svg?height=32&width=32",content:f,timestamp:"now",likes:0,isLiked:!1,rating:c,replies:[]},...p]),b(""))},disabled:!f.trim(),size:"sm",className:"gap-2",children:[(0,a.jsx)(eT.Z,{className:"w-4 h-4"}),"Post Comment"]})})]})]}):(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,a.jsx)(eC.Z,{className:"w-5 h-5 text-purple-500"}),(0,a.jsx)("h4",{className:"text-lg font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Rate this article first!"}),(0,a.jsx)(eC.Z,{className:"w-5 h-5 text-purple-500"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-6",children:"Share your experience by rating this article before leaving a comment"}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[1,2,3,4,5].map(e=>(0,a.jsxs)("button",{onClick:()=>U(e),onMouseEnter:()=>x(e),onMouseLeave:()=>x(0),className:"group relative transition-all duration-200 hover:scale-110",children:[(0,a.jsx)(ez.Z,{className:"w-8 h-8 transition-all duration-200 ".concat(e<=(o||c)?"fill-current ".concat(G(o||c)," drop-shadow-lg"):"text-gray-300 hover:text-gray-400")}),e<=(o||c)&&(0,a.jsx)("div",{className:"absolute inset-0 animate-pulse",children:(0,a.jsx)(ez.Z,{className:"w-8 h-8 ".concat(G(o||c)," opacity-30")})})]},e))}),(o||c)>0&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("span",{className:"font-semibold ".concat(G(o||c)),children:M(o||c)}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",o||c,"/5 stars)"]})]})]})}),(0,a.jsx)("div",{className:"space-y-4",children:K.map(e=>(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex gap-3 p-4 bg-background border rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsxs)(S,{className:"w-8 h-8",children:[(0,a.jsx)(Z,{src:e.authorAvatar||"/placeholder.svg"}),(0,a.jsx)(I,{children:e.author[0]})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.author}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(s=>(0,a.jsx)(ez.Z,{className:"w-3 h-3 ".concat(s<=e.rating?"fill-current ".concat(G(e.rating)):"text-gray-300")},s)),(0,a.jsx)("span",{className:"text-xs font-medium ".concat(G(e.rating)),children:M(e.rating)})]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.timestamp})]}),(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{onClick:()=>J(e.id),className:"flex items-center gap-1 text-xs hover:text-primary transition-colors ".concat(e.isLiked?"text-primary":"text-muted-foreground"),children:[(0,a.jsx)(eF.Z,{className:"w-3 h-3 ".concat(e.isLiked?"fill-current":"")}),e.likes]}),(0,a.jsxs)("button",{onClick:()=>w(y===e.id?null:e.id),className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary transition-colors",children:[(0,a.jsx)(eP.Z,{className:"w-3 h-3"}),"Reply"]})]})]})]}),y===e.id&&(0,a.jsxs)("div",{className:"ml-11 flex gap-3 p-3 bg-muted/30 rounded-lg",children:[(0,a.jsxs)(S,{className:"w-6 h-6",children:[(0,a.jsx)(Z,{src:"/placeholder.svg?height=24&width=24"}),(0,a.jsx)(I,{className:"text-xs",children:"You"})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("textarea",{value:k,onChange:e=>C(e.target.value),placeholder:"Reply to ".concat(e.author,"..."),className:"w-full p-2 text-sm border rounded resize-none focus:outline-none focus:ring-2 focus:ring-primary/20 bg-background",rows:2}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(m,{onClick:()=>W(e.id),disabled:!k.trim(),size:"sm",variant:"outline",className:"text-xs h-7",children:"Reply"}),(0,a.jsx)(m,{onClick:()=>{w(null),C("")},size:"sm",variant:"ghost",className:"text-xs h-7",children:"Cancel"})]})]})]}),e.replies.length>0&&(0,a.jsx)("div",{className:"ml-11 space-y-3",children:e.replies.map(s=>(0,a.jsxs)("div",{className:"flex gap-3 p-3 bg-muted/30 rounded-lg",children:[(0,a.jsxs)(S,{className:"w-6 h-6",children:[(0,a.jsx)(Z,{src:s.authorAvatar||"/placeholder.svg"}),(0,a.jsx)(I,{className:"text-xs",children:s.author[0]})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-xs",children:s.author}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:s.timestamp})]}),(0,a.jsx)("p",{className:"text-xs leading-relaxed",children:s.content}),(0,a.jsxs)("button",{onClick:()=>J(s.id,!0,e.id),className:"flex items-center gap-1 text-xs hover:text-primary transition-colors ".concat(s.isLiked?"text-primary":"text-muted-foreground"),children:[(0,a.jsx)(eF.Z,{className:"w-3 h-3 ".concat(s.isLiked?"fill-current":"")}),s.likes]})]})]},s.id))})]},e.id))}),0===p.length&&(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(eI.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,a.jsx)("p",{children:"No comments yet. Be the first to share your thoughts!"})]})]})]}),(0,a.jsx)(ea,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(S,{className:"w-10 h-10",children:[(0,a.jsx)(Z,{src:i.authorAvatar||"/placeholder.svg"}),(0,a.jsx)(I,{children:null===(l=i.author)||void 0===l?void 0:l[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:i.author}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Article Author"})]})]}),(0,a.jsxs)(m,{variant:"outline",onClick:n,children:[(0,a.jsx)(eA.Z,{className:"w-4 h-4 mr-2"}),"Back to Articles"]})]})]})})]})}var eq=t(2949);let eD="ic"===(eq.env.DFX_NETWORK||"ic")?"https://identity.ic0.app/":"http://".concat(eq.env.CANISTER_ID_INTERNET_IDENTITY||"rdmx6-jaaaa-aaaaa-aaadq-cai",".localhost:4943");function eE(){let[e,s]=(0,r.useState)(!1),[l,i]=(0,r.useState)(""),[n,c]=(0,r.useState)("0"),[d,o]=(0,r.useState)("home"),[u,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f(!0);let e=localStorage.getItem("currentView"),a="true"===localStorage.getItem("isConnected"),r=localStorage.getItem("principal");a&&e&&(o(e),s(!0),r&&i(r),c("15.7")),(async()=>{let{AuthClient:e}=await t.e(413).then(t.bind(t,3413)),a=await e.create();if(await a.isAuthenticated()){let e=a.getIdentity().getPrincipal().toString(),t=localStorage.getItem("principal");"true"===localStorage.getItem("isConnected")&&t===e&&(i(e),s(!0),c("15.7"),"home"===d&&o("main"))}})()},[]),(0,r.useEffect)(()=>{e&&localStorage.setItem("currentView",d)},[d,e]);let k=async()=>{try{let{AuthClient:e}=await t.e(413).then(t.bind(t,3413)),a=await e.create();if(await a.isAuthenticated()){let e=a.getIdentity().getPrincipal().toString();localStorage.setItem("isConnected","true"),localStorage.setItem("principal",e),localStorage.setItem("currentView","main"),s(!0),i(e),c("15.7"),o("main");return}await a.login({identityProvider:eD,onSuccess:()=>{let e=a.getIdentity().getPrincipal().toString();localStorage.setItem("isConnected","true"),localStorage.setItem("principal",e),localStorage.setItem("currentView","main"),s(!0),i(e),c("15.7"),o("main")},onError:e=>{console.error("Internet Identity login failed:",e)}})}catch(e){console.error("Failed to connect with Internet Identity:",e)}},C=async()=>{try{let{AuthClient:e}=await t.e(413).then(t.bind(t,3413)),a=await e.create();await a.isAuthenticated()&&await a.logout(),localStorage.removeItem("isConnected"),localStorage.removeItem("principal"),localStorage.removeItem("currentView"),localStorage.removeItem("currentPage"),s(!1),i(""),c("0"),o("home"),h(null)}catch(e){console.error("Failed to disconnect:",e),s(!1),i(""),c("0"),o("home"),h(null)}};return p?"home"===d?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:(0,a.jsx)(N.Z,{className:"h-4 w-4 text-primary-foreground"})}),(0,a.jsx)("span",{className:"text-xl font-bold tracking-tight",children:"pArticleNFT"}),(0,a.jsxs)(j,{variant:"secondary",className:"ml-2 flex items-center gap-1 px-2 py-0.5 text-sm",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3"}),"Decentralized"]})]}),(0,a.jsxs)(m,{onClick:k,children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Connect InternetIdentity"]})]})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:(0,a.jsxs)("div",{className:"max-w-2xl",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-20 h-20 mx-auto mb-6 rounded-full bg-primary/10",children:(0,a.jsx)(y.Z,{className:"w-10 h-10 text-primary"})}),(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to ArticleNFT"}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground mb-8",children:"The decentralized platform for publishing, owning, and trading article NFTs on the Internet Computer"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)(x,{children:(0,a.jsxs)(g,{className:"pt-6",children:[(0,a.jsx)(N.Z,{className:"w-8 h-8 text-primary mb-3"}),(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Publish Articles"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Create and mint your articles as NFTs with full ownership rights"})]})}),(0,a.jsx)(x,{children:(0,a.jsxs)(g,{className:"pt-6",children:[(0,a.jsx)(w.Z,{className:"w-8 h-8 text-primary mb-3"}),(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Trade & Collect"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Buy, sell, and collect unique articles from talented writers"})]})}),(0,a.jsx)(x,{children:(0,a.jsxs)(g,{className:"pt-6",children:[(0,a.jsx)(v.Z,{className:"w-8 h-8 text-primary mb-3"}),(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Decentralized"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Built on Internet Computer for true decentralization and ownership"})]})})]}),(0,a.jsxs)(m,{size:"lg",onClick:k,children:[(0,a.jsx)(b.Z,{className:"w-5 h-5 mr-2"}),"Connect InternetIdentity to Get Started"]})]})})})]}):"reader"===d&&u?(0,a.jsx)(eR,{article:u,onClose:()=>{h(null),o("main")}}):(0,a.jsx)(ew,{isConnected:e,userPrincipal:l,balance:n,setBalance:c,onDisconnect:C,onOpenArticleReader:e=>{h(e),o("reader")}}):null}}},function(e){e.O(0,[762,115,364,744],function(){return e(e.s=9162)}),_N_E=e.O()}]);